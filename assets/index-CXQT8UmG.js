var kV=Object.defineProperty;var Oj=e=>{throw TypeError(e)};var EV=(e,t,r)=>t in e?kV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pj=(e,t,r)=>EV(e,typeof t!="symbol"?t+"":t,r),rw=(e,t,r)=>t.has(e)||Oj("Cannot "+r);var ke=(e,t,r)=>(rw(e,t,"read from private field"),r?r.call(e):t.get(e)),Qt=(e,t,r)=>t.has(e)?Oj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),jt=(e,t,r,n)=>(rw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Wn=(e,t,r)=>(rw(e,t,"access private method"),r);var rg=(e,t,r,n)=>({set _(a){jt(e,t,a,r)},get _(){return ke(e,t,n)}});function TV(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AM={exports:{}},o1={},OM={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=Symbol.for("react.element"),NV=Symbol.for("react.portal"),CV=Symbol.for("react.fragment"),jV=Symbol.for("react.strict_mode"),AV=Symbol.for("react.profiler"),OV=Symbol.for("react.provider"),PV=Symbol.for("react.context"),RV=Symbol.for("react.forward_ref"),IV=Symbol.for("react.suspense"),DV=Symbol.for("react.memo"),MV=Symbol.for("react.lazy"),Rj=Symbol.iterator;function $V(e){return e===null||typeof e!="object"?null:(e=Rj&&e[Rj]||e["@@iterator"],typeof e=="function"?e:null)}var PM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RM=Object.assign,IM={};function Df(e,t,r){this.props=e,this.context=t,this.refs=IM,this.updater=r||PM}Df.prototype.isReactComponent={};Df.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Df.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DM(){}DM.prototype=Df.prototype;function FE(e,t,r){this.props=e,this.context=t,this.refs=IM,this.updater=r||PM}var LE=FE.prototype=new DM;LE.constructor=FE;RM(LE,Df.prototype);LE.isPureReactComponent=!0;var Ij=Array.isArray,MM=Object.prototype.hasOwnProperty,BE={current:null},$M={key:!0,ref:!0,__self:!0,__source:!0};function FM(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)MM.call(t,n)&&!$M.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:xm,type:e,key:s,ref:i,props:a,_owner:BE.current}}function FV(e,t){return{$$typeof:xm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function UE(e){return typeof e=="object"&&e!==null&&e.$$typeof===xm}function LV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dj=/\/+/g;function nw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LV(""+e.key):t.toString(36)}function jv(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case xm:case NV:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+nw(i,0):n,Ij(a)?(r="",e!=null&&(r=e.replace(Dj,"$&/")+"/"),jv(a,t,r,"",function(u){return u})):a!=null&&(UE(a)&&(a=FV(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Dj,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Ij(e))for(var o=0;o<e.length;o++){s=e[o];var c=n+nw(s,o);i+=jv(s,t,r,c,a)}else if(c=$V(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=n+nw(s,o++),i+=jv(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ag(e,t,r){if(e==null)return e;var n=[],a=0;return jv(e,n,"","",function(s){return t.call(r,s,a++)}),n}function BV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ba={current:null},Av={transition:null},UV={ReactCurrentDispatcher:ba,ReactCurrentBatchConfig:Av,ReactCurrentOwner:BE};function LM(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:ag,forEach:function(e,t,r){ag(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ag(e,function(){t++}),t},toArray:function(e){return ag(e,function(t){return t})||[]},only:function(e){if(!UE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=Df;zt.Fragment=CV;zt.Profiler=AV;zt.PureComponent=FE;zt.StrictMode=jV;zt.Suspense=IV;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UV;zt.act=LM;zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=RM({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=BE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)MM.call(t,c)&&!$M.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:xm,type:e.type,key:a,ref:s,props:n,_owner:i}};zt.createContext=function(e){return e={$$typeof:PV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OV,_context:e},e.Consumer=e};zt.createElement=FM;zt.createFactory=function(e){var t=FM.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:RV,render:e}};zt.isValidElement=UE;zt.lazy=function(e){return{$$typeof:MV,_payload:{_status:-1,_result:e},_init:BV}};zt.memo=function(e,t){return{$$typeof:DV,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=Av.transition;Av.transition={};try{e()}finally{Av.transition=t}};zt.unstable_act=LM;zt.useCallback=function(e,t){return ba.current.useCallback(e,t)};zt.useContext=function(e){return ba.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return ba.current.useDeferredValue(e)};zt.useEffect=function(e,t){return ba.current.useEffect(e,t)};zt.useId=function(){return ba.current.useId()};zt.useImperativeHandle=function(e,t,r){return ba.current.useImperativeHandle(e,t,r)};zt.useInsertionEffect=function(e,t){return ba.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return ba.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return ba.current.useMemo(e,t)};zt.useReducer=function(e,t,r){return ba.current.useReducer(e,t,r)};zt.useRef=function(e){return ba.current.useRef(e)};zt.useState=function(e){return ba.current.useState(e)};zt.useSyncExternalStore=function(e,t,r){return ba.current.useSyncExternalStore(e,t,r)};zt.useTransition=function(){return ba.current.useTransition()};zt.version="18.3.1";OM.exports=zt;var w=OM.exports;const U=dr(w),zE=TV({__proto__:null,default:U},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zV=w,WV=Symbol.for("react.element"),HV=Symbol.for("react.fragment"),VV=Object.prototype.hasOwnProperty,GV=zV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qV={key:!0,ref:!0,__self:!0,__source:!0};function BM(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)VV.call(t,n)&&!qV.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:WV,type:e,key:s,ref:i,props:a,_owner:GV.current}}o1.Fragment=HV;o1.jsx=BM;o1.jsxs=BM;AM.exports=o1;var l=AM.exports,UM={exports:{}},Ja={},zM={exports:{}},WM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,O){var Z=H.length;H.push(O);e:for(;0<Z;){var J=Z-1>>>1,P=H[J];if(0<a(P,O))H[J]=O,H[Z]=P,Z=J;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var O=H[0],Z=H.pop();if(Z!==O){H[0]=Z;e:for(var J=0,P=H.length,G=P>>>1;J<G;){var B=2*(J+1)-1,z=H[B],ae=B+1,V=H[ae];if(0>a(z,Z))ae<P&&0>a(V,z)?(H[J]=V,H[ae]=Z,J=ae):(H[J]=z,H[B]=Z,J=B);else if(ae<P&&0>a(V,Z))H[J]=V,H[ae]=Z,J=ae;else break e}}return O}function a(H,O){var Z=H.sortIndex-O.sortIndex;return Z!==0?Z:H.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=H)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function _(H){if(m=!1,x(H),!g)if(r(c)!==null)g=!0,W(S);else{var O=r(u);O!==null&&K(_,O.startTime-H)}}function S(H,O){g=!1,m&&(m=!1,y(N),N=-1),p=!0;var Z=h;try{for(x(O),f=r(c);f!==null&&(!(f.expirationTime>O)||H&&!C());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var P=J(f.expirationTime<=O);O=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&n(c),x(O)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var B=r(u);B!==null&&K(_,B.startTime-O),G=!1}return G}finally{f=null,h=Z,p=!1}}var E=!1,k=null,N=-1,T=5,A=-1;function C(){return!(e.unstable_now()-A<T)}function j(){if(k!==null){var H=e.unstable_now();A=H;var O=!0;try{O=k(!0,H)}finally{O?R():(E=!1,k=null)}}else E=!1}var R;if(typeof b=="function")R=function(){b(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=j,R=function(){M.postMessage(null)}}else R=function(){v(j,0)};function W(H){k=H,E||(E=!0,R())}function K(H,O){N=v(function(){H(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(S))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var Z=h;h=O;try{return H()}finally{h=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,O){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=h;h=H;try{return O()}finally{h=Z}},e.unstable_scheduleCallback=function(H,O,Z){var J=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?J+Z:J):Z=J,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Z+P,H={id:d++,callback:O,priorityLevel:H,startTime:Z,expirationTime:P,sortIndex:-1},Z>J?(H.sortIndex=Z,t(u,H),r(c)===null&&H===r(u)&&(m?(y(N),N=-1):m=!0,K(_,Z-J))):(H.sortIndex=P,t(c,H),g||p||(g=!0,W(S))),H},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(H){var O=h;return function(){var Z=h;h=O;try{return H.apply(this,arguments)}finally{h=Z}}}})(WM);zM.exports=WM;var KV=zM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XV=w,Xa=KV;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HM=new Set,Wp={};function hu(e,t){Vd(e,t),Vd(e+"Capture",t)}function Vd(e,t){for(Wp[e]=t,e=0;e<t.length;e++)HM.add(t[e])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d2=Object.prototype.hasOwnProperty,YV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mj={},$j={};function JV(e){return d2.call($j,e)?!0:d2.call(Mj,e)?!1:YV.test(e)?$j[e]=!0:(Mj[e]=!0,!1)}function QV(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZV(e,t,r,n){if(t===null||typeof t>"u"||QV(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wa(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zn[e]=new wa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zn[t]=new wa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zn[e]=new wa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zn[e]=new wa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zn[e]=new wa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zn[e]=new wa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zn[e]=new wa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zn[e]=new wa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zn[e]=new wa(e,5,!1,e.toLowerCase(),null,!1,!1)});var WE=/[\-:]([a-z])/g;function HE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(WE,HE);zn[t]=new wa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(WE,HE);zn[t]=new wa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(WE,HE);zn[t]=new wa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zn[e]=new wa(e,1,!1,e.toLowerCase(),null,!1,!1)});zn.xlinkHref=new wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zn[e]=new wa(e,1,!1,e.toLowerCase(),null,!0,!0)});function VE(e,t,r,n){var a=zn.hasOwnProperty(t)?zn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZV(t,r,a,n)&&(r=null),n||a===null?JV(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Co=XV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sg=Symbol.for("react.element"),Zu=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),GE=Symbol.for("react.strict_mode"),f2=Symbol.for("react.profiler"),VM=Symbol.for("react.provider"),GM=Symbol.for("react.context"),qE=Symbol.for("react.forward_ref"),h2=Symbol.for("react.suspense"),p2=Symbol.for("react.suspense_list"),KE=Symbol.for("react.memo"),Go=Symbol.for("react.lazy"),qM=Symbol.for("react.offscreen"),Fj=Symbol.iterator;function hh(e){return e===null||typeof e!="object"?null:(e=Fj&&e[Fj]||e["@@iterator"],typeof e=="function"?e:null)}var Ir=Object.assign,aw;function Kh(e){if(aw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);aw=t&&t[1]||""}return`
`+aw+e}var sw=!1;function iw(e,t){if(!e||sw)return"";sw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{sw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Kh(e):""}function eG(e){switch(e.tag){case 5:return Kh(e.type);case 16:return Kh("Lazy");case 13:return Kh("Suspense");case 19:return Kh("SuspenseList");case 0:case 2:case 15:return e=iw(e.type,!1),e;case 11:return e=iw(e.type.render,!1),e;case 1:return e=iw(e.type,!0),e;default:return""}}function m2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ed:return"Fragment";case Zu:return"Portal";case f2:return"Profiler";case GE:return"StrictMode";case h2:return"Suspense";case p2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case GM:return(e.displayName||"Context")+".Consumer";case VM:return(e._context.displayName||"Context")+".Provider";case qE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KE:return t=e.displayName||null,t!==null?t:m2(e.type)||"Memo";case Go:t=e._payload,e=e._init;try{return m2(e(t))}catch{}}return null}function tG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m2(t);case 8:return t===GE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rG(e){var t=KM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ig(e){e._valueTracker||(e._valueTracker=rG(e))}function XM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=KM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function g2(e,t){var r=t.checked;return Ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Lj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YM(e,t){t=t.checked,t!=null&&VE(e,"checked",t,!1)}function v2(e,t){YM(e,t);var r=Pl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x2(e,t.type,r):t.hasOwnProperty("defaultValue")&&x2(e,t.type,Pl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function x2(e,t,r){(t!=="number"||Yv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xh=Array.isArray;function vd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function y2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ie(92));if(Xh(r)){if(1<r.length)throw Error(Ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pl(r)}}function JM(e,t){var r=Pl(t.value),n=Pl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var og,ZM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(og=og||document.createElement("div"),og.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=og.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var up={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nG=["Webkit","ms","Moz","O"];Object.keys(up).forEach(function(e){nG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),up[t]=up[e]})});function e5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||up.hasOwnProperty(e)&&up[e]?(""+t).trim():t+"px"}function t5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=e5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var aG=Ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w2(e,t){if(t){if(aG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function _2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S2=null;function XE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var k2=null,xd=null,yd=null;function Wj(e){if(e=wm(e)){if(typeof k2!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=f1(t),k2(e.stateNode,e.type,t))}}function r5(e){xd?yd?yd.push(e):yd=[e]:xd=e}function n5(){if(xd){var e=xd,t=yd;if(yd=xd=null,Wj(e),t)for(e=0;e<t.length;e++)Wj(t[e])}}function a5(e,t){return e(t)}function s5(){}var ow=!1;function i5(e,t,r){if(ow)return e(t,r);ow=!0;try{return a5(e,t,r)}finally{ow=!1,(xd!==null||yd!==null)&&(s5(),n5())}}function Vp(e,t){var r=e.stateNode;if(r===null)return null;var n=f1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ie(231,t,typeof r));return r}var E2=!1;if(xo)try{var ph={};Object.defineProperty(ph,"passive",{get:function(){E2=!0}}),window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{E2=!1}function sG(e,t,r,n,a,s,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var dp=!1,Jv=null,Qv=!1,T2=null,iG={onError:function(e){dp=!0,Jv=e}};function oG(e,t,r,n,a,s,i,o,c){dp=!1,Jv=null,sG.apply(iG,arguments)}function lG(e,t,r,n,a,s,i,o,c){if(oG.apply(this,arguments),dp){if(dp){var u=Jv;dp=!1,Jv=null}else throw Error(Ie(198));Qv||(Qv=!0,T2=u)}}function pu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hj(e){if(pu(e)!==e)throw Error(Ie(188))}function cG(e){var t=e.alternate;if(!t){if(t=pu(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Hj(a),e;if(s===n)return Hj(a),t;s=s.sibling}throw Error(Ie(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(Ie(189))}}if(r.alternate!==n)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?e:t}function l5(e){return e=cG(e),e!==null?c5(e):null}function c5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=c5(e);if(t!==null)return t;e=e.sibling}return null}var u5=Xa.unstable_scheduleCallback,Vj=Xa.unstable_cancelCallback,uG=Xa.unstable_shouldYield,dG=Xa.unstable_requestPaint,Hr=Xa.unstable_now,fG=Xa.unstable_getCurrentPriorityLevel,YE=Xa.unstable_ImmediatePriority,d5=Xa.unstable_UserBlockingPriority,Zv=Xa.unstable_NormalPriority,hG=Xa.unstable_LowPriority,f5=Xa.unstable_IdlePriority,l1=null,ki=null;function pG(e){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(l1,e,void 0,(e.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:vG,mG=Math.log,gG=Math.LN2;function vG(e){return e>>>=0,e===0?32:31-(mG(e)/gG|0)|0}var lg=64,cg=4194304;function Yh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ex(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Yh(o):(s&=i,s!==0&&(n=Yh(s)))}else i=r&~a,i!==0?n=Yh(i):s!==0&&(n=Yh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zs(t),a=1<<r,n|=e[r],t&=~a;return n}function xG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Zs(s),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=xG(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function N2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h5(){var e=lg;return lg<<=1,!(lg&4194240)&&(lg=64),e}function lw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ym(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zs(t),e[t]=r}function bG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Zs(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function JE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ir=0;function p5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m5,QE,g5,v5,x5,C2=!1,ug=[],bl=null,wl=null,_l=null,Gp=new Map,qp=new Map,Zo=[],wG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gj(e,t){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":Gp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qp.delete(t.pointerId)}}function mh(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=wm(t),t!==null&&QE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _G(e,t,r,n,a){switch(t){case"focusin":return bl=mh(bl,e,t,r,n,a),!0;case"dragenter":return wl=mh(wl,e,t,r,n,a),!0;case"mouseover":return _l=mh(_l,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Gp.set(s,mh(Gp.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,qp.set(s,mh(qp.get(s)||null,e,t,r,n,a)),!0}return!1}function y5(e){var t=Ec(e.target);if(t!==null){var r=pu(t);if(r!==null){if(t=r.tag,t===13){if(t=o5(r),t!==null){e.blockedOn=t,x5(e.priority,function(){g5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ov(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=j2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);S2=n,r.target.dispatchEvent(n),S2=null}else return t=wm(r),t!==null&&QE(t),e.blockedOn=r,!1;t.shift()}return!0}function qj(e,t,r){Ov(e)&&r.delete(t)}function SG(){C2=!1,bl!==null&&Ov(bl)&&(bl=null),wl!==null&&Ov(wl)&&(wl=null),_l!==null&&Ov(_l)&&(_l=null),Gp.forEach(qj),qp.forEach(qj)}function gh(e,t){e.blockedOn===t&&(e.blockedOn=null,C2||(C2=!0,Xa.unstable_scheduleCallback(Xa.unstable_NormalPriority,SG)))}function Kp(e){function t(a){return gh(a,e)}if(0<ug.length){gh(ug[0],e);for(var r=1;r<ug.length;r++){var n=ug[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bl!==null&&gh(bl,e),wl!==null&&gh(wl,e),_l!==null&&gh(_l,e),Gp.forEach(t),qp.forEach(t),r=0;r<Zo.length;r++)n=Zo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zo.length&&(r=Zo[0],r.blockedOn===null);)y5(r),r.blockedOn===null&&Zo.shift()}var bd=Co.ReactCurrentBatchConfig,tx=!0;function kG(e,t,r,n){var a=ir,s=bd.transition;bd.transition=null;try{ir=1,ZE(e,t,r,n)}finally{ir=a,bd.transition=s}}function EG(e,t,r,n){var a=ir,s=bd.transition;bd.transition=null;try{ir=4,ZE(e,t,r,n)}finally{ir=a,bd.transition=s}}function ZE(e,t,r,n){if(tx){var a=j2(e,t,r,n);if(a===null)xw(e,t,n,rx,r),Gj(e,n);else if(_G(a,e,t,r,n))n.stopPropagation();else if(Gj(e,n),t&4&&-1<wG.indexOf(e)){for(;a!==null;){var s=wm(a);if(s!==null&&m5(s),s=j2(e,t,r,n),s===null&&xw(e,t,n,rx,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else xw(e,t,n,null,r)}}var rx=null;function j2(e,t,r,n){if(rx=null,e=XE(n),e=Ec(e),e!==null)if(t=pu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rx=e,null}function b5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fG()){case YE:return 1;case d5:return 4;case Zv:case hG:return 16;case f5:return 536870912;default:return 16}default:return 16}}var fl=null,eT=null,Pv=null;function w5(){if(Pv)return Pv;var e,t=eT,r=t.length,n,a="value"in fl?fl.value:fl.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Pv=a.slice(e,1<n?1-n:void 0)}function Rv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dg(){return!0}function Kj(){return!1}function Qa(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dg:Kj,this.isPropagationStopped=Kj,this}return Ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dg)},persist:function(){},isPersistent:dg}),t}var Mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tT=Qa(Mf),bm=Ir({},Mf,{view:0,detail:0}),TG=Qa(bm),cw,uw,vh,c1=Ir({},bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vh&&(vh&&e.type==="mousemove"?(cw=e.screenX-vh.screenX,uw=e.screenY-vh.screenY):uw=cw=0,vh=e),cw)},movementY:function(e){return"movementY"in e?e.movementY:uw}}),Xj=Qa(c1),NG=Ir({},c1,{dataTransfer:0}),CG=Qa(NG),jG=Ir({},bm,{relatedTarget:0}),dw=Qa(jG),AG=Ir({},Mf,{animationName:0,elapsedTime:0,pseudoElement:0}),OG=Qa(AG),PG=Ir({},Mf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RG=Qa(PG),IG=Ir({},Mf,{data:0}),Yj=Qa(IG),DG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$G[e])?!!t[e]:!1}function rT(){return FG}var LG=Ir({},bm,{key:function(e){if(e.key){var t=DG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rT,charCode:function(e){return e.type==="keypress"?Rv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BG=Qa(LG),UG=Ir({},c1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jj=Qa(UG),zG=Ir({},bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rT}),WG=Qa(zG),HG=Ir({},Mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),VG=Qa(HG),GG=Ir({},c1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qG=Qa(GG),KG=[9,13,27,32],nT=xo&&"CompositionEvent"in window,fp=null;xo&&"documentMode"in document&&(fp=document.documentMode);var XG=xo&&"TextEvent"in window&&!fp,_5=xo&&(!nT||fp&&8<fp&&11>=fp),Qj=" ",Zj=!1;function S5(e,t){switch(e){case"keyup":return KG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var td=!1;function YG(e,t){switch(e){case"compositionend":return k5(t);case"keypress":return t.which!==32?null:(Zj=!0,Qj);case"textInput":return e=t.data,e===Qj&&Zj?null:e;default:return null}}function JG(e,t){if(td)return e==="compositionend"||!nT&&S5(e,t)?(e=w5(),Pv=eT=fl=null,td=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _5&&t.locale!=="ko"?null:t.data;default:return null}}var QG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QG[e.type]:t==="textarea"}function E5(e,t,r,n){r5(n),t=nx(t,"onChange"),0<t.length&&(r=new tT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hp=null,Xp=null;function ZG(e){M5(e,0)}function u1(e){var t=ad(e);if(XM(t))return e}function eq(e,t){if(e==="change")return t}var T5=!1;if(xo){var fw;if(xo){var hw="oninput"in document;if(!hw){var tA=document.createElement("div");tA.setAttribute("oninput","return;"),hw=typeof tA.oninput=="function"}fw=hw}else fw=!1;T5=fw&&(!document.documentMode||9<document.documentMode)}function rA(){hp&&(hp.detachEvent("onpropertychange",N5),Xp=hp=null)}function N5(e){if(e.propertyName==="value"&&u1(Xp)){var t=[];E5(t,Xp,e,XE(e)),i5(ZG,t)}}function tq(e,t,r){e==="focusin"?(rA(),hp=t,Xp=r,hp.attachEvent("onpropertychange",N5)):e==="focusout"&&rA()}function rq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u1(Xp)}function nq(e,t){if(e==="click")return u1(t)}function aq(e,t){if(e==="input"||e==="change")return u1(t)}function sq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:sq;function Yp(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d2.call(t,a)||!ri(e[a],t[a]))return!1}return!0}function nA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aA(e,t){var r=nA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nA(r)}}function C5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j5(){for(var e=window,t=Yv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yv(e.document)}return t}function aT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iq(e){var t=j5(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&C5(r.ownerDocument.documentElement,r)){if(n!==null&&aT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=aA(r,s);var i=aA(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oq=xo&&"documentMode"in document&&11>=document.documentMode,rd=null,A2=null,pp=null,O2=!1;function sA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;O2||rd==null||rd!==Yv(n)||(n=rd,"selectionStart"in n&&aT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pp&&Yp(pp,n)||(pp=n,n=nx(A2,"onSelect"),0<n.length&&(t=new tT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rd)))}function fg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nd={animationend:fg("Animation","AnimationEnd"),animationiteration:fg("Animation","AnimationIteration"),animationstart:fg("Animation","AnimationStart"),transitionend:fg("Transition","TransitionEnd")},pw={},A5={};xo&&(A5=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function d1(e){if(pw[e])return pw[e];if(!nd[e])return e;var t=nd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A5)return pw[e]=t[r];return e}var O5=d1("animationend"),P5=d1("animationiteration"),R5=d1("animationstart"),I5=d1("transitionend"),D5=new Map,iA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xl(e,t){D5.set(e,t),hu(t,[e])}for(var mw=0;mw<iA.length;mw++){var gw=iA[mw],lq=gw.toLowerCase(),cq=gw[0].toUpperCase()+gw.slice(1);Xl(lq,"on"+cq)}Xl(O5,"onAnimationEnd");Xl(P5,"onAnimationIteration");Xl(R5,"onAnimationStart");Xl("dblclick","onDoubleClick");Xl("focusin","onFocus");Xl("focusout","onBlur");Xl(I5,"onTransitionEnd");Vd("onMouseEnter",["mouseout","mouseover"]);Vd("onMouseLeave",["mouseout","mouseover"]);Vd("onPointerEnter",["pointerout","pointerover"]);Vd("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jh));function oA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lG(n,t,void 0,e),e.currentTarget=null}function M5(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&a.isPropagationStopped())break e;oA(a,o,u),s=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&a.isPropagationStopped())break e;oA(a,o,u),s=c}}}if(Qv)throw e=T2,Qv=!1,T2=null,e}function wr(e,t){var r=t[M2];r===void 0&&(r=t[M2]=new Set);var n=e+"__bubble";r.has(n)||($5(t,e,2,!1),r.add(n))}function vw(e,t,r){var n=0;t&&(n|=4),$5(r,e,n,t)}var hg="_reactListening"+Math.random().toString(36).slice(2);function Jp(e){if(!e[hg]){e[hg]=!0,HM.forEach(function(r){r!=="selectionchange"&&(uq.has(r)||vw(r,!1,e),vw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hg]||(t[hg]=!0,vw("selectionchange",!1,t))}}function $5(e,t,r,n){switch(b5(t)){case 1:var a=kG;break;case 4:a=EG;break;default:a=ZE}r=a.bind(null,t,r,e),a=void 0,!E2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function xw(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Ec(o),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}o=o.parentNode}}n=n.return}i5(function(){var u=s,d=XE(r),f=[];e:{var h=D5.get(e);if(h!==void 0){var p=tT,g=e;switch(e){case"keypress":if(Rv(r)===0)break e;case"keydown":case"keyup":p=BG;break;case"focusin":g="focus",p=dw;break;case"focusout":g="blur",p=dw;break;case"beforeblur":case"afterblur":p=dw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=CG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WG;break;case O5:case P5:case R5:p=OG;break;case I5:p=VG;break;case"scroll":p=TG;break;case"wheel":p=qG;break;case"copy":case"cut":case"paste":p=RG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jj}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,x;b!==null;){x=b;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=Vp(b,y),_!=null&&m.push(Qp(b,_,x)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==S2&&(g=r.relatedTarget||r.fromElement)&&(Ec(g)||g[yo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Ec(g):null,g!==null&&(v=pu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Xj,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=Jj,_="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:ad(p),x=g==null?h:ad(g),h=new m(_,b+"leave",p,r,d),h.target=v,h.relatedTarget=x,_=null,Ec(d)===u&&(m=new m(y,b+"enter",g,r,d),m.target=x,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,y=g,b=0,x=m;x;x=Au(x))b++;for(x=0,_=y;_;_=Au(_))x++;for(;0<b-x;)m=Au(m),b--;for(;0<x-b;)y=Au(y),x--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Au(m),y=Au(y)}m=null}else m=null;p!==null&&lA(f,h,p,m,!1),g!==null&&v!==null&&lA(f,v,g,m,!0)}}e:{if(h=u?ad(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=eq;else if(eA(h))if(T5)S=aq;else{S=rq;var E=tq}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=nq);if(S&&(S=S(e,u))){E5(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&x2(h,"number",h.value)}switch(E=u?ad(u):window,e){case"focusin":(eA(E)||E.contentEditable==="true")&&(rd=E,A2=u,pp=null);break;case"focusout":pp=A2=rd=null;break;case"mousedown":O2=!0;break;case"contextmenu":case"mouseup":case"dragend":O2=!1,sA(f,r,d);break;case"selectionchange":if(oq)break;case"keydown":case"keyup":sA(f,r,d)}var k;if(nT)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else td?S5(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(_5&&r.locale!=="ko"&&(td||N!=="onCompositionStart"?N==="onCompositionEnd"&&td&&(k=w5()):(fl=d,eT="value"in fl?fl.value:fl.textContent,td=!0)),E=nx(u,N),0<E.length&&(N=new Yj(N,e,null,r,d),f.push({event:N,listeners:E}),k?N.data=k:(k=k5(r),k!==null&&(N.data=k)))),(k=XG?YG(e,r):JG(e,r))&&(u=nx(u,"onBeforeInput"),0<u.length&&(d=new Yj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}M5(f,t)})}function Qp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Vp(e,r),s!=null&&n.unshift(Qp(e,s,a)),s=Vp(e,t),s!=null&&n.push(Qp(e,s,a))),e=e.return}return n}function Au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lA(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Vp(r,s),c!=null&&i.unshift(Qp(r,c,o))):a||(c=Vp(r,s),c!=null&&i.push(Qp(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var dq=/\r\n?/g,fq=/\u0000|\uFFFD/g;function cA(e){return(typeof e=="string"?e:""+e).replace(dq,`
`).replace(fq,"")}function pg(e,t,r){if(t=cA(t),cA(e)!==t&&r)throw Error(Ie(425))}function ax(){}var P2=null,R2=null;function I2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var D2=typeof setTimeout=="function"?setTimeout:void 0,hq=typeof clearTimeout=="function"?clearTimeout:void 0,uA=typeof Promise=="function"?Promise:void 0,pq=typeof queueMicrotask=="function"?queueMicrotask:typeof uA<"u"?function(e){return uA.resolve(null).then(e).catch(mq)}:D2;function mq(e){setTimeout(function(){throw e})}function yw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Kp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Kp(t)}function Sl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $f=Math.random().toString(36).slice(2),yi="__reactFiber$"+$f,Zp="__reactProps$"+$f,yo="__reactContainer$"+$f,M2="__reactEvents$"+$f,gq="__reactListeners$"+$f,vq="__reactHandles$"+$f;function Ec(e){var t=e[yi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yo]||r[yi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dA(e);e!==null;){if(r=e[yi])return r;e=dA(e)}return t}e=r,r=e.parentNode}return null}function wm(e){return e=e[yi]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ad(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function f1(e){return e[Zp]||null}var $2=[],sd=-1;function Yl(e){return{current:e}}function kr(e){0>sd||(e.current=$2[sd],$2[sd]=null,sd--)}function gr(e,t){sd++,$2[sd]=e.current,e.current=t}var Rl={},ra=Yl(Rl),ja=Yl(!1),Xc=Rl;function Gd(e,t){var r=e.type.contextTypes;if(!r)return Rl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Aa(e){return e=e.childContextTypes,e!=null}function sx(){kr(ja),kr(ra)}function fA(e,t,r){if(ra.current!==Rl)throw Error(Ie(168));gr(ra,t),gr(ja,r)}function F5(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ie(108,tG(e)||"Unknown",a));return Ir({},r,n)}function ix(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rl,Xc=ra.current,gr(ra,e),gr(ja,ja.current),!0}function hA(e,t,r){var n=e.stateNode;if(!n)throw Error(Ie(169));r?(e=F5(e,t,Xc),n.__reactInternalMemoizedMergedChildContext=e,kr(ja),kr(ra),gr(ra,e)):kr(ja),gr(ja,r)}var to=null,h1=!1,bw=!1;function L5(e){to===null?to=[e]:to.push(e)}function xq(e){h1=!0,L5(e)}function Jl(){if(!bw&&to!==null){bw=!0;var e=0,t=ir;try{var r=to;for(ir=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}to=null,h1=!1}catch(a){throw to!==null&&(to=to.slice(e+1)),u5(YE,Jl),a}finally{ir=t,bw=!1}}return null}var id=[],od=0,ox=null,lx=0,ls=[],cs=0,Yc=null,ao=1,so="";function gc(e,t){id[od++]=lx,id[od++]=ox,ox=e,lx=t}function B5(e,t,r){ls[cs++]=ao,ls[cs++]=so,ls[cs++]=Yc,Yc=e;var n=ao;e=so;var a=32-Zs(n)-1;n&=~(1<<a),r+=1;var s=32-Zs(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ao=1<<32-Zs(t)+a|r<<a|n,so=s+e}else ao=1<<s|r<<a|n,so=e}function sT(e){e.return!==null&&(gc(e,1),B5(e,1,0))}function iT(e){for(;e===ox;)ox=id[--od],id[od]=null,lx=id[--od],id[od]=null;for(;e===Yc;)Yc=ls[--cs],ls[cs]=null,so=ls[--cs],ls[cs]=null,ao=ls[--cs],ls[cs]=null}var qa=null,Ga=null,Tr=!1,Hs=null;function U5(e,t){var r=us(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qa=e,Ga=Sl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qa=e,Ga=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yc!==null?{id:ao,overflow:so}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=us(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qa=e,Ga=null,!0):!1;default:return!1}}function F2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function L2(e){if(Tr){var t=Ga;if(t){var r=t;if(!pA(e,t)){if(F2(e))throw Error(Ie(418));t=Sl(r.nextSibling);var n=qa;t&&pA(e,t)?U5(n,r):(e.flags=e.flags&-4097|2,Tr=!1,qa=e)}}else{if(F2(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,Tr=!1,qa=e}}}function mA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qa=e}function mg(e){if(e!==qa)return!1;if(!Tr)return mA(e),Tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!I2(e.type,e.memoizedProps)),t&&(t=Ga)){if(F2(e))throw z5(),Error(Ie(418));for(;t;)U5(e,t),t=Sl(t.nextSibling)}if(mA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ga=Sl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ga=null}}else Ga=qa?Sl(e.stateNode.nextSibling):null;return!0}function z5(){for(var e=Ga;e;)e=Sl(e.nextSibling)}function qd(){Ga=qa=null,Tr=!1}function oT(e){Hs===null?Hs=[e]:Hs.push(e)}var yq=Co.ReactCurrentBatchConfig;function xh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ie(309));var n=r.stateNode}if(!n)throw Error(Ie(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ie(284));if(!r._owner)throw Error(Ie(290,e))}return e}function gg(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gA(e){var t=e._init;return t(e._payload)}function W5(e){function t(y,b){if(e){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Nl(y,b),y.index=0,y.sibling=null,y}function s(y,b,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,x,_){return b===null||b.tag!==6?(b=Nw(x,y.mode,_),b.return=y,b):(b=a(b,x),b.return=y,b)}function c(y,b,x,_){var S=x.type;return S===ed?d(y,b,x.props.children,_,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Go&&gA(S)===b.type)?(_=a(b,x.props),_.ref=xh(y,b,x),_.return=y,_):(_=Bv(x.type,x.key,x.props,null,y.mode,_),_.ref=xh(y,b,x),_.return=y,_)}function u(y,b,x,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Cw(x,y.mode,_),b.return=y,b):(b=a(b,x.children||[]),b.return=y,b)}function d(y,b,x,_,S){return b===null||b.tag!==7?(b=Hc(x,y.mode,_,S),b.return=y,b):(b=a(b,x),b.return=y,b)}function f(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Nw(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sg:return x=Bv(b.type,b.key,b.props,null,y.mode,x),x.ref=xh(y,null,b),x.return=y,x;case Zu:return b=Cw(b,y.mode,x),b.return=y,b;case Go:var _=b._init;return f(y,_(b._payload),x)}if(Xh(b)||hh(b))return b=Hc(b,y.mode,x,null),b.return=y,b;gg(y,b)}return null}function h(y,b,x,_){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(y,b,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sg:return x.key===S?c(y,b,x,_):null;case Zu:return x.key===S?u(y,b,x,_):null;case Go:return S=x._init,h(y,b,S(x._payload),_)}if(Xh(x)||hh(x))return S!==null?null:d(y,b,x,_,null);gg(y,x)}return null}function p(y,b,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,o(b,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sg:return y=y.get(_.key===null?x:_.key)||null,c(b,y,_,S);case Zu:return y=y.get(_.key===null?x:_.key)||null,u(b,y,_,S);case Go:var E=_._init;return p(y,b,x,E(_._payload),S)}if(Xh(_)||hh(_))return y=y.get(x)||null,d(b,y,_,S,null);gg(b,_)}return null}function g(y,b,x,_){for(var S=null,E=null,k=b,N=b=0,T=null;k!==null&&N<x.length;N++){k.index>N?(T=k,k=null):T=k.sibling;var A=h(y,k,x[N],_);if(A===null){k===null&&(k=T);break}e&&k&&A.alternate===null&&t(y,k),b=s(A,b,N),E===null?S=A:E.sibling=A,E=A,k=T}if(N===x.length)return r(y,k),Tr&&gc(y,N),S;if(k===null){for(;N<x.length;N++)k=f(y,x[N],_),k!==null&&(b=s(k,b,N),E===null?S=k:E.sibling=k,E=k);return Tr&&gc(y,N),S}for(k=n(y,k);N<x.length;N++)T=p(k,y,N,x[N],_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?N:T.key),b=s(T,b,N),E===null?S=T:E.sibling=T,E=T);return e&&k.forEach(function(C){return t(y,C)}),Tr&&gc(y,N),S}function m(y,b,x,_){var S=hh(x);if(typeof S!="function")throw Error(Ie(150));if(x=S.call(x),x==null)throw Error(Ie(151));for(var E=S=null,k=b,N=b=0,T=null,A=x.next();k!==null&&!A.done;N++,A=x.next()){k.index>N?(T=k,k=null):T=k.sibling;var C=h(y,k,A.value,_);if(C===null){k===null&&(k=T);break}e&&k&&C.alternate===null&&t(y,k),b=s(C,b,N),E===null?S=C:E.sibling=C,E=C,k=T}if(A.done)return r(y,k),Tr&&gc(y,N),S;if(k===null){for(;!A.done;N++,A=x.next())A=f(y,A.value,_),A!==null&&(b=s(A,b,N),E===null?S=A:E.sibling=A,E=A);return Tr&&gc(y,N),S}for(k=n(y,k);!A.done;N++,A=x.next())A=p(k,y,N,A.value,_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?N:A.key),b=s(A,b,N),E===null?S=A:E.sibling=A,E=A);return e&&k.forEach(function(j){return t(y,j)}),Tr&&gc(y,N),S}function v(y,b,x,_){if(typeof x=="object"&&x!==null&&x.type===ed&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sg:e:{for(var S=x.key,E=b;E!==null;){if(E.key===S){if(S=x.type,S===ed){if(E.tag===7){r(y,E.sibling),b=a(E,x.props.children),b.return=y,y=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Go&&gA(S)===E.type){r(y,E.sibling),b=a(E,x.props),b.ref=xh(y,E,x),b.return=y,y=b;break e}r(y,E);break}else t(y,E);E=E.sibling}x.type===ed?(b=Hc(x.props.children,y.mode,_,x.key),b.return=y,y=b):(_=Bv(x.type,x.key,x.props,null,y.mode,_),_.ref=xh(y,b,x),_.return=y,y=_)}return i(y);case Zu:e:{for(E=x.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(y,b.sibling),b=a(b,x.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Cw(x,y.mode,_),b.return=y,y=b}return i(y);case Go:return E=x._init,v(y,b,E(x._payload),_)}if(Xh(x))return g(y,b,x,_);if(hh(x))return m(y,b,x,_);gg(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,x),b.return=y,y=b):(r(y,b),b=Nw(x,y.mode,_),b.return=y,y=b),i(y)):r(y,b)}return v}var Kd=W5(!0),H5=W5(!1),cx=Yl(null),ux=null,ld=null,lT=null;function cT(){lT=ld=ux=null}function uT(e){var t=cx.current;kr(cx),e._currentValue=t}function B2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wd(e,t){ux=e,lT=ld=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Na=!0),e.firstContext=null)}function vs(e){var t=e._currentValue;if(lT!==e)if(e={context:e,memoizedValue:t,next:null},ld===null){if(ux===null)throw Error(Ie(308));ld=e,ux.dependencies={lanes:0,firstContext:e}}else ld=ld.next=e;return t}var Tc=null;function dT(e){Tc===null?Tc=[e]:Tc.push(e)}function V5(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,dT(t)):(r.next=a.next,a.next=r),t.interleaved=r,bo(e,n)}function bo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qo=!1;function fT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,bo(e,r)}return a=n.interleaved,a===null?(t.next=t,dT(n)):(t.next=a.next,a.next=t),n.interleaved=t,bo(e,r)}function Iv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JE(e,r)}}function vA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dx(e,t,r,n){var a=e.updateQueue;qo=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Ir({},f,h);break e;case 2:qo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Qc|=i,e.lanes=i,e.memoizedState=f}}function xA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ie(191,a));a.call(n)}}}var _m={},Ei=Yl(_m),e0=Yl(_m),t0=Yl(_m);function Nc(e){if(e===_m)throw Error(Ie(174));return e}function hT(e,t){switch(gr(t0,t),gr(e0,e),gr(Ei,_m),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:b2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=b2(t,e)}kr(Ei),gr(Ei,t)}function Xd(){kr(Ei),kr(e0),kr(t0)}function q5(e){Nc(t0.current);var t=Nc(Ei.current),r=b2(t,e.type);t!==r&&(gr(e0,e),gr(Ei,r))}function pT(e){e0.current===e&&(kr(Ei),kr(e0))}var Ar=Yl(0);function fx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ww=[];function mT(){for(var e=0;e<ww.length;e++)ww[e]._workInProgressVersionPrimary=null;ww.length=0}var Dv=Co.ReactCurrentDispatcher,_w=Co.ReactCurrentBatchConfig,Jc=0,Pr=null,fn=null,Tn=null,hx=!1,mp=!1,r0=0,bq=0;function Hn(){throw Error(Ie(321))}function gT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ri(e[r],t[r]))return!1;return!0}function vT(e,t,r,n,a,s){if(Jc=s,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dv.current=e===null||e.memoizedState===null?kq:Eq,e=r(n,a),mp){s=0;do{if(mp=!1,r0=0,25<=s)throw Error(Ie(301));s+=1,Tn=fn=null,t.updateQueue=null,Dv.current=Tq,e=r(n,a)}while(mp)}if(Dv.current=px,t=fn!==null&&fn.next!==null,Jc=0,Tn=fn=Pr=null,hx=!1,t)throw Error(Ie(300));return e}function xT(){var e=r0!==0;return r0=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Pr.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function xs(){if(fn===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=fn.next;var t=Tn===null?Pr.memoizedState:Tn.next;if(t!==null)Tn=t,fn=e;else{if(e===null)throw Error(Ie(310));fn=e,e={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Tn===null?Pr.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function n0(e,t){return typeof t=="function"?t(e):t}function Sw(e){var t=xs(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=fn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,c=null,u=s;do{var d=u.lane;if((Jc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,i=n):c=c.next=f,Pr.lanes|=d,Qc|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=o,ri(n,t.memoizedState)||(Na=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Pr.lanes|=s,Qc|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kw(e){var t=xs(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);ri(s,t.memoizedState)||(Na=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function K5(){}function X5(e,t){var r=Pr,n=xs(),a=t(),s=!ri(n.memoizedState,a);if(s&&(n.memoizedState=a,Na=!0),n=n.queue,yT(Q5.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Tn!==null&&Tn.memoizedState.tag&1){if(r.flags|=2048,a0(9,J5.bind(null,r,n,a,t),void 0,null),Nn===null)throw Error(Ie(349));Jc&30||Y5(r,t,a)}return a}function Y5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J5(e,t,r,n){t.value=r,t.getSnapshot=n,Z5(t)&&e$(e)}function Q5(e,t,r){return r(function(){Z5(t)&&e$(e)})}function Z5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ri(e,r)}catch{return!0}}function e$(e){var t=bo(e,1);t!==null&&ei(t,e,1,-1)}function yA(e){var t=pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:e},t.queue=e,e=e.dispatch=Sq.bind(null,Pr,e),[t.memoizedState,e]}function a0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function t$(){return xs().memoizedState}function Mv(e,t,r,n){var a=pi();Pr.flags|=e,a.memoizedState=a0(1|t,r,void 0,n===void 0?null:n)}function p1(e,t,r,n){var a=xs();n=n===void 0?null:n;var s=void 0;if(fn!==null){var i=fn.memoizedState;if(s=i.destroy,n!==null&&gT(n,i.deps)){a.memoizedState=a0(t,r,s,n);return}}Pr.flags|=e,a.memoizedState=a0(1|t,r,s,n)}function bA(e,t){return Mv(8390656,8,e,t)}function yT(e,t){return p1(2048,8,e,t)}function r$(e,t){return p1(4,2,e,t)}function n$(e,t){return p1(4,4,e,t)}function a$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s$(e,t,r){return r=r!=null?r.concat([e]):null,p1(4,4,a$.bind(null,t,e),r)}function bT(){}function i$(e,t){var r=xs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function o$(e,t){var r=xs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function l$(e,t,r){return Jc&21?(ri(r,t)||(r=h5(),Pr.lanes|=r,Qc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Na=!0),e.memoizedState=r)}function wq(e,t){var r=ir;ir=r!==0&&4>r?r:4,e(!0);var n=_w.transition;_w.transition={};try{e(!1),t()}finally{ir=r,_w.transition=n}}function c$(){return xs().memoizedState}function _q(e,t,r){var n=Tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},u$(e))d$(t,r);else if(r=V5(e,t,r,n),r!==null){var a=ga();ei(r,e,n,a),f$(r,t,n)}}function Sq(e,t,r){var n=Tl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(u$(e))d$(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,ri(o,i)){var c=t.interleaved;c===null?(a.next=a,dT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=V5(e,t,a,n),r!==null&&(a=ga(),ei(r,e,n,a),f$(r,t,n))}}function u$(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function d$(e,t){mp=hx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function f$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JE(e,r)}}var px={readContext:vs,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},kq={readContext:vs,useCallback:function(e,t){return pi().memoizedState=[e,t===void 0?null:t],e},useContext:vs,useEffect:bA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mv(4194308,4,a$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mv(4,2,e,t)},useMemo:function(e,t){var r=pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_q.bind(null,Pr,e),[n.memoizedState,e]},useRef:function(e){var t=pi();return e={current:e},t.memoizedState=e},useState:yA,useDebugValue:bT,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=yA(!1),t=e[0];return e=wq.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pr,a=pi();if(Tr){if(r===void 0)throw Error(Ie(407));r=r()}else{if(r=t(),Nn===null)throw Error(Ie(349));Jc&30||Y5(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,bA(Q5.bind(null,n,s,e),[e]),n.flags|=2048,a0(9,J5.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=pi(),t=Nn.identifierPrefix;if(Tr){var r=so,n=ao;r=(n&~(1<<32-Zs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=r0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bq++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Eq={readContext:vs,useCallback:i$,useContext:vs,useEffect:yT,useImperativeHandle:s$,useInsertionEffect:r$,useLayoutEffect:n$,useMemo:o$,useReducer:Sw,useRef:t$,useState:function(){return Sw(n0)},useDebugValue:bT,useDeferredValue:function(e){var t=xs();return l$(t,fn.memoizedState,e)},useTransition:function(){var e=Sw(n0)[0],t=xs().memoizedState;return[e,t]},useMutableSource:K5,useSyncExternalStore:X5,useId:c$,unstable_isNewReconciler:!1},Tq={readContext:vs,useCallback:i$,useContext:vs,useEffect:yT,useImperativeHandle:s$,useInsertionEffect:r$,useLayoutEffect:n$,useMemo:o$,useReducer:kw,useRef:t$,useState:function(){return kw(n0)},useDebugValue:bT,useDeferredValue:function(e){var t=xs();return fn===null?t.memoizedState=e:l$(t,fn.memoizedState,e)},useTransition:function(){var e=kw(n0)[0],t=xs().memoizedState;return[e,t]},useMutableSource:K5,useSyncExternalStore:X5,useId:c$,unstable_isNewReconciler:!1};function Rs(e,t){if(e&&e.defaultProps){t=Ir({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function U2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ir({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var m1={isMounted:function(e){return(e=e._reactInternals)?pu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ga(),a=Tl(e),s=uo(n,a);s.payload=t,r!=null&&(s.callback=r),t=kl(e,s,a),t!==null&&(ei(t,e,a,n),Iv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ga(),a=Tl(e),s=uo(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=kl(e,s,a),t!==null&&(ei(t,e,a,n),Iv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ga(),n=Tl(e),a=uo(r,n);a.tag=2,t!=null&&(a.callback=t),t=kl(e,a,n),t!==null&&(ei(t,e,n,r),Iv(t,e,n))}};function wA(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Yp(r,n)||!Yp(a,s):!0}function h$(e,t,r){var n=!1,a=Rl,s=t.contextType;return typeof s=="object"&&s!==null?s=vs(s):(a=Aa(t)?Xc:ra.current,n=t.contextTypes,s=(n=n!=null)?Gd(e,a):Rl),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=m1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function _A(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&m1.enqueueReplaceState(t,t.state,null)}function z2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},fT(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=vs(s):(s=Aa(t)?Xc:ra.current,a.context=Gd(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(U2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&m1.enqueueReplaceState(a,a.state,null),dx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Yd(e,t){try{var r="",n=t;do r+=eG(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ew(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function W2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Nq=typeof WeakMap=="function"?WeakMap:Map;function p$(e,t,r){r=uo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gx||(gx=!0,Z2=n),W2(e,t)},r}function m$(e,t,r){r=uo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){W2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){W2(e,t),typeof n!="function"&&(El===null?El=new Set([this]):El.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function SA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Nq;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Uq.bind(null,e,t,r),t.then(e,e))}function kA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function EA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=uo(-1,1),t.tag=2,kl(r,t,1))),r.lanes|=1),e)}var Cq=Co.ReactCurrentOwner,Na=!1;function ca(e,t,r,n){t.child=e===null?H5(t,null,r,n):Kd(t,e.child,r,n)}function TA(e,t,r,n,a){r=r.render;var s=t.ref;return wd(t,a),n=vT(e,t,r,n,s,a),r=xT(),e!==null&&!Na?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wo(e,t,a)):(Tr&&r&&sT(t),t.flags|=1,ca(e,t,n,a),t.child)}function NA(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!CT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,g$(e,t,s,n,a)):(e=Bv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yp,r(i,n)&&e.ref===t.ref)return wo(e,t,a)}return t.flags|=1,e=Nl(s,n),e.ref=t.ref,e.return=t,t.child=e}function g$(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Yp(s,n)&&e.ref===t.ref)if(Na=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Na=!0);else return t.lanes=e.lanes,wo(e,t,a)}return H2(e,t,r,n,a)}function v$(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(ud,Fa),Fa|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gr(ud,Fa),Fa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,gr(ud,Fa),Fa|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,gr(ud,Fa),Fa|=n;return ca(e,t,a,r),t.child}function x$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function H2(e,t,r,n,a){var s=Aa(r)?Xc:ra.current;return s=Gd(t,s),wd(t,a),r=vT(e,t,r,n,s,a),n=xT(),e!==null&&!Na?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wo(e,t,a)):(Tr&&n&&sT(t),t.flags|=1,ca(e,t,r,a),t.child)}function CA(e,t,r,n,a){if(Aa(r)){var s=!0;ix(t)}else s=!1;if(wd(t,a),t.stateNode===null)$v(e,t),h$(t,r,n),z2(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=vs(u):(u=Aa(r)?Xc:ra.current,u=Gd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&_A(t,i,n,u),qo=!1;var h=t.memoizedState;i.state=h,dx(t,n,i,a),c=t.memoizedState,o!==n||h!==c||ja.current||qo?(typeof d=="function"&&(U2(t,r,d,n),c=t.memoizedState),(o=qo||wA(t,r,o,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,G5(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Rs(t.type,o),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=vs(c):(c=Aa(r)?Xc:ra.current,c=Gd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&_A(t,i,n,c),qo=!1,h=t.memoizedState,i.state=h,dx(t,n,i,a);var g=t.memoizedState;o!==f||h!==g||ja.current||qo?(typeof p=="function"&&(U2(t,r,p,n),g=t.memoizedState),(u=qo||wA(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return V2(e,t,r,n,s,a)}function V2(e,t,r,n,a,s){x$(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&hA(t,r,!1),wo(e,t,s);n=t.stateNode,Cq.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Kd(t,e.child,null,s),t.child=Kd(t,null,o,s)):ca(e,t,o,s),t.memoizedState=n.state,a&&hA(t,r,!0),t.child}function y$(e){var t=e.stateNode;t.pendingContext?fA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fA(e,t.context,!1),hT(e,t.containerInfo)}function jA(e,t,r,n,a){return qd(),oT(a),t.flags|=256,ca(e,t,r,n),t.child}var G2={dehydrated:null,treeContext:null,retryLane:0};function q2(e){return{baseLanes:e,cachePool:null,transitions:null}}function b$(e,t,r){var n=t.pendingProps,a=Ar.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),gr(Ar,a&1),e===null)return L2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=x1(i,n,0,null),e=Hc(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=q2(r),t.memoizedState=G2,e):wT(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return jq(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=Nl(o,s):(s=Hc(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?q2(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=G2,n}return s=e.child,e=s.sibling,n=Nl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wT(e,t){return t=x1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vg(e,t,r,n){return n!==null&&oT(n),Kd(t,e.child,null,r),e=wT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jq(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Ew(Error(Ie(422))),vg(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=x1({mode:"visible",children:n.children},a,0,null),s=Hc(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Kd(t,e.child,null,i),t.child.memoizedState=q2(i),t.memoizedState=G2,s);if(!(t.mode&1))return vg(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ie(419)),n=Ew(s,n,void 0),vg(e,t,i,n)}if(o=(i&e.childLanes)!==0,Na||o){if(n=Nn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,bo(e,a),ei(n,e,a,-1))}return NT(),n=Ew(Error(Ie(421))),vg(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=zq.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ga=Sl(a.nextSibling),qa=t,Tr=!0,Hs=null,e!==null&&(ls[cs++]=ao,ls[cs++]=so,ls[cs++]=Yc,ao=e.id,so=e.overflow,Yc=t),t=wT(t,n.children),t.flags|=4096,t)}function AA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),B2(e.return,t,r)}function Tw(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function w$(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ca(e,t,n.children,r),n=Ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AA(e,r,t);else if(e.tag===19)AA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gr(Ar,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&fx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Tw(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&fx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Tw(t,!0,r,null,s);break;case"together":Tw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $v(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,r=Nl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Aq(e,t,r){switch(t.tag){case 3:y$(t),qd();break;case 5:q5(t);break;case 1:Aa(t.type)&&ix(t);break;case 4:hT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;gr(cx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gr(Ar,Ar.current&1),t.flags|=128,null):r&t.child.childLanes?b$(e,t,r):(gr(Ar,Ar.current&1),e=wo(e,t,r),e!==null?e.sibling:null);gr(Ar,Ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return w$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),gr(Ar,Ar.current),n)break;return null;case 22:case 23:return t.lanes=0,v$(e,t,r)}return wo(e,t,r)}var _$,K2,S$,k$;_$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};K2=function(){};S$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Nc(Ei.current);var s=null;switch(r){case"input":a=g2(e,a),n=g2(e,n),s=[];break;case"select":a=Ir({},a,{value:void 0}),n=Ir({},n,{value:void 0}),s=[];break;case"textarea":a=y2(e,a),n=y2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ax)}w2(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&wr("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};k$=function(e,t,r,n){r!==n&&(t.flags|=4)};function yh(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Oq(e,t,r){var n=t.pendingProps;switch(iT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(t),null;case 1:return Aa(t.type)&&sx(),Vn(t),null;case 3:return n=t.stateNode,Xd(),kr(ja),kr(ra),mT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hs!==null&&(rS(Hs),Hs=null))),K2(e,t),Vn(t),null;case 5:pT(t);var a=Nc(t0.current);if(r=t.type,e!==null&&t.stateNode!=null)S$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return Vn(t),null}if(e=Nc(Ei.current),mg(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[yi]=t,n[Zp]=s,e=(t.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(a=0;a<Jh.length;a++)wr(Jh[a],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":Lj(n,s),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},wr("invalid",n);break;case"textarea":Uj(n,s),wr("invalid",n)}w2(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&pg(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&pg(n.textContent,o,e),a=["children",""+o]):Wp.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&wr("scroll",n)}switch(r){case"input":ig(n),Bj(n,s,!0);break;case"textarea":ig(n),zj(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ax)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[yi]=t,e[Zp]=n,_$(e,t,!1,!1),t.stateNode=e;e:{switch(i=_2(r,n),r){case"dialog":wr("cancel",e),wr("close",e),a=n;break;case"iframe":case"object":case"embed":wr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Jh.length;a++)wr(Jh[a],e);a=n;break;case"source":wr("error",e),a=n;break;case"img":case"image":case"link":wr("error",e),wr("load",e),a=n;break;case"details":wr("toggle",e),a=n;break;case"input":Lj(e,n),a=g2(e,n),wr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ir({},n,{value:void 0}),wr("invalid",e);break;case"textarea":Uj(e,n),a=y2(e,n),wr("invalid",e);break;default:a=n}w2(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?t5(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZM(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hp(e,c):typeof c=="number"&&Hp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&wr("scroll",e):c!=null&&VE(e,s,c,i))}switch(r){case"input":ig(e),Bj(e,n,!1);break;case"textarea":ig(e),zj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pl(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?vd(e,!!n.multiple,s,!1):n.defaultValue!=null&&vd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ax)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vn(t),null;case 6:if(e&&t.stateNode!=null)k$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(r=Nc(t0.current),Nc(Ei.current),mg(t)){if(n=t.stateNode,r=t.memoizedProps,n[yi]=t,(s=n.nodeValue!==r)&&(e=qa,e!==null))switch(e.tag){case 3:pg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pg(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yi]=t,t.stateNode=n}return Vn(t),null;case 13:if(kr(Ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tr&&Ga!==null&&t.mode&1&&!(t.flags&128))z5(),qd(),t.flags|=98560,s=!1;else if(s=mg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[yi]=t}else qd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vn(t),s=!1}else Hs!==null&&(rS(Hs),Hs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ar.current&1?xn===0&&(xn=3):NT())),t.updateQueue!==null&&(t.flags|=4),Vn(t),null);case 4:return Xd(),K2(e,t),e===null&&Jp(t.stateNode.containerInfo),Vn(t),null;case 10:return uT(t.type._context),Vn(t),null;case 17:return Aa(t.type)&&sx(),Vn(t),null;case 19:if(kr(Ar),s=t.memoizedState,s===null)return Vn(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)yh(s,!1);else{if(xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=fx(e),i!==null){for(t.flags|=128,yh(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gr(Ar,Ar.current&1|2),t.child}e=e.sibling}s.tail!==null&&Hr()>Jd&&(t.flags|=128,n=!0,yh(s,!1),t.lanes=4194304)}else{if(!n)if(e=fx(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Tr)return Vn(t),null}else 2*Hr()-s.renderingStartTime>Jd&&r!==1073741824&&(t.flags|=128,n=!0,yh(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Hr(),t.sibling=null,r=Ar.current,gr(Ar,n?r&1|2:r&1),t):(Vn(t),null);case 22:case 23:return TT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fa&1073741824&&(Vn(t),t.subtreeFlags&6&&(t.flags|=8192)):Vn(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function Pq(e,t){switch(iT(t),t.tag){case 1:return Aa(t.type)&&sx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xd(),kr(ja),kr(ra),mT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pT(t),null;case 13:if(kr(Ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));qd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kr(Ar),null;case 4:return Xd(),null;case 10:return uT(t.type._context),null;case 22:case 23:return TT(),null;case 24:return null;default:return null}}var xg=!1,Yn=!1,Rq=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function cd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$r(e,t,n)}else r.current=null}function X2(e,t,r){try{r()}catch(n){$r(e,t,n)}}var OA=!1;function Iq(e,t){if(P2=tx,e=j5(),aT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=i),h===s&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(R2={focusedElem:e,selectionRange:r},tx=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){t=Qe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Rs(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(_){$r(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}return g=OA,OA=!1,g}function gp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&X2(t,r,s)}a=a.next}while(a!==n)}}function g1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Y2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function E$(e){var t=e.alternate;t!==null&&(e.alternate=null,E$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yi],delete t[Zp],delete t[M2],delete t[gq],delete t[vq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T$(e){return e.tag===5||e.tag===3||e.tag===4}function PA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ax));else if(n!==4&&(e=e.child,e!==null))for(J2(e,t,r),e=e.sibling;e!==null;)J2(e,t,r),e=e.sibling}function Q2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Q2(e,t,r),e=e.sibling;e!==null;)Q2(e,t,r),e=e.sibling}var Dn=null,Fs=!1;function $o(e,t,r){for(r=r.child;r!==null;)N$(e,t,r),r=r.sibling}function N$(e,t,r){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(l1,r)}catch{}switch(r.tag){case 5:Yn||cd(r,t);case 6:var n=Dn,a=Fs;Dn=null,$o(e,t,r),Dn=n,Fs=a,Dn!==null&&(Fs?(e=Dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dn.removeChild(r.stateNode));break;case 18:Dn!==null&&(Fs?(e=Dn,r=r.stateNode,e.nodeType===8?yw(e.parentNode,r):e.nodeType===1&&yw(e,r),Kp(e)):yw(Dn,r.stateNode));break;case 4:n=Dn,a=Fs,Dn=r.stateNode.containerInfo,Fs=!0,$o(e,t,r),Dn=n,Fs=a;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&X2(r,t,i),a=a.next}while(a!==n)}$o(e,t,r);break;case 1:if(!Yn&&(cd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){$r(r,t,o)}$o(e,t,r);break;case 21:$o(e,t,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,$o(e,t,r),Yn=n):$o(e,t,r);break;default:$o(e,t,r)}}function RA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rq),t.forEach(function(n){var a=Wq.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Es(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Dn=o.stateNode,Fs=!1;break e;case 3:Dn=o.stateNode.containerInfo,Fs=!0;break e;case 4:Dn=o.stateNode.containerInfo,Fs=!0;break e}o=o.return}if(Dn===null)throw Error(Ie(160));N$(s,i,a),Dn=null,Fs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){$r(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C$(t,e),t=t.sibling}function C$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Es(t,e),li(e),n&4){try{gp(3,e,e.return),g1(3,e)}catch(m){$r(e,e.return,m)}try{gp(5,e,e.return)}catch(m){$r(e,e.return,m)}}break;case 1:Es(t,e),li(e),n&512&&r!==null&&cd(r,r.return);break;case 5:if(Es(t,e),li(e),n&512&&r!==null&&cd(r,r.return),e.flags&32){var a=e.stateNode;try{Hp(a,"")}catch(m){$r(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&YM(a,s),_2(o,i);var u=_2(o,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?t5(a,f):d==="dangerouslySetInnerHTML"?ZM(a,f):d==="children"?Hp(a,f):VE(a,d,f,u)}switch(o){case"input":v2(a,s);break;case"textarea":JM(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?vd(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?vd(a,!!s.multiple,s.defaultValue,!0):vd(a,!!s.multiple,s.multiple?[]:"",!1))}a[Zp]=s}catch(m){$r(e,e.return,m)}}break;case 6:if(Es(t,e),li(e),n&4){if(e.stateNode===null)throw Error(Ie(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){$r(e,e.return,m)}}break;case 3:if(Es(t,e),li(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kp(t.containerInfo)}catch(m){$r(e,e.return,m)}break;case 4:Es(t,e),li(e);break;case 13:Es(t,e),li(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(kT=Hr())),n&4&&RA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Yn=(u=Yn)||d,Es(t,e),Yn=u):Es(t,e),li(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Qe=e,d=e.child;d!==null;){for(f=Qe=d;Qe!==null;){switch(h=Qe,p=h.child,h.tag){case 0:case 11:case 14:case 15:gp(4,h,h.return);break;case 1:cd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){$r(n,r,m)}}break;case 5:cd(h,h.return);break;case 22:if(h.memoizedState!==null){DA(f);continue}}p!==null?(p.return=h,Qe=p):DA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=e5("display",i))}catch(m){$r(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){$r(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Es(t,e),li(e),n&4&&RA(e);break;case 21:break;default:Es(t,e),li(e)}}function li(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T$(r)){var n=r;break e}r=r.return}throw Error(Ie(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Hp(a,""),n.flags&=-33);var s=PA(e);Q2(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=PA(e);J2(e,o,i);break;default:throw Error(Ie(161))}}catch(c){$r(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dq(e,t,r){Qe=e,j$(e)}function j$(e,t,r){for(var n=(e.mode&1)!==0;Qe!==null;){var a=Qe,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||xg;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Yn;o=xg;var u=Yn;if(xg=i,(Yn=c)&&!u)for(Qe=a;Qe!==null;)i=Qe,c=i.child,i.tag===22&&i.memoizedState!==null?MA(a):c!==null?(c.return=i,Qe=c):MA(a);for(;s!==null;)Qe=s,j$(s),s=s.sibling;Qe=a,xg=o,Yn=u}IA(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Qe=s):IA(e)}}function IA(e){for(;Qe!==null;){var t=Qe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yn||g1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Rs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xA(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xA(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Yn||t.flags&512&&Y2(t)}catch(h){$r(t,t.return,h)}}if(t===e){Qe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qe=r;break}Qe=t.return}}function DA(e){for(;Qe!==null;){var t=Qe;if(t===e){Qe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qe=r;break}Qe=t.return}}function MA(e){for(;Qe!==null;){var t=Qe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{g1(4,t)}catch(c){$r(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){$r(t,a,c)}}var s=t.return;try{Y2(t)}catch(c){$r(t,s,c)}break;case 5:var i=t.return;try{Y2(t)}catch(c){$r(t,i,c)}}}catch(c){$r(t,t.return,c)}if(t===e){Qe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Qe=o;break}Qe=t.return}}var Mq=Math.ceil,mx=Co.ReactCurrentDispatcher,_T=Co.ReactCurrentOwner,fs=Co.ReactCurrentBatchConfig,Xt=0,Nn=null,tn=null,Ln=0,Fa=0,ud=Yl(0),xn=0,s0=null,Qc=0,v1=0,ST=0,vp=null,Ta=null,kT=0,Jd=1/0,Zi=null,gx=!1,Z2=null,El=null,yg=!1,hl=null,vx=0,xp=0,eS=null,Fv=-1,Lv=0;function ga(){return Xt&6?Hr():Fv!==-1?Fv:Fv=Hr()}function Tl(e){return e.mode&1?Xt&2&&Ln!==0?Ln&-Ln:yq.transition!==null?(Lv===0&&(Lv=h5()),Lv):(e=ir,e!==0||(e=window.event,e=e===void 0?16:b5(e.type)),e):1}function ei(e,t,r,n){if(50<xp)throw xp=0,eS=null,Error(Ie(185));ym(e,r,n),(!(Xt&2)||e!==Nn)&&(e===Nn&&(!(Xt&2)&&(v1|=r),xn===4&&el(e,Ln)),Oa(e,n),r===1&&Xt===0&&!(t.mode&1)&&(Jd=Hr()+500,h1&&Jl()))}function Oa(e,t){var r=e.callbackNode;yG(e,t);var n=ex(e,e===Nn?Ln:0);if(n===0)r!==null&&Vj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Vj(r),t===1)e.tag===0?xq($A.bind(null,e)):L5($A.bind(null,e)),pq(function(){!(Xt&6)&&Jl()}),r=null;else{switch(p5(n)){case 1:r=YE;break;case 4:r=d5;break;case 16:r=Zv;break;case 536870912:r=f5;break;default:r=Zv}r=$$(r,A$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function A$(e,t){if(Fv=-1,Lv=0,Xt&6)throw Error(Ie(327));var r=e.callbackNode;if(_d()&&e.callbackNode!==r)return null;var n=ex(e,e===Nn?Ln:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xx(e,n);else{t=n;var a=Xt;Xt|=2;var s=P$();(Nn!==e||Ln!==t)&&(Zi=null,Jd=Hr()+500,Wc(e,t));do try{Lq();break}catch(o){O$(e,o)}while(!0);cT(),mx.current=s,Xt=a,tn!==null?t=0:(Nn=null,Ln=0,t=xn)}if(t!==0){if(t===2&&(a=N2(e),a!==0&&(n=a,t=tS(e,a))),t===1)throw r=s0,Wc(e,0),el(e,n),Oa(e,Hr()),r;if(t===6)el(e,n);else{if(a=e.current.alternate,!(n&30)&&!$q(a)&&(t=xx(e,n),t===2&&(s=N2(e),s!==0&&(n=s,t=tS(e,s))),t===1))throw r=s0,Wc(e,0),el(e,n),Oa(e,Hr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:vc(e,Ta,Zi);break;case 3:if(el(e,n),(n&130023424)===n&&(t=kT+500-Hr(),10<t)){if(ex(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ga(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=D2(vc.bind(null,e,Ta,Zi),t);break}vc(e,Ta,Zi);break;case 4:if(el(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Zs(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mq(n/1960))-n,10<n){e.timeoutHandle=D2(vc.bind(null,e,Ta,Zi),n);break}vc(e,Ta,Zi);break;case 5:vc(e,Ta,Zi);break;default:throw Error(Ie(329))}}}return Oa(e,Hr()),e.callbackNode===r?A$.bind(null,e):null}function tS(e,t){var r=vp;return e.current.memoizedState.isDehydrated&&(Wc(e,t).flags|=256),e=xx(e,t),e!==2&&(t=Ta,Ta=r,t!==null&&rS(t)),e}function rS(e){Ta===null?Ta=e:Ta.push.apply(Ta,e)}function $q(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ri(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function el(e,t){for(t&=~ST,t&=~v1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zs(t),n=1<<r;e[r]=-1,t&=~n}}function $A(e){if(Xt&6)throw Error(Ie(327));_d();var t=ex(e,0);if(!(t&1))return Oa(e,Hr()),null;var r=xx(e,t);if(e.tag!==0&&r===2){var n=N2(e);n!==0&&(t=n,r=tS(e,n))}if(r===1)throw r=s0,Wc(e,0),el(e,t),Oa(e,Hr()),r;if(r===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Ta,Zi),Oa(e,Hr()),null}function ET(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(Jd=Hr()+500,h1&&Jl())}}function Zc(e){hl!==null&&hl.tag===0&&!(Xt&6)&&_d();var t=Xt;Xt|=1;var r=fs.transition,n=ir;try{if(fs.transition=null,ir=1,e)return e()}finally{ir=n,fs.transition=r,Xt=t,!(Xt&6)&&Jl()}}function TT(){Fa=ud.current,kr(ud)}function Wc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hq(r)),tn!==null)for(r=tn.return;r!==null;){var n=r;switch(iT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sx();break;case 3:Xd(),kr(ja),kr(ra),mT();break;case 5:pT(n);break;case 4:Xd();break;case 13:kr(Ar);break;case 19:kr(Ar);break;case 10:uT(n.type._context);break;case 22:case 23:TT()}r=r.return}if(Nn=e,tn=e=Nl(e.current,null),Ln=Fa=t,xn=0,s0=null,ST=v1=Qc=0,Ta=vp=null,Tc!==null){for(t=0;t<Tc.length;t++)if(r=Tc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Tc=null}return e}function O$(e,t){do{var r=tn;try{if(cT(),Dv.current=px,hx){for(var n=Pr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}hx=!1}if(Jc=0,Tn=fn=Pr=null,mp=!1,r0=0,_T.current=null,r===null||r.return===null){xn=1,s0=t,tn=null;break}e:{var s=e,i=r.return,o=r,c=t;if(t=Ln,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kA(i);if(p!==null){p.flags&=-257,EA(p,i,o,s,t),p.mode&1&&SA(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){SA(s,u,t),NT();break e}c=Error(Ie(426))}}else if(Tr&&o.mode&1){var v=kA(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),EA(v,i,o,s,t),oT(Yd(c,o));break e}}s=c=Yd(c,o),xn!==4&&(xn=2),vp===null?vp=[s]:vp.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=p$(s,c,t);vA(s,y);break e;case 1:o=c;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(El===null||!El.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=m$(s,o,t);vA(s,_);break e}}s=s.return}while(s!==null)}I$(r)}catch(S){t=S,tn===r&&r!==null&&(tn=r=r.return);continue}break}while(!0)}function P$(){var e=mx.current;return mx.current=px,e===null?px:e}function NT(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(Qc&268435455)&&!(v1&268435455)||el(Nn,Ln)}function xx(e,t){var r=Xt;Xt|=2;var n=P$();(Nn!==e||Ln!==t)&&(Zi=null,Wc(e,t));do try{Fq();break}catch(a){O$(e,a)}while(!0);if(cT(),Xt=r,mx.current=n,tn!==null)throw Error(Ie(261));return Nn=null,Ln=0,xn}function Fq(){for(;tn!==null;)R$(tn)}function Lq(){for(;tn!==null&&!uG();)R$(tn)}function R$(e){var t=M$(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,t===null?I$(e):tn=t,_T.current=null}function I$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Pq(r,t),r!==null){r.flags&=32767,tn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xn=6,tn=null;return}}else if(r=Oq(r,t,Fa),r!==null){tn=r;return}if(t=t.sibling,t!==null){tn=t;return}tn=t=e}while(t!==null);xn===0&&(xn=5)}function vc(e,t,r){var n=ir,a=fs.transition;try{fs.transition=null,ir=1,Bq(e,t,r,n)}finally{fs.transition=a,ir=n}return null}function Bq(e,t,r,n){do _d();while(hl!==null);if(Xt&6)throw Error(Ie(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(bG(e,s),e===Nn&&(tn=Nn=null,Ln=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yg||(yg=!0,$$(Zv,function(){return _d(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=fs.transition,fs.transition=null;var i=ir;ir=1;var o=Xt;Xt|=4,_T.current=null,Iq(e,r),C$(r,e),iq(R2),tx=!!P2,R2=P2=null,e.current=r,Dq(r),dG(),Xt=o,ir=i,fs.transition=s}else e.current=r;if(yg&&(yg=!1,hl=e,vx=a),s=e.pendingLanes,s===0&&(El=null),pG(r.stateNode),Oa(e,Hr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(gx)throw gx=!1,e=Z2,Z2=null,e;return vx&1&&e.tag!==0&&_d(),s=e.pendingLanes,s&1?e===eS?xp++:(xp=0,eS=e):xp=0,Jl(),null}function _d(){if(hl!==null){var e=p5(vx),t=fs.transition,r=ir;try{if(fs.transition=null,ir=16>e?16:e,hl===null)var n=!1;else{if(e=hl,hl=null,vx=0,Xt&6)throw Error(Ie(331));var a=Xt;for(Xt|=4,Qe=e.current;Qe!==null;){var s=Qe,i=s.child;if(Qe.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Qe=u;Qe!==null;){var d=Qe;switch(d.tag){case 0:case 11:case 15:gp(8,d,s)}var f=d.child;if(f!==null)f.return=d,Qe=f;else for(;Qe!==null;){d=Qe;var h=d.sibling,p=d.return;if(E$(d),d===u){Qe=null;break}if(h!==null){h.return=p,Qe=h;break}Qe=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Qe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Qe=i;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gp(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Qe=y;break e}Qe=s.return}}var b=e.current;for(Qe=b;Qe!==null;){i=Qe;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,Qe=x;else e:for(i=b;Qe!==null;){if(o=Qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:g1(9,o)}}catch(S){$r(o,o.return,S)}if(o===i){Qe=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Qe=_;break e}Qe=o.return}}if(Xt=a,Jl(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(l1,e)}catch{}n=!0}return n}finally{ir=r,fs.transition=t}}return!1}function FA(e,t,r){t=Yd(r,t),t=p$(e,t,1),e=kl(e,t,1),t=ga(),e!==null&&(ym(e,1,t),Oa(e,t))}function $r(e,t,r){if(e.tag===3)FA(e,e,r);else for(;t!==null;){if(t.tag===3){FA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(El===null||!El.has(n))){e=Yd(r,e),e=m$(t,e,1),t=kl(t,e,1),e=ga(),t!==null&&(ym(t,1,e),Oa(t,e));break}}t=t.return}}function Uq(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ga(),e.pingedLanes|=e.suspendedLanes&r,Nn===e&&(Ln&r)===r&&(xn===4||xn===3&&(Ln&130023424)===Ln&&500>Hr()-kT?Wc(e,0):ST|=r),Oa(e,t)}function D$(e,t){t===0&&(e.mode&1?(t=cg,cg<<=1,!(cg&130023424)&&(cg=4194304)):t=1);var r=ga();e=bo(e,t),e!==null&&(ym(e,t,r),Oa(e,r))}function zq(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),D$(e,r)}function Wq(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),D$(e,r)}var M$;M$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ja.current)Na=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Na=!1,Aq(e,t,r);Na=!!(e.flags&131072)}else Na=!1,Tr&&t.flags&1048576&&B5(t,lx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$v(e,t),e=t.pendingProps;var a=Gd(t,ra.current);wd(t,r),a=vT(null,t,n,e,a,r);var s=xT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(n)?(s=!0,ix(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,fT(t),a.updater=m1,t.stateNode=a,a._reactInternals=t,z2(t,n,e,r),t=V2(null,t,n,!0,s,r)):(t.tag=0,Tr&&s&&sT(t),ca(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch($v(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Vq(n),e=Rs(n,e),a){case 0:t=H2(null,t,n,e,r);break e;case 1:t=CA(null,t,n,e,r);break e;case 11:t=TA(null,t,n,e,r);break e;case 14:t=NA(null,t,n,Rs(n.type,e),r);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),H2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),CA(e,t,n,a,r);case 3:e:{if(y$(t),e===null)throw Error(Ie(387));n=t.pendingProps,s=t.memoizedState,a=s.element,G5(e,t),dx(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Yd(Error(Ie(423)),t),t=jA(e,t,n,r,a);break e}else if(n!==a){a=Yd(Error(Ie(424)),t),t=jA(e,t,n,r,a);break e}else for(Ga=Sl(t.stateNode.containerInfo.firstChild),qa=t,Tr=!0,Hs=null,r=H5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qd(),n===a){t=wo(e,t,r);break e}ca(e,t,n,r)}t=t.child}return t;case 5:return q5(t),e===null&&L2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,I2(n,a)?i=null:s!==null&&I2(n,s)&&(t.flags|=32),x$(e,t),ca(e,t,i,r),t.child;case 6:return e===null&&L2(t),null;case 13:return b$(e,t,r);case 4:return hT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kd(t,null,n,r):ca(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),TA(e,t,n,a,r);case 7:return ca(e,t,t.pendingProps,r),t.child;case 8:return ca(e,t,t.pendingProps.children,r),t.child;case 12:return ca(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,gr(cx,n._currentValue),n._currentValue=i,s!==null)if(ri(s.value,i)){if(s.children===a.children&&!ja.current){t=wo(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=uo(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),B2(s.return,r,t),o.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Ie(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),B2(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ca(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,wd(t,r),a=vs(a),n=n(a),t.flags|=1,ca(e,t,n,r),t.child;case 14:return n=t.type,a=Rs(n,t.pendingProps),a=Rs(n.type,a),NA(e,t,n,a,r);case 15:return g$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),$v(e,t),t.tag=1,Aa(n)?(e=!0,ix(t)):e=!1,wd(t,r),h$(t,n,a),z2(t,n,a,r),V2(null,t,n,!0,e,r);case 19:return w$(e,t,r);case 22:return v$(e,t,r)}throw Error(Ie(156,t.tag))};function $$(e,t){return u5(e,t)}function Hq(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(e,t,r,n){return new Hq(e,t,r,n)}function CT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vq(e){if(typeof e=="function")return CT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qE)return 11;if(e===KE)return 14}return 2}function Nl(e,t){var r=e.alternate;return r===null?(r=us(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bv(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")CT(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ed:return Hc(r.children,a,s,t);case GE:i=8,a|=8;break;case f2:return e=us(12,r,t,a|2),e.elementType=f2,e.lanes=s,e;case h2:return e=us(13,r,t,a),e.elementType=h2,e.lanes=s,e;case p2:return e=us(19,r,t,a),e.elementType=p2,e.lanes=s,e;case qM:return x1(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VM:i=10;break e;case GM:i=9;break e;case qE:i=11;break e;case KE:i=14;break e;case Go:i=16,n=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=us(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Hc(e,t,r,n){return e=us(7,e,n,t),e.lanes=r,e}function x1(e,t,r,n){return e=us(22,e,n,t),e.elementType=qM,e.lanes=r,e.stateNode={isHidden:!1},e}function Nw(e,t,r){return e=us(6,e,null,t),e.lanes=r,e}function Cw(e,t,r){return t=us(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gq(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lw(0),this.expirationTimes=lw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function jT(e,t,r,n,a,s,i,o,c){return e=new Gq(e,t,r,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=us(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fT(s),e}function qq(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function F$(e){if(!e)return Rl;e=e._reactInternals;e:{if(pu(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var r=e.type;if(Aa(r))return F5(e,r,t)}return t}function L$(e,t,r,n,a,s,i,o,c){return e=jT(r,n,!0,e,a,s,i,o,c),e.context=F$(null),r=e.current,n=ga(),a=Tl(r),s=uo(n,a),s.callback=t??null,kl(r,s,a),e.current.lanes=a,ym(e,a,n),Oa(e,n),e}function y1(e,t,r,n){var a=t.current,s=ga(),i=Tl(a);return r=F$(r),t.context===null?t.context=r:t.pendingContext=r,t=uo(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=kl(a,t,i),e!==null&&(ei(e,a,i,s),Iv(e,a,i)),i}function yx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function AT(e,t){LA(e,t),(e=e.alternate)&&LA(e,t)}function Kq(){return null}var B$=typeof reportError=="function"?reportError:function(e){console.error(e)};function OT(e){this._internalRoot=e}b1.prototype.render=OT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));y1(e,t,null,null)};b1.prototype.unmount=OT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zc(function(){y1(null,e,null,null)}),t[yo]=null}};function b1(e){this._internalRoot=e}b1.prototype.unstable_scheduleHydration=function(e){if(e){var t=v5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zo.length&&t!==0&&t<Zo[r].priority;r++);Zo.splice(r,0,e),r===0&&y5(e)}};function PT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BA(){}function Xq(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=yx(i);s.call(u)}}var i=L$(t,n,e,0,null,!1,!1,"",BA);return e._reactRootContainer=i,e[yo]=i.current,Jp(e.nodeType===8?e.parentNode:e),Zc(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=yx(c);o.call(u)}}var c=jT(e,0,!1,null,null,!1,!1,"",BA);return e._reactRootContainer=c,e[yo]=c.current,Jp(e.nodeType===8?e.parentNode:e),Zc(function(){y1(t,c,r,n)}),c}function _1(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var c=yx(i);o.call(c)}}y1(t,i,e,a)}else i=Xq(r,t,e,a,n);return yx(i)}m5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yh(t.pendingLanes);r!==0&&(JE(t,r|1),Oa(t,Hr()),!(Xt&6)&&(Jd=Hr()+500,Jl()))}break;case 13:Zc(function(){var n=bo(e,1);if(n!==null){var a=ga();ei(n,e,1,a)}}),AT(e,1)}};QE=function(e){if(e.tag===13){var t=bo(e,134217728);if(t!==null){var r=ga();ei(t,e,134217728,r)}AT(e,134217728)}};g5=function(e){if(e.tag===13){var t=Tl(e),r=bo(e,t);if(r!==null){var n=ga();ei(r,e,t,n)}AT(e,t)}};v5=function(){return ir};x5=function(e,t){var r=ir;try{return ir=e,t()}finally{ir=r}};k2=function(e,t,r){switch(t){case"input":if(v2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=f1(n);if(!a)throw Error(Ie(90));XM(n),v2(n,a)}}}break;case"textarea":JM(e,r);break;case"select":t=r.value,t!=null&&vd(e,!!r.multiple,t,!1)}};a5=ET;s5=Zc;var Yq={usingClientEntryPoint:!1,Events:[wm,ad,f1,r5,n5,ET]},bh={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jq={bundleType:bh.bundleType,version:bh.version,rendererPackageName:bh.rendererPackageName,rendererConfig:bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l5(e),e===null?null:e.stateNode},findFiberByHostInstance:bh.findFiberByHostInstance||Kq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{l1=bg.inject(Jq),ki=bg}catch{}}Ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yq;Ja.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PT(t))throw Error(Ie(200));return qq(e,t,null,r)};Ja.createRoot=function(e,t){if(!PT(e))throw Error(Ie(299));var r=!1,n="",a=B$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jT(e,1,!1,null,null,r,!1,n,a),e[yo]=t.current,Jp(e.nodeType===8?e.parentNode:e),new OT(t)};Ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=l5(t),e=e===null?null:e.stateNode,e};Ja.flushSync=function(e){return Zc(e)};Ja.hydrate=function(e,t,r){if(!w1(t))throw Error(Ie(200));return _1(null,e,t,!0,r)};Ja.hydrateRoot=function(e,t,r){if(!PT(e))throw Error(Ie(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=B$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=L$(t,null,e,1,r??null,a,!1,s,i),e[yo]=t.current,Jp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new b1(t)};Ja.render=function(e,t,r){if(!w1(t))throw Error(Ie(200));return _1(null,e,t,!1,r)};Ja.unmountComponentAtNode=function(e){if(!w1(e))throw Error(Ie(40));return e._reactRootContainer?(Zc(function(){_1(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};Ja.unstable_batchedUpdates=ET;Ja.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!w1(r))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return _1(e,t,r,!1,n)};Ja.version="18.3.1-next-f1338f8080-20240426";function U$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U$)}catch(e){console.error(e)}}U$(),UM.exports=Ja;var mu=UM.exports;const z$=dr(mu);var W$,UA=mu;W$=UA.createRoot,UA.hydrateRoot;const Qq=1,Zq=1e6;let jw=0;function eK(){return jw=(jw+1)%Number.MAX_SAFE_INTEGER,jw.toString()}const Aw=new Map,zA=e=>{if(Aw.has(e))return;const t=setTimeout(()=>{Aw.delete(e),yp({type:"REMOVE_TOAST",toastId:e})},Zq);Aw.set(e,t)},tK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Qq)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?zA(r):e.toasts.forEach(n=>{zA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Uv=[];let zv={toasts:[]};function yp(e){zv=tK(zv,e),Uv.forEach(t=>{t(zv)})}function rK({...e}){const t=eK(),r=a=>yp({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>yp({type:"DISMISS_TOAST",toastId:t});return yp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ff(){const[e,t]=w.useState(zv);return w.useEffect(()=>(Uv.push(t),()=>{const r=Uv.indexOf(t);r>-1&&Uv.splice(r,1)}),[e]),{...e,toast:rK,dismiss:r=>yp({type:"DISMISS_TOAST",toastId:r})}}function $e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function WA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function S1(...e){return t=>{let r=!1;const n=e.map(a=>{const s=WA(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():WA(e[a],null)}}}}function It(...e){return w.useCallback(S1(...e),e)}function nK(e,t){const r=w.createContext(t),n=s=>{const{children:i,...o}=s,c=w.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=w.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function _a(e,t=[]){let r=[];function n(s,i){const o=w.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||o,v=w.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||o,g=w.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>w.createContext(i));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[n,aK(a,...t)]}function aK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Il(e){const t=iK(e),r=w.forwardRef((n,a)=>{const{children:s,...i}=n,o=w.Children.toArray(s),c=o.find(lK);if(c){const u=c.props.children,d=o.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var sK=Il("Slot");function iK(e){const t=w.forwardRef((r,n)=>{const{children:a,...s}=r;if(w.isValidElement(a)){const i=uK(a),o=cK(s,a.props);return a.type!==w.Fragment&&(o.ref=n?S1(n,i):i),w.cloneElement(a,o)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H$=Symbol("radix.slottable");function oK(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=H$,t}function lK(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H$}function cK(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function uK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function k1(e){const t=e+"CollectionProvider",[r,n]=_a(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:y}=m,b=U.useRef(null),x=U.useRef(new Map).current;return l.jsx(a,{scope:v,itemMap:x,collectionRef:b,children:y})};i.displayName=t;const o=e+"CollectionSlot",c=Il(o),u=U.forwardRef((m,v)=>{const{scope:y,children:b}=m,x=s(o,y),_=It(v,x.collectionRef);return l.jsx(c,{ref:_,children:b})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Il(d),p=U.forwardRef((m,v)=>{const{scope:y,children:b,...x}=m,_=U.useRef(null),S=It(v,_),E=s(d,y);return U.useEffect(()=>(E.itemMap.set(_,{ref:_,...x}),()=>void E.itemMap.delete(_))),l.jsx(h,{[f]:"",ref:S,children:b})});p.displayName=d;function g(m){const v=s(e+"CollectionConsumer",m);return U.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((E,k)=>x.indexOf(E.ref.current)-x.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},g,n]}var dK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=dK.reduce((e,t)=>{const r=Il(`Primitive.${t}`),n=w.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function RT(e,t){e&&mu.flushSync(()=>e.dispatchEvent(t))}function Br(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fK(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hK="DismissableLayer",nS="dismissableLayer.update",pK="dismissableLayer.pointerDownOutside",mK="dismissableLayer.focusOutside",HA,V$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gu=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:o,...c}=e,u=w.useContext(V$),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),g=It(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=d?m.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,S=vK(k=>{const N=k.target,T=[...u.branches].some(A=>A.contains(N));!_||T||(a==null||a(k),i==null||i(k),k.defaultPrevented||o==null||o())},h),E=xK(k=>{const N=k.target;[...u.branches].some(A=>A.contains(N))||(s==null||s(k),i==null||i(k),k.defaultPrevented||o==null||o())},h);return fK(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(HA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=HA)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VA())},[d,u]),w.useEffect(()=>{const k=()=>p({});return document.addEventListener(nS,k),()=>document.removeEventListener(nS,k)},[]),l.jsx(rt.div,{...c,ref:g,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,E.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,S.onPointerDownCapture)})});gu.displayName=hK;var gK="DismissableLayerBranch",G$=w.forwardRef((e,t)=>{const r=w.useContext(V$),n=w.useRef(null),a=It(t,n);return w.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(rt.div,{...e,ref:a})});G$.displayName=gK;function vK(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){q$(pK,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function xK(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e),n=w.useRef(!1);return w.useEffect(()=>{const a=s=>{s.target&&!n.current&&q$(mK,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VA(){const e=new CustomEvent(nS);document.dispatchEvent(e)}function q$(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?RT(a,s):a.dispatchEvent(s)}var yK=gu,bK=G$,Gr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},wK="Portal",vu=w.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,s]=w.useState(!1);Gr(()=>s(!0),[]);const i=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?z$.createPortal(l.jsx(rt.div,{...n,ref:t}),i):null});vu.displayName=wK;function _K(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var _n=e=>{const{present:t,children:r}=e,n=SK(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),s=It(n.ref,kK(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:s}):null};_n.displayName="Presence";function SK(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),s=w.useRef("none"),i=e?"mounted":"unmounted",[o,c]=_K(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=wg(n.current);s.current=o==="mounted"?u:"none"},[o]),Gr(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,p=wg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Gr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=wg(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=wg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function wg(e){return(e==null?void 0:e.animationName)||"none"}function kK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EK=zE[" useInsertionEffect ".trim().toString()]||Gr;function Ri({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=TK({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=w.useCallback(d=>{var f;if(o){const h=NK(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[o,e,s,i]);return[c,u]}function TK({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),s=w.useRef(t);return EK(()=>{s.current=t},[t]),w.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function NK(e){return typeof e=="function"}var K$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CK="VisuallyHidden",E1=w.forwardRef((e,t)=>l.jsx(rt.span,{...e,ref:t,style:{...K$,...e.style}}));E1.displayName=CK;var jK=E1,IT="ToastProvider",[DT,AK,OK]=k1("Toast"),[X$,TBe]=_a("Toast",[OK]),[PK,T1]=X$(IT),Y$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[o,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${IT}\`. Expected non-empty \`string\`.`),l.jsx(DT.Provider,{scope:t,children:l.jsx(PK,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Y$.displayName=IT;var J$="ToastViewport",RK=["F8"],aS="toast.viewportPause",sS="toast.viewportResume",Q$=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=RK,label:a="Notifications ({hotkey})",...s}=e,i=T1(J$,r),o=AK(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=It(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;w.useEffect(()=>{const v=y=>{var x;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),w.useEffect(()=>{const v=c.current,y=f.current;if(g&&v&&y){const b=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(aS);y.dispatchEvent(E),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(sS);y.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!v.contains(E.relatedTarget)&&x()},S=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",b),v.addEventListener("focusout",_),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[g,i.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:v})=>{const b=o().map(x=>{const _=x.ref.current,S=[_,...GK(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[o]);return w.useEffect(()=>{const v=f.current;if(v){const y=b=>{var S,E,k;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const N=document.activeElement,T=b.shiftKey;if(b.target===v&&T){(S=u.current)==null||S.focus();return}const j=m({tabbingDirection:T?"backwards":"forwards"}),R=j.findIndex(I=>I===N);Ow(j.slice(R+1))?b.preventDefault():T?(E=u.current)==null||E.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,m]),l.jsxs(bK,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(iS,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Ow(v)}}),l.jsx(DT.Slot,{scope:r,children:l.jsx(rt.ol,{tabIndex:-1,...s,ref:h})}),g&&l.jsx(iS,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Ow(v)}})]})});Q$.displayName=J$;var Z$="ToastFocusProxy",iS=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=T1(Z$,r);return l.jsx(E1,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const o=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});iS.displayName=Z$;var Sm="Toast",IK="toast.swipeStart",DK="toast.swipeMove",MK="toast.swipeCancel",$K="toast.swipeEnd",eF=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[o,c]=Ri({prop:n,defaultProp:a??!0,onChange:s,caller:Sm});return l.jsx(_n,{present:r||o,children:l.jsx(BK,{open:o,...i,ref:t,onClose:()=>c(!1),onPause:Br(e.onPause),onResume:Br(e.onResume),onSwipeStart:$e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});eF.displayName=Sm;var[FK,LK]=X$(Sm,{onClose(){}}),BK=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=T1(Sm,r),[v,y]=w.useState(null),b=It(t,I=>y(I)),x=w.useRef(null),_=w.useRef(null),S=a||m.duration,E=w.useRef(0),k=w.useRef(S),N=w.useRef(0),{onToastAdd:T,onToastRemove:A}=m,C=Br(()=>{var M;(v==null?void 0:v.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),i()}),j=w.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(C,I))},[C]);w.useEffect(()=>{const I=m.viewport;if(I){const M=()=>{j(k.current),u==null||u()},W=()=>{const K=new Date().getTime()-E.current;k.current=k.current-K,window.clearTimeout(N.current),c==null||c()};return I.addEventListener(aS,W),I.addEventListener(sS,M),()=>{I.removeEventListener(aS,W),I.removeEventListener(sS,M)}}},[m.viewport,S,c,u,j]),w.useEffect(()=>{s&&!m.isClosePausedRef.current&&j(S)},[s,S,m.isClosePausedRef,j]),w.useEffect(()=>(T(),()=>A()),[T,A]);const R=w.useMemo(()=>v?oF(v):null,[v]);return m.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(UK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(FK,{scope:r,onClose:C,children:mu.createPortal(l.jsx(DT.ItemSlot,{scope:r,children:l.jsx(yK,{asChild:!0,onEscapeKeyDown:$e(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:$e(e.onKeyDown,I=>{I.key==="Escape"&&(o==null||o(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:$e(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:$e(e.onPointerMove,I=>{if(!x.current)return;const M=I.clientX-x.current.x,W=I.clientY-x.current.y,K=!!_.current,H=["left","right"].includes(m.swipeDirection),O=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Z=H?O(0,M):0,J=H?0:O(0,W),P=I.pointerType==="touch"?10:2,G={x:Z,y:J},B={originalEvent:I,delta:G};K?(_.current=G,_g(DK,f,B,{discrete:!1})):GA(G,m.swipeDirection,P)?(_.current=G,_g(IK,d,B,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(M)>P||Math.abs(W)>P)&&(x.current=null)}),onPointerUp:$e(e.onPointerUp,I=>{const M=_.current,W=I.target;if(W.hasPointerCapture(I.pointerId)&&W.releasePointerCapture(I.pointerId),_.current=null,x.current=null,M){const K=I.currentTarget,H={originalEvent:I,delta:M};GA(M,m.swipeDirection,m.swipeThreshold)?_g($K,p,H,{discrete:!0}):_g(MK,h,H,{discrete:!0}),K.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),UK=e=>{const{__scopeToast:t,children:r,...n}=e,a=T1(Sm,t),[s,i]=w.useState(!1),[o,c]=w.useState(!1);return HK(()=>i(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(vu,{asChild:!0,children:l.jsx(E1,{...n,children:s&&l.jsxs(l.Fragment,{children:[a.label," ",r]})})})},zK="ToastTitle",tF=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(rt.div,{...n,ref:t})});tF.displayName=zK;var WK="ToastDescription",rF=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(rt.div,{...n,ref:t})});rF.displayName=WK;var nF="ToastAction",aF=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(iF,{altText:r,asChild:!0,children:l.jsx(MT,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nF}\`. Expected non-empty \`string\`.`),null)});aF.displayName=nF;var sF="ToastClose",MT=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=LK(sF,r);return l.jsx(iF,{asChild:!0,children:l.jsx(rt.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,a.onClose)})})});MT.displayName=sF;var iF=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return l.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function oF(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),VK(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...oF(n))}}),t}function _g(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?RT(a,s):a.dispatchEvent(s)}var GA=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function HK(e=()=>{}){const t=Br(e);Gr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function VK(e){return e.nodeType===e.ELEMENT_NODE}function GK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ow(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var qK=Y$,lF=Q$,cF=eF,uF=tF,dF=rF,fF=aF,hF=MT;function pF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=pF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ut(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=pF(e))&&(n&&(n+=" "),n+=t);return n}const qA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KA=Ut,km=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return KA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=qA(d)||qA(f);return a[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...o}[m]):{...s,...o}[m]===v})?[...u,f,h]:u},[]);return KA(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mF=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},c)=>w.createElement("svg",{ref:c,...XK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:mF("lucide",a),...o},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(YK,{ref:s,iconNode:t,className:mF(`lucide-${KK(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Ue("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=Ue("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=Ue("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Ue("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=Ue("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Ue("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=Ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=Ue("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=Ue("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=Ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Ue("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=Ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=Ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=Ue("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Ue("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=Ue("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Ue("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=Ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=Ue("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=Ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=Ue("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Ue("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=Ue("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=Ue("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Ue("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ue("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=Ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=Ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=Ue("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=Ue("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ue("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=Ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=Ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=Ue("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Ue("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=Ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Ue("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=Ue("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=Ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=Ue("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=Ue("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=Ue("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=Ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=Ue("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=Ue("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=Ue("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),VT="-",$X=e=>{const t=LX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const o=i.split(VT);return o[0]===""&&o.length!==1&&o.shift(),CF(o,t)||FX(i)},getConflictingClassGroupIds:(i,o)=>{const c=r[i]||[];return o&&n[i]?[...c,...n[i]]:c}}},CF=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?CF(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(VT);return(i=t.validators.find(({validator:o})=>o(s)))==null?void 0:i.classGroupId},tO=/^\[(.+)\]$/,FX=e=>{if(tO.test(e)){const t=tO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},LX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return UX(Object.entries(e.classGroups),r).forEach(([s,i])=>{lS(i,n,s,t)}),n},lS=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:rO(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(BX(a)){lS(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{lS(i,rO(t,s),r,n)})})},rO=(e,t)=>{let r=e;return t.split(VT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},BX=e=>e.isThemeGetter,UX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,o])=>[t+i,o])):s);return[r,a]}):e,zX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},jF="!",WX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=o=>{const c=[];let u=0,d=0,f;for(let v=0;v<o.length;v++){let y=o[v];if(u===0){if(y===a&&(n||o.slice(v,v+s)===t)){c.push(o.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(jF),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:i}):i},HX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},VX=e=>({cache:zX(e.cacheSize),parseClassName:WX(e),...$X(e)}),GX=/\s+/,qX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(GX);let o="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=HX(d).join(":"),y=f?v+jF:v,b=y+m;if(s.includes(b))continue;s.push(b);const x=a(m,g);for(let _=0;_<x.length;++_){const S=x[_];s.push(y+S)}o=u+(o.length>0?" "+o:o)}return o};function KX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=AF(t))&&(n&&(n+=" "),n+=r);return n}const AF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=AF(e[n]))&&(r&&(r+=" "),r+=t);return r};function XX(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=VX(u),n=r.cache.get,a=r.cache.set,s=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=qX(c,r);return a(c,d),d}return function(){return s(KX.apply(null,arguments))}}const br=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},OF=/^\[(?:([a-z-]+):)?(.+)\]$/i,YX=/^\d+\/\d+$/,JX=new Set(["px","full","screen"]),QX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qi=e=>Sd(e)||JX.has(e)||YX.test(e),Fo=e=>Lf(e,"length",uY),Sd=e=>!!e&&!Number.isNaN(Number(e)),Rw=e=>Lf(e,"number",Sd),wh=e=>!!e&&Number.isInteger(Number(e)),nY=e=>e.endsWith("%")&&Sd(e.slice(0,-1)),Pt=e=>OF.test(e),Lo=e=>QX.test(e),aY=new Set(["length","size","percentage"]),sY=e=>Lf(e,aY,PF),iY=e=>Lf(e,"position",PF),oY=new Set(["image","url"]),lY=e=>Lf(e,oY,fY),cY=e=>Lf(e,"",dY),_h=()=>!0,Lf=(e,t,r)=>{const n=OF.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},uY=e=>ZX.test(e)&&!eY.test(e),PF=()=>!1,dY=e=>tY.test(e),fY=e=>rY.test(e),hY=()=>{const e=br("colors"),t=br("spacing"),r=br("blur"),n=br("brightness"),a=br("borderColor"),s=br("borderRadius"),i=br("borderSpacing"),o=br("borderWidth"),c=br("contrast"),u=br("grayscale"),d=br("hueRotate"),f=br("invert"),h=br("gap"),p=br("gradientColorStops"),g=br("gradientColorStopPositions"),m=br("inset"),v=br("margin"),y=br("opacity"),b=br("padding"),x=br("saturate"),_=br("scale"),S=br("sepia"),E=br("skew"),k=br("space"),N=br("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Pt,t],j=()=>[Pt,t],R=()=>["",qi,Fo],I=()=>["auto",Sd,Pt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Pt],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Sd,Pt];return{cacheSize:500,separator:":",theme:{colors:[_h],spacing:[qi,Fo],blur:["none","",Lo,Pt],brightness:J(),borderColor:[e],borderRadius:["none","","full",Lo,Pt],borderSpacing:j(),borderWidth:R(),contrast:J(),grayscale:O(),hueRotate:J(),invert:O(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[nY,Fo],inset:C(),margin:C(),opacity:J(),padding:j(),saturate:J(),scale:J(),sepia:O(),skew:J(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Pt]}],container:["container"],columns:[{columns:[Lo]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Pt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wh,Pt]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pt]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",wh,Pt]}],"grid-cols":[{"grid-cols":[_h]}],"col-start-end":[{col:["auto",{span:["full",wh,Pt]},Pt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[_h]}],"row-start-end":[{row:["auto",{span:[wh,Pt]},Pt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pt,t]}],"min-w":[{"min-w":[Pt,t,"min","max","fit"]}],"max-w":[{"max-w":[Pt,t,"none","full","min","max","fit","prose",{screen:[Lo]},Lo]}],h:[{h:[Pt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lo,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rw]}],"font-family":[{font:[_h]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pt]}],"line-clamp":[{"line-clamp":["none",Sd,Rw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qi,Pt]}],"list-image":[{"list-image":["none",Pt]}],"list-style-type":[{list:["none","disc","decimal",Pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qi,Fo]}],"underline-offset":[{"underline-offset":["auto",qi,Pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),iY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[qi,Pt]}],"outline-w":[{outline:[qi,Fo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[qi,Fo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lo,cY]}],"shadow-color":[{shadow:[_h]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lo,Pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Pt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wh,Pt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qi,Fo,Rw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pY=XX(hY);function me(...e){return pY(Ut(e))}const mY=qK,RF=w.forwardRef(({className:e,...t},r)=>l.jsx(lF,{ref:r,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));RF.displayName=lF.displayName;const gY=km("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IF=w.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(cF,{ref:n,className:me(gY({variant:t}),e),...r}));IF.displayName=cF.displayName;const vY=w.forwardRef(({className:e,...t},r)=>l.jsx(fF,{ref:r,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));vY.displayName=fF.displayName;const DF=w.forwardRef(({className:e,...t},r)=>l.jsx(hF,{ref:r,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ef,{className:"h-4 w-4"})}));DF.displayName=hF.displayName;const MF=w.forwardRef(({className:e,...t},r)=>l.jsx(uF,{ref:r,className:me("text-sm font-semibold",e),...t}));MF.displayName=uF.displayName;const $F=w.forwardRef(({className:e,...t},r)=>l.jsx(dF,{ref:r,className:me("text-sm opacity-90",e),...t}));$F.displayName=dF.displayName;function xY(){const{toasts:e}=Ff();return l.jsxs(mY,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return l.jsxs(IF,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(MF,{children:r}),n&&l.jsx($F,{children:n})]}),a,l.jsx(DF,{})]},t)}),l.jsx(RF,{})]})}var nO=["light","dark"],yY="(prefers-color-scheme: dark)",bY=w.createContext(void 0),wY={setTheme:e=>{},themes:[]},_Y=()=>{var e;return(e=w.useContext(bY))!=null?e:wY};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:o,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?nO.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let y=i?i[g]:g,b=m?g+"|| ''":`'${y}'`,x="";return a&&v&&!m&&nO.includes(g)&&(x+=`d.style.colorScheme = '${g}';`),r==="class"?m||y?x+=`c.add(${b})`:x+="null":y&&(x+=`d[s](n,${b})`),x},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${yY}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var SY=e=>{switch(e){case"success":return TY;case"info":return CY;case"warning":return NY;case"error":return jY;default:return null}},kY=Array(12).fill(0),EY=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},kY.map((r,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),TY=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NY=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CY=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jY=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AY=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),OY=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cS=1,PY=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cS++,s=this.toasts.find(o=>o.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(o=>o.id===a?(this.publish({...o,...e,id:a,title:r}),{...o,...e,id:a,dismissible:i,title:r}):o):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,i=n.then(async c=>{if(s=["resolve",c],U.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(IY(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),o=()=>new Promise((c,u)=>i.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||cS++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ka=new PY,RY=(e,t)=>{let r=(t==null?void 0:t.id)||cS++;return ka.addToast({title:e,...t,id:r}),r},IY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",DY=RY,MY=()=>ka.toasts,$Y=()=>ka.getActiveToasts();Object.assign(DY,{success:ka.success,info:ka.info,warning:ka.warning,error:ka.error,custom:ka.custom,message:ka.message,promise:ka.promise,dismiss:ka.dismiss,loading:ka.loading},{getHistory:MY,getToasts:$Y});function FY(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}FY(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sg(e){return e.label!==void 0}var LY=3,BY="32px",UY="16px",aO=4e3,zY=356,WY=14,HY=20,VY=200;function Ts(...e){return e.filter(Boolean).join(" ")}function GY(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var qY=e=>{var t,r,n,a,s,i,o,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:y,heights:b,index:x,toasts:_,expanded:S,removeToast:E,defaultRichColors:k,closeButton:N,style:T,cancelButtonStyle:A,actionButtonStyle:C,className:j="",descriptionClassName:R="",duration:I,position:M,gap:W,loadingIcon:K,expandByDefault:H,classNames:O,icons:Z,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:P}=e,[G,B]=U.useState(null),[z,ae]=U.useState(null),[V,ie]=U.useState(!1),[re,L]=U.useState(!1),[oe,D]=U.useState(!1),[le,ye]=U.useState(!1),[Se,_e]=U.useState(!1),[pe,Le]=U.useState(0),[ze,xt]=U.useState(0),nt=U.useRef(p.duration||I||aO),at=U.useRef(null),yt=U.useRef(null),Y=x===0,be=x+1<=y,ge=p.type,Re=p.dismissible!==!1,ft=p.className||"",$t=p.descriptionClassName||"",st=U.useMemo(()=>b.findIndex(je=>je.toastId===p.id)||0,[b,p.id]),wt=U.useMemo(()=>{var je;return(je=p.closeButton)!=null?je:N},[p.closeButton,N]),Wt=U.useMemo(()=>p.duration||I||aO,[p.duration,I]),Ct=U.useRef(0),Ft=U.useRef(0),ce=U.useRef(0),ht=U.useRef(null),[pt,Pe]=M.split("-"),Ge=U.useMemo(()=>b.reduce((je,se,ve)=>ve>=st?je:je+se.height,0),[b,st]),Ae=OY(),dt=p.invert||h,tt=ge==="loading";Ft.current=U.useMemo(()=>st*W+Ge,[st,Ge]),U.useEffect(()=>{nt.current=Wt},[Wt]),U.useEffect(()=>{ie(!0)},[]),U.useEffect(()=>{let je=yt.current;if(je){let se=je.getBoundingClientRect().height;return xt(se),v(ve=>[{toastId:p.id,height:se,position:p.position},...ve]),()=>v(ve=>ve.filter(Ne=>Ne.toastId!==p.id))}},[v,p.id]),U.useLayoutEffect(()=>{if(!V)return;let je=yt.current,se=je.style.height;je.style.height="auto";let ve=je.getBoundingClientRect().height;je.style.height=se,xt(ve),v(Ne=>Ne.find(Ve=>Ve.toastId===p.id)?Ne.map(Ve=>Ve.toastId===p.id?{...Ve,height:ve}:Ve):[{toastId:p.id,height:ve,position:p.position},...Ne])},[V,p.title,p.description,v,p.id]);let _t=U.useCallback(()=>{L(!0),Le(Ft.current),v(je=>je.filter(se=>se.toastId!==p.id)),setTimeout(()=>{E(p)},VY)},[p,E,v,Ft]);U.useEffect(()=>{if(p.promise&&ge==="loading"||p.duration===1/0||p.type==="loading")return;let je;return S||m||P&&Ae?(()=>{if(ce.current<Ct.current){let se=new Date().getTime()-Ct.current;nt.current=nt.current-se}ce.current=new Date().getTime()})():nt.current!==1/0&&(Ct.current=new Date().getTime(),je=setTimeout(()=>{var se;(se=p.onAutoClose)==null||se.call(p,p),_t()},nt.current)),()=>clearTimeout(je)},[S,m,p,ge,P,Ae,_t]),U.useEffect(()=>{p.delete&&_t()},[_t,p.delete]);function Vt(){var je,se,ve;return Z!=null&&Z.loading?U.createElement("div",{className:Ts(O==null?void 0:O.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":ge==="loading"},Z.loading):K?U.createElement("div",{className:Ts(O==null?void 0:O.loader,(se=p==null?void 0:p.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":ge==="loading"},K):U.createElement(EY,{className:Ts(O==null?void 0:O.loader,(ve=p==null?void 0:p.classNames)==null?void 0:ve.loader),visible:ge==="loading"})}return U.createElement("li",{tabIndex:0,ref:yt,className:Ts(j,ft,O==null?void 0:O.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[ge],(r=p==null?void 0:p.classNames)==null?void 0:r[ge]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":Se,"data-removed":re,"data-visible":be,"data-y-position":pt,"data-x-position":Pe,"data-index":x,"data-front":Y,"data-swiping":oe,"data-dismissible":Re,"data-type":ge,"data-invert":dt,"data-swipe-out":le,"data-swipe-direction":z,"data-expanded":!!(S||H&&V),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${re?pe:Ft.current}px`,"--initial-height":H?"auto":`${ze}px`,...T,...p.style},onDragEnd:()=>{D(!1),B(null),ht.current=null},onPointerDown:je=>{tt||!Re||(at.current=new Date,Le(Ft.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(D(!0),ht.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,se,ve,Ne;if(le||!Re)return;ht.current=null;let Ve=Number(((je=yt.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ye=Number(((se=yt.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((ve=at.current)==null?void 0:ve.getTime()),Dt=G==="x"?Ve:Ye,Cr=Math.abs(Dt)/Ht;if(Math.abs(Dt)>=HY||Cr>.11){Le(Ft.current),(Ne=p.onDismiss)==null||Ne.call(p,p),ae(G==="x"?Ve>0?"right":"left":Ye>0?"down":"up"),_t(),ye(!0),_e(!1);return}D(!1),B(null)},onPointerMove:je=>{var se,ve,Ne,Ve;if(!ht.current||!Re||((se=window.getSelection())==null?void 0:se.toString().length)>0)return;let Ye=je.clientY-ht.current.y,Ht=je.clientX-ht.current.x,Dt=(ve=e.swipeDirections)!=null?ve:GY(M);!G&&(Math.abs(Ht)>1||Math.abs(Ye)>1)&&B(Math.abs(Ht)>Math.abs(Ye)?"x":"y");let Cr={x:0,y:0};G==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&Ye<0||Dt.includes("bottom")&&Ye>0)&&(Cr.y=Ye):G==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&Ht<0||Dt.includes("right")&&Ht>0)&&(Cr.x=Ht),(Math.abs(Cr.x)>0||Math.abs(Cr.y)>0)&&_e(!0),(Ne=yt.current)==null||Ne.style.setProperty("--swipe-amount-x",`${Cr.x}px`),(Ve=yt.current)==null||Ve.style.setProperty("--swipe-amount-y",`${Cr.y}px`)}},wt&&!p.jsx?U.createElement("button",{"aria-label":J,"data-disabled":tt,"data-close-button":!0,onClick:tt||!Re?()=>{}:()=>{var je;_t(),(je=p.onDismiss)==null||je.call(p,p)},className:Ts(O==null?void 0:O.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(s=Z==null?void 0:Z.close)!=null?s:AY):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:U.createElement(U.Fragment,null,ge||p.icon||p.promise?U.createElement("div",{"data-icon":"",className:Ts(O==null?void 0:O.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Vt():null,p.type!=="loading"?p.icon||(Z==null?void 0:Z[ge])||SY(ge):null):null,U.createElement("div",{"data-content":"",className:Ts(O==null?void 0:O.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},U.createElement("div",{"data-title":"",className:Ts(O==null?void 0:O.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?U.createElement("div",{"data-description":"",className:Ts(R,$t,O==null?void 0:O.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&Sg(p.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:je=>{var se,ve;Sg(p.cancel)&&Re&&((ve=(se=p.cancel).onClick)==null||ve.call(se,je),_t())},className:Ts(O==null?void 0:O.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&Sg(p.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||C,onClick:je=>{var se,ve;Sg(p.action)&&((ve=(se=p.action).onClick)==null||ve.call(se,je),!je.defaultPrevented&&_t())},className:Ts(O==null?void 0:O.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function sO(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function KY(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,i=s?"--mobile-offset":"--offset",o=s?UY:BY;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=o:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var XY=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=LY,toastOptions:m,dir:v=sO(),gap:y=WY,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,k]=U.useState([]),N=U.useMemo(()=>Array.from(new Set([n].concat(E.filter(P=>P.position).map(P=>P.position)))),[E,n]),[T,A]=U.useState([]),[C,j]=U.useState(!1),[R,I]=U.useState(!1),[M,W]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=U.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=U.useRef(null),Z=U.useRef(!1),J=U.useCallback(P=>{k(G=>{var B;return(B=G.find(z=>z.id===P.id))!=null&&B.delete||ka.dismiss(P.id),G.filter(({id:z})=>z!==P.id)})},[]);return U.useEffect(()=>ka.subscribe(P=>{if(P.dismiss){k(G=>G.map(B=>B.id===P.id?{...B,delete:!0}:B));return}setTimeout(()=>{z$.flushSync(()=>{k(G=>{let B=G.findIndex(z=>z.id===P.id);return B!==-1?[...G.slice(0,B),{...G[B],...P},...G.slice(B+1)]:[P,...G]})})})}),[]),U.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:G})=>{W(G?"dark":"light")})}catch{P.addListener(({matches:B})=>{try{W(B?"dark":"light")}catch(z){console.error(z)}})}},[d]),U.useEffect(()=>{E.length<=1&&j(!1)},[E]),U.useEffect(()=>{let P=G=>{var B,z;a.every(ae=>G[ae]||G.code===ae)&&(j(!0),(B=K.current)==null||B.focus()),G.code==="Escape"&&(document.activeElement===K.current||(z=K.current)!=null&&z.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[a]),U.useEffect(()=>{if(K.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,Z.current=!1)}},[K.current]),U.createElement("section",{ref:t,"aria-label":`${_} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((P,G)=>{var B;let[z,ae]=P.split("-");return E.length?U.createElement("ol",{key:P,dir:v==="auto"?sO():v,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":z,"data-lifted":C&&E.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((B=T[0])==null?void 0:B.height)||0}px`,"--width":`${zY}px`,"--gap":`${y}px`,...p,...KY(c,u)},onBlur:V=>{Z.current&&!V.currentTarget.contains(V.relatedTarget)&&(Z.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,O.current=V.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{R||j(!1)},onDragEnd:()=>j(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},E.filter(V=>!V.position&&G===0||V.position===P).map((V,ie)=>{var re,L;return U.createElement(qY,{key:V.id,icons:x,index:ie,toast:V,defaultRichColors:f,duration:(re=m==null?void 0:m.duration)!=null?re:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(L=m==null?void 0:m.closeButton)!=null?L:i,interacting:R,position:P,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:J,toasts:E.filter(oe=>oe.position==V.position),heights:T.filter(oe=>oe.position==V.position),setHeights:A,expandByDefault:s,gap:y,loadingIcon:b,expanded:C,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const YY=({...e})=>{const{theme:t="system"}=_Y();return l.jsx(XY,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var JY=zE[" useId ".trim().toString()]||(()=>{}),QY=0;function hs(e){const[t,r]=w.useState(JY());return Gr(()=>{r(n=>n??String(QY++))},[e]),t?`radix-${t}`:""}const ZY=["top","right","bottom","left"],$l=Math.min,Ua=Math.max,Sx=Math.round,kg=Math.floor,Ti=e=>({x:e,y:e}),eJ={left:"right",right:"left",bottom:"top",top:"bottom"},tJ={start:"end",end:"start"};function uS(e,t,r){return Ua(e,$l(t,r))}function _o(e,t){return typeof e=="function"?e(t):e}function So(e){return e.split("-")[0]}function Bf(e){return e.split("-")[1]}function GT(e){return e==="x"?"y":"x"}function qT(e){return e==="y"?"height":"width"}const rJ=new Set(["top","bottom"]);function wi(e){return rJ.has(So(e))?"y":"x"}function KT(e){return GT(wi(e))}function nJ(e,t,r){r===void 0&&(r=!1);const n=Bf(e),a=KT(e),s=qT(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=kx(i)),[i,kx(i)]}function aJ(e){const t=kx(e);return[dS(e),t,dS(t)]}function dS(e){return e.replace(/start|end/g,t=>tJ[t])}const iO=["left","right"],oO=["right","left"],sJ=["top","bottom"],iJ=["bottom","top"];function oJ(e,t,r){switch(e){case"top":case"bottom":return r?t?oO:iO:t?iO:oO;case"left":case"right":return t?sJ:iJ;default:return[]}}function lJ(e,t,r,n){const a=Bf(e);let s=oJ(So(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(dS)))),s}function kx(e){return e.replace(/left|right|bottom|top/g,t=>eJ[t])}function cJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function FF(e){return typeof e!="number"?cJ(e):{top:e,right:e,bottom:e,left:e}}function Ex(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function lO(e,t,r){let{reference:n,floating:a}=e;const s=wi(t),i=KT(t),o=qT(i),c=So(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Bf(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const uJ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=lO(u,n,c),h=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:y}=o[m],{x:b,y:x,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=x??f,p={...p,[v]:{...p[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=lO(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function l0(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=_o(t,e),g=FF(p),v=o[h?f==="floating"?"reference":"floating":f],y=Ex(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Ex(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:x,strategy:c}):b);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const dJ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=_o(e,t)||{};if(u==null)return{};const f=FF(d),h={x:r,y:n},p=KT(a),g=qT(p),m=await i.getDimensions(u),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=o.floating[x]||s.floating[g]);const N=_/2-S/2,T=k/2-m[g]/2-1,A=$l(f[y],T),C=$l(f[b],T),j=A,R=k-m[g]-C,I=k/2-m[g]/2+N,M=uS(j,I,R),W=!c.arrow&&Bf(a)!=null&&I!==M&&s.reference[g]/2-(I<j?A:C)-m[g]/2<0,K=W?I<j?I-j:I-R:0;return{[p]:h[p]+K,data:{[p]:M,centerOffset:I-M-K,...W&&{alignmentOffset:K}},reset:W}}}),fJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=_o(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=So(a),b=wi(o),x=So(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(x||!m?[kx(o)]:aJ(o)),E=g!=="none";!h&&E&&S.push(...lJ(o,m,g,_));const k=[o,...S],N=await l0(t,v),T=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&T.push(N[y]),f){const I=nJ(a,i,_);T.push(N[I[0]],N[I[1]])}if(A=[...A,{placement:a,overflows:T}],!T.every(I=>I<=0)){var C,j;const I=(((C=s.flip)==null?void 0:C.index)||0)+1,M=k[I];if(M&&(!(f==="alignment"?b!==wi(M):!1)||A.every(H=>H.overflows[0]>0&&wi(H.placement)===b)))return{data:{index:I,overflows:A},reset:{placement:M}};let W=(j=A.filter(K=>K.overflows[0]<=0).sort((K,H)=>K.overflows[1]-H.overflows[1])[0])==null?void 0:j.placement;if(!W)switch(p){case"bestFit":{var R;const K=(R=A.filter(H=>{if(E){const O=wi(H.placement);return O===b||O==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(O=>O>0).reduce((O,Z)=>O+Z,0)]).sort((H,O)=>H[1]-O[1])[0])==null?void 0:R[0];K&&(W=K);break}case"initialPlacement":W=o;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function cO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uO(e){return ZY.some(t=>e[t]>=0)}const hJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=_o(e,t);switch(n){case"referenceHidden":{const s=await l0(t,{...a,elementContext:"reference"}),i=cO(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:uO(i)}}}case"escaped":{const s=await l0(t,{...a,altBoundary:!0}),i=cO(s,r.floating);return{data:{escapedOffsets:i,escaped:uO(i)}}}default:return{}}}}},LF=new Set(["left","top"]);async function pJ(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=So(r),o=Bf(r),c=wi(r)==="y",u=LF.has(i)?-1:1,d=s&&c?-1:1,f=_o(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const mJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,c=await pJ(t,e);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},gJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=_o(e,t),u={x:r,y:n},d=await l0(t,c),f=wi(So(a)),h=GT(f);let p=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+d[v],x=p-d[y];p=uS(b,p,x)}if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[v],x=g-d[y];g=uS(b,g,x)}const m=o.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:i}}}}}},vJ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=_o(e,t),d={x:r,y:n},f=wi(a),h=GT(f);let p=d[h],g=d[f];const m=_o(o,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=h==="y"?"height":"width",_=s.reference[h]-s.floating[x]+v.mainAxis,S=s.reference[h]+s.reference[x]-v.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var y,b;const x=h==="y"?"width":"height",_=LF.has(So(a)),S=s.reference[f]-s.floating[x]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),E=s.reference[f]+s.reference[x]+(_?0:((b=i.offset)==null?void 0:b[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>E&&(g=E)}return{[h]:p,[f]:g}}}},xJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,{apply:c=()=>{},...u}=_o(e,t),d=await l0(t,u),f=So(a),h=Bf(a),p=wi(a)==="y",{width:g,height:m}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,x=g-d.left-d.right,_=$l(m-d[v],b),S=$l(g-d[y],x),E=!t.middlewareData.shift;let k=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),E&&!h){const A=Ua(d.left,0),C=Ua(d.right,0),j=Ua(d.top,0),R=Ua(d.bottom,0);p?N=g-2*(A!==0||C!==0?A+C:Ua(d.left,d.right)):k=m-2*(j!==0||R!==0?j+R:Ua(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const T=await i.getDimensions(o.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function C1(){return typeof window<"u"}function Uf(e){return BF(e)?(e.nodeName||"").toLowerCase():"#document"}function Ka(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bi(e){var t;return(t=(BF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BF(e){return C1()?e instanceof Node||e instanceof Ka(e).Node:!1}function ni(e){return C1()?e instanceof Element||e instanceof Ka(e).Element:!1}function Di(e){return C1()?e instanceof HTMLElement||e instanceof Ka(e).HTMLElement:!1}function dO(e){return!C1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ka(e).ShadowRoot}const yJ=new Set(["inline","contents"]);function Em(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ai(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!yJ.has(a)}const bJ=new Set(["table","td","th"]);function wJ(e){return bJ.has(Uf(e))}const _J=[":popover-open",":modal"];function j1(e){return _J.some(t=>{try{return e.matches(t)}catch{return!1}})}const SJ=["transform","translate","scale","rotate","perspective"],kJ=["transform","translate","scale","rotate","perspective","filter"],EJ=["paint","layout","strict","content"];function XT(e){const t=YT(),r=ni(e)?ai(e):e;return SJ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||kJ.some(n=>(r.willChange||"").includes(n))||EJ.some(n=>(r.contain||"").includes(n))}function TJ(e){let t=Fl(e);for(;Di(t)&&!tf(t);){if(XT(t))return t;if(j1(t))return null;t=Fl(t)}return null}function YT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NJ=new Set(["html","body","#document"]);function tf(e){return NJ.has(Uf(e))}function ai(e){return Ka(e).getComputedStyle(e)}function A1(e){return ni(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fl(e){if(Uf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dO(e)&&e.host||Bi(e);return dO(t)?t.host:t}function UF(e){const t=Fl(e);return tf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Di(t)&&Em(t)?t:UF(t)}function c0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=UF(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Ka(a);if(s){const o=fS(i);return t.concat(i,i.visualViewport||[],Em(a)?a:[],o&&r?c0(o):[])}return t.concat(a,c0(a,[],r))}function fS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zF(e){const t=ai(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Di(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=Sx(r)!==s||Sx(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function JT(e){return ni(e)?e:e.contextElement}function kd(e){const t=JT(e);if(!Di(t))return Ti(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=zF(t);let i=(s?Sx(r.width):r.width)/n,o=(s?Sx(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const CJ=Ti(0);function WF(e){const t=Ka(e);return!YT()||!t.visualViewport?CJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jJ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ka(e)?!1:t}function eu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=JT(e);let i=Ti(1);t&&(n?ni(n)&&(i=kd(n)):i=kd(e));const o=jJ(s,r,n)?WF(s):Ti(0);let c=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=Ka(s),p=n&&ni(n)?Ka(n):n;let g=h,m=fS(g);for(;m&&n&&p!==g;){const v=kd(m),y=m.getBoundingClientRect(),b=ai(m),x=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=x,u+=_,g=Ka(m),m=fS(g)}}return Ex({width:d,height:f,x:c,y:u})}function QT(e,t){const r=A1(e).scrollLeft;return t?t.left+r:eu(Bi(e)).left+r}function HF(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:QT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function AJ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=Bi(n),o=t?j1(t.floating):!1;if(n===i||o&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Ti(1);const d=Ti(0),f=Di(n);if((f||!f&&!s)&&((Uf(n)!=="body"||Em(i))&&(c=A1(n)),Di(n))){const p=eu(n);u=kd(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=i&&!f&&!s?HF(i,c,!0):Ti(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function OJ(e){return Array.from(e.getClientRects())}function PJ(e){const t=Bi(e),r=A1(e),n=e.ownerDocument.body,a=Ua(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ua(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+QT(e);const o=-r.scrollTop;return ai(n).direction==="rtl"&&(i+=Ua(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}function RJ(e,t){const r=Ka(e),n=Bi(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,c=0;if(a){s=a.width,i=a.height;const u=YT();(!u||u&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:o,y:c}}const IJ=new Set(["absolute","fixed"]);function DJ(e,t){const r=eu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Di(e)?kd(e):Ti(1),i=e.clientWidth*s.x,o=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:o,x:c,y:u}}function fO(e,t,r){let n;if(t==="viewport")n=RJ(e,r);else if(t==="document")n=PJ(Bi(e));else if(ni(t))n=DJ(t,r);else{const a=WF(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ex(n)}function VF(e,t){const r=Fl(e);return r===t||!ni(r)||tf(r)?!1:ai(r).position==="fixed"||VF(r,t)}function MJ(e,t){const r=t.get(e);if(r)return r;let n=c0(e,[],!1).filter(o=>ni(o)&&Uf(o)!=="body"),a=null;const s=ai(e).position==="fixed";let i=s?Fl(e):e;for(;ni(i)&&!tf(i);){const o=ai(i),c=XT(i);!c&&o.position==="fixed"&&(a=null),(s?!c&&!a:!c&&o.position==="static"&&!!a&&IJ.has(a.position)||Em(i)&&!c&&VF(e,i))?n=n.filter(d=>d!==i):a=o,i=Fl(i)}return t.set(e,n),n}function $J(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?j1(t)?[]:MJ(t,this._c):[].concat(r),n],o=i[0],c=i.reduce((u,d)=>{const f=fO(t,d,a);return u.top=Ua(f.top,u.top),u.right=$l(f.right,u.right),u.bottom=$l(f.bottom,u.bottom),u.left=Ua(f.left,u.left),u},fO(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function FJ(e){const{width:t,height:r}=zF(e);return{width:t,height:r}}function LJ(e,t,r){const n=Di(t),a=Bi(t),s=r==="fixed",i=eu(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=Ti(0);function u(){c.x=QT(a)}if(n||!n&&!s)if((Uf(t)!=="body"||Em(a))&&(o=A1(t)),n){const p=eu(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?HF(a,o):Ti(0),f=i.left+o.scrollLeft-c.x-d.x,h=i.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Iw(e){return ai(e).position==="static"}function hO(e,t){if(!Di(e)||ai(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bi(e)===r&&(r=r.ownerDocument.body),r}function GF(e,t){const r=Ka(e);if(j1(e))return r;if(!Di(e)){let a=Fl(e);for(;a&&!tf(a);){if(ni(a)&&!Iw(a))return a;a=Fl(a)}return r}let n=hO(e,t);for(;n&&wJ(n)&&Iw(n);)n=hO(n,t);return n&&tf(n)&&Iw(n)&&!XT(n)?r:n||TJ(e)||r}const BJ=async function(e){const t=this.getOffsetParent||GF,r=this.getDimensions,n=await r(e.floating);return{reference:LJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UJ(e){return ai(e).direction==="rtl"}const zJ={convertOffsetParentRelativeRectToViewportRelativeRect:AJ,getDocumentElement:Bi,getClippingRect:$J,getOffsetParent:GF,getElementRects:BJ,getClientRects:OJ,getDimensions:FJ,getScale:kd,isElement:ni,isRTL:UJ};function qF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WJ(e,t){let r=null,n;const a=Bi(e);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const g=kg(f),m=kg(a.clientWidth-(d+h)),v=kg(a.clientHeight-(f+p)),y=kg(d),x={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Ua(0,$l(1,c))||1};let _=!0;function S(E){const k=E[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!qF(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),s}function HJ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=JT(e),d=a||s?[...u?c0(u):[],...c0(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&o?WJ(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?eu(e):null;c&&v();function v(){const y=eu(e);m&&!qF(m,y)&&r(),m=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const VJ=mJ,GJ=gJ,qJ=fJ,KJ=xJ,XJ=hJ,pO=dJ,YJ=vJ,JJ=(e,t,r)=>{const n=new Map,a={platform:zJ,...r},s={...a.platform,_c:n};return uJ(e,t,{...a,platform:s})};var QJ=typeof document<"u",ZJ=function(){},Wv=QJ?w.useLayoutEffect:ZJ;function Tx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Tx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Tx(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function KF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mO(e,t){const r=KF(e);return Math.round(t*r)/r}function Dw(e){const t=w.useRef(e);return Wv(()=>{t.current=e}),t}function eQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(n);Tx(h,n)||p(n);const[g,m]=w.useState(null),[v,y]=w.useState(null),b=w.useCallback(H=>{H!==E.current&&(E.current=H,m(H))},[]),x=w.useCallback(H=>{H!==k.current&&(k.current=H,y(H))},[]),_=s||g,S=i||v,E=w.useRef(null),k=w.useRef(null),N=w.useRef(d),T=c!=null,A=Dw(c),C=Dw(a),j=Dw(u),R=w.useCallback(()=>{if(!E.current||!k.current)return;const H={placement:t,strategy:r,middleware:h};C.current&&(H.platform=C.current),JJ(E.current,k.current,H).then(O=>{const Z={...O,isPositioned:j.current!==!1};I.current&&!Tx(N.current,Z)&&(N.current=Z,mu.flushSync(()=>{f(Z)}))})},[h,t,r,C,j]);Wv(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const I=w.useRef(!1);Wv(()=>(I.current=!0,()=>{I.current=!1}),[]),Wv(()=>{if(_&&(E.current=_),S&&(k.current=S),_&&S){if(A.current)return A.current(_,S,R);R()}},[_,S,R,A,T]);const M=w.useMemo(()=>({reference:E,floating:k,setReference:b,setFloating:x}),[b,x]),W=w.useMemo(()=>({reference:_,floating:S}),[_,S]),K=w.useMemo(()=>{const H={position:r,left:0,top:0};if(!W.floating)return H;const O=mO(W.floating,d.x),Z=mO(W.floating,d.y);return o?{...H,transform:"translate("+O+"px, "+Z+"px)",...KF(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:Z}},[r,o,W.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:R,refs:M,elements:W,floatingStyles:K}),[d,R,M,W,K])}const tQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?pO({element:n.current,padding:a}).fn(r):{}:n?pO({element:n,padding:a}).fn(r):{}}}},rQ=(e,t)=>({...VJ(e),options:[e,t]}),nQ=(e,t)=>({...GJ(e),options:[e,t]}),aQ=(e,t)=>({...YJ(e),options:[e,t]}),sQ=(e,t)=>({...qJ(e),options:[e,t]}),iQ=(e,t)=>({...KJ(e),options:[e,t]}),oQ=(e,t)=>({...XJ(e),options:[e,t]}),lQ=(e,t)=>({...tQ(e),options:[e,t]});var cQ="Arrow",XF=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return l.jsx(rt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});XF.displayName=cQ;var uQ=XF;function YF(e){const[t,r]=w.useState(void 0);return Gr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ZT="Popper",[JF,Ql]=_a(ZT),[dQ,QF]=JF(ZT),ZF=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return l.jsx(dQ,{scope:t,anchor:n,onAnchorChange:a,children:r})};ZF.displayName=ZT;var eL="PopperAnchor",tL=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=QF(eL,r),i=w.useRef(null),o=It(t,i);return w.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(rt.div,{...a,ref:o})});tL.displayName=eL;var eN="PopperContent",[fQ,hQ]=JF(eN),rL=w.forwardRef((e,t)=>{var V,ie,re,L,oe,D;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=QF(eN,r),[y,b]=w.useState(null),x=It(t,le=>b(le)),[_,S]=w.useState(null),E=YF(_),k=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,T=n+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],j=C.length>0,R={padding:A,boundary:C.filter(mQ),altBoundary:j},{refs:I,floatingStyles:M,placement:W,isPositioned:K,middlewareData:H}=eQ({strategy:"fixed",placement:T,whileElementsMounted:(...le)=>HJ(...le,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[rQ({mainAxis:a+N,alignmentAxis:i}),c&&nQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aQ():void 0,...R}),c&&sQ({...R}),iQ({...R,apply:({elements:le,rects:ye,availableWidth:Se,availableHeight:_e})=>{const{width:pe,height:Le}=ye.reference,ze=le.floating.style;ze.setProperty("--radix-popper-available-width",`${Se}px`),ze.setProperty("--radix-popper-available-height",`${_e}px`),ze.setProperty("--radix-popper-anchor-width",`${pe}px`),ze.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),_&&lQ({element:_,padding:o}),gQ({arrowWidth:k,arrowHeight:N}),h&&oQ({strategy:"referenceHidden",...R})]}),[O,Z]=sL(W),J=Br(g);Gr(()=>{K&&(J==null||J())},[K,J]);const P=(V=H.arrow)==null?void 0:V.x,G=(ie=H.arrow)==null?void 0:ie.y,B=((re=H.arrow)==null?void 0:re.centerOffset)!==0,[z,ae]=w.useState();return Gr(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:K?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(L=H.transformOrigin)==null?void 0:L.x,(oe=H.transformOrigin)==null?void 0:oe.y].join(" "),...((D=H.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(fQ,{scope:r,placedSide:O,onArrowChange:S,arrowX:P,arrowY:G,shouldHideArrow:B,children:l.jsx(rt.div,{"data-side":O,"data-align":Z,...m,ref:x,style:{...m.style,animation:K?void 0:"none"}})})})});rL.displayName=eN;var nL="PopperArrow",pQ={top:"bottom",right:"left",bottom:"top",left:"right"},aL=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=hQ(nL,n),i=pQ[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(uQ,{...a,ref:r,style:{...a.style,display:"block"}})})});aL.displayName=nL;function mQ(e){return e!==null}var gQ=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=sL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+o/2,p=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=i?f:`${h}px`,m=`${-c}px`):u==="top"?(g=i?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=i?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=i?f:`${p}px`),{data:{x:g,y:m}}}});function sL(e){const[t,r="center"]=e.split("-");return[t,r]}var O1=ZF,Tm=tL,P1=rL,R1=aL,[I1,NBe]=_a("Tooltip",[Ql]),D1=Ql(),iL="TooltipProvider",vQ=700,hS="tooltip.open",[xQ,tN]=I1(iL),oL=e=>{const{__scopeTooltip:t,delayDuration:r=vQ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=w.useRef(!0),o=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(xQ,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:w.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:s})};oL.displayName=iL;var u0="Tooltip",[yQ,Nm]=I1(u0),lL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:s,disableHoverableContent:i,delayDuration:o}=e,c=tN(u0,e.__scopeTooltip),u=D1(t),[d,f]=w.useState(null),h=hs(),p=w.useRef(0),g=i??c.disableHoverableContent,m=o??c.delayDuration,v=w.useRef(!1),[y,b]=Ri({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(hS))):c.onClose(),s==null||s(k)},caller:u0}),x=w.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),_=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,b(!0)},[b]),S=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),E=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,b(!0),p.current=0},m)},[m,b]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(O1,{...u,children:l.jsx(yQ,{scope:t,contentId:h,open:y,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?E():_()},[c.isOpenDelayedRef,E,_]),onTriggerLeave:w.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:_,onClose:S,disableHoverableContent:g,children:r})})};lL.displayName=u0;var pS="TooltipTrigger",cL=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Nm(pS,r),s=tN(pS,r),i=D1(r),o=w.useRef(null),c=It(t,o,a.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Tm,{asChild:!0,...i,children:l.jsx(rt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:$e(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:$e(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:$e(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$e(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:$e(e.onBlur,a.onClose),onClick:$e(e.onClick,a.onClose)})})});cL.displayName=pS;var rN="TooltipPortal",[bQ,wQ]=I1(rN,{forceMount:void 0}),uL=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,s=Nm(rN,t);return l.jsx(bQ,{scope:t,forceMount:r,children:l.jsx(_n,{present:r||s.open,children:l.jsx(vu,{asChild:!0,container:a,children:n})})})};uL.displayName=rN;var rf="TooltipContent",dL=w.forwardRef((e,t)=>{const r=wQ(rf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=Nm(rf,e.__scopeTooltip);return l.jsx(_n,{present:n||i.open,children:i.disableHoverableContent?l.jsx(fL,{side:a,...s,ref:t}):l.jsx(_Q,{side:a,...s,ref:t})})}),_Q=w.forwardRef((e,t)=>{const r=Nm(rf,e.__scopeTooltip),n=tN(rf,e.__scopeTooltip),a=w.useRef(null),s=It(t,a),[i,o]=w.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{o(null),f(!1)},[f]),p=w.useCallback((g,m)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},b=NQ(y,v.getBoundingClientRect()),x=CQ(y,b),_=jQ(m.getBoundingClientRect()),S=OQ([...x,..._]);o(S),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const g=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),w.useEffect(()=>{if(i){const g=m=>{const v=m.target,y={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),x=!AQ(y,i);b?h():x&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,h]),l.jsx(fL,{...e,ref:s})}),[SQ,kQ]=I1(u0,{isInside:!1}),EQ=oK("TooltipContent"),fL=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...o}=e,c=Nm(rf,r),u=D1(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(hS,d),()=>document.removeEventListener(hS,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(P1,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(EQ,{children:n}),l.jsx(SQ,{scope:r,isInside:!0,children:l.jsx(jK,{id:c.contentId,role:"tooltip",children:a||n})})]})})});dL.displayName=rf;var hL="TooltipArrow",TQ=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=D1(r);return kQ(hL,r).isInside?null:l.jsx(R1,{...a,...n,ref:t})});TQ.displayName=hL;function NQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function CQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jQ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function AQ(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const o=t[s],c=t[i],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function OQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),PQ(t)}function PQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var RQ=oL,IQ=lL,DQ=cL,MQ=uL,pL=dL;const $Q=RQ,Qh=IQ,Zh=DQ,dd=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(MQ,{children:l.jsx(pL,{ref:n,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));dd.displayName=pL.displayName;var M1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$1=typeof window>"u"||"Deno"in globalThis;function Is(){}function FQ(e,t){return typeof e=="function"?e(t):e}function LQ(e){return typeof e=="number"&&e>=0&&e!==1/0}function BQ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mS(e,t){return typeof e=="function"?e(t):e}function UQ(e,t){return typeof e=="function"?e(t):e}function gO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==nN(i,t.options))return!1}else if(!f0(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function vO(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(d0(t.options.mutationKey)!==d0(s))return!1}else if(!f0(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function nN(e,t){return((t==null?void 0:t.queryKeyHashFn)||d0)(e)}function d0(e){return JSON.stringify(e,(t,r)=>gS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function f0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>f0(e[r],t[r])):!1}function mL(e,t){if(e===t)return e;const r=xO(e)&&xO(t);if(r||gS(e)&&gS(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,o=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=mL(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:o}return t}function xO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gS(e){if(!yO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yO(e){return Object.prototype.toString.call(e)==="[object Object]"}function zQ(e){return new Promise(t=>{setTimeout(t,e)})}function WQ(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?mL(e,t):t}function HQ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function VQ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var aN=Symbol();function gL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===aN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $c,ol,$d,_M,GQ=(_M=class extends M1{constructor(){super();Qt(this,$c);Qt(this,ol);Qt(this,$d);jt(this,$d,t=>{if(!$1&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ke(this,ol)||this.setEventListener(ke(this,$d))}onUnsubscribe(){var t;this.hasListeners()||((t=ke(this,ol))==null||t.call(this),jt(this,ol,void 0))}setEventListener(t){var r;jt(this,$d,t),(r=ke(this,ol))==null||r.call(this),jt(this,ol,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ke(this,$c)!==t&&(jt(this,$c,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ke(this,$c)=="boolean"?ke(this,$c):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$c=new WeakMap,ol=new WeakMap,$d=new WeakMap,_M),vL=new GQ,Fd,ll,Ld,SM,qQ=(SM=class extends M1{constructor(){super();Qt(this,Fd,!0);Qt(this,ll);Qt(this,Ld);jt(this,Ld,t=>{if(!$1&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ke(this,ll)||this.setEventListener(ke(this,Ld))}onUnsubscribe(){var t;this.hasListeners()||((t=ke(this,ll))==null||t.call(this),jt(this,ll,void 0))}setEventListener(t){var r;jt(this,Ld,t),(r=ke(this,ll))==null||r.call(this),jt(this,ll,t(this.setOnline.bind(this)))}setOnline(t){ke(this,Fd)!==t&&(jt(this,Fd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ke(this,Fd)}},Fd=new WeakMap,ll=new WeakMap,Ld=new WeakMap,SM),Nx=new qQ;function KQ(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function XQ(e){return Math.min(1e3*2**e,3e4)}function xL(e){return(e??"online")==="online"?Nx.isOnline():!0}var yL=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mw(e){return e instanceof yL}function bL(e){let t=!1,r=0,n=!1,a;const s=KQ(),i=m=>{var v;n||(h(new yL(m)),(v=e.abort)==null||v.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>vL.isFocused()&&(e.networkMode==="always"||Nx.isOnline())&&e.canRun(),d=()=>xL(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),s.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),s.reject(m))},p=()=>new Promise(m=>{var v;a=y=>{(n||u())&&m(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var E;if(n)return;const b=e.retry??($1?0:3),x=e.retryDelay??XQ,_=typeof x=="function"?x(r,y):x,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!S){h(y);return}r++,(E=e.onFail)==null||E.call(e,r,y),zQ(_).then(()=>u()?void 0:p()).then(()=>{t?h(y):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}var YQ=e=>setTimeout(e,0);function JQ(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=YQ;const s=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var da=JQ(),Fc,kM,wL=(kM=class{constructor(){Qt(this,Fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LQ(this.gcTime)&&jt(this,Fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($1?1/0:5*60*1e3))}clearGcTimeout(){ke(this,Fc)&&(clearTimeout(ke(this,Fc)),jt(this,Fc,void 0))}},Fc=new WeakMap,kM),Bd,Lc,is,Bc,qn,gm,Uc,Ms,Qi,EM,QQ=(EM=class extends wL{constructor(t){super();Qt(this,Ms);Qt(this,Bd);Qt(this,Lc);Qt(this,is);Qt(this,Bc);Qt(this,qn);Qt(this,gm);Qt(this,Uc);jt(this,Uc,!1),jt(this,gm,t.defaultOptions),this.setOptions(t.options),this.observers=[],jt(this,Bc,t.client),jt(this,is,ke(this,Bc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,jt(this,Bd,eZ(this.options)),this.state=t.state??ke(this,Bd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ke(this,qn))==null?void 0:t.promise}setOptions(t){this.options={...ke(this,gm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ke(this,is).remove(this)}setData(t,r){const n=WQ(this.state.data,t,this.options);return Wn(this,Ms,Qi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Wn(this,Ms,Qi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ke(this,qn))==null?void 0:n.promise;return(a=ke(this,qn))==null||a.cancel(t),r?r.then(Is).catch(Is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ke(this,Bd))}isActive(){return this.observers.some(t=>UQ(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!BQ(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ke(this,qn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ke(this,qn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ke(this,is).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ke(this,qn)&&(ke(this,Uc)?ke(this,qn).cancel({revert:!0}):ke(this,qn).cancelRetry()),this.scheduleGc()),ke(this,is).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wn(this,Ms,Qi).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ke(this,qn))return ke(this,qn).continueRetry(),ke(this,qn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(jt(this,Uc,!0),n.signal)})},s=()=>{const h=gL(this.options,r),g=(()=>{const m={client:ke(this,Bc),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return jt(this,Uc,!1),this.options.persister?this.options.persister(h,g,this):h(g)},o=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ke(this,Bc),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),jt(this,Lc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Wn(this,Ms,Qi).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,g,m,v;Mw(h)&&h.silent||Wn(this,Ms,Qi).call(this,{type:"error",error:h}),Mw(h)||((g=(p=ke(this,is).config).onError)==null||g.call(p,h,this),(v=(m=ke(this,is).config).onSettled)==null||v.call(m,this.state.data,h,this)),this.scheduleGc()};return jt(this,qn,bL({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,g,m,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(g=(p=ke(this,is).config).onSuccess)==null||g.call(p,h,this),(v=(m=ke(this,is).config).onSettled)==null||v.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Wn(this,Ms,Qi).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Wn(this,Ms,Qi).call(this,{type:"pause"})},onContinue:()=>{Wn(this,Ms,Qi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ke(this,qn).start()}},Bd=new WeakMap,Lc=new WeakMap,is=new WeakMap,Bc=new WeakMap,qn=new WeakMap,gm=new WeakMap,Uc=new WeakMap,Ms=new WeakSet,Qi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ZQ(n.data,this.options),fetchMeta:t.meta??null};case"success":return jt(this,Lc,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Mw(a)&&a.revert&&ke(this,Lc)?{...ke(this,Lc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),da.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ke(this,is).notify({query:this,type:"updated",action:t})})},EM);function ZQ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function eZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var gi,TM,tZ=(TM=class extends M1{constructor(t={}){super();Qt(this,gi);this.config=t,jt(this,gi,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??nN(a,r);let i=this.get(s);return i||(i=new QQ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){ke(this,gi).has(t.queryHash)||(ke(this,gi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ke(this,gi).get(t.queryHash);r&&(t.destroy(),r===t&&ke(this,gi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){da.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ke(this,gi).get(t)}getAll(){return[...ke(this,gi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gO(t,n)):r}notify(t){da.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){da.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){da.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gi=new WeakMap,TM),vi,oa,zc,xi,Uo,NM,rZ=(NM=class extends wL{constructor(t){super();Qt(this,xi);Qt(this,vi);Qt(this,oa);Qt(this,zc);this.mutationId=t.mutationId,jt(this,oa,t.mutationCache),jt(this,vi,[]),this.state=t.state||nZ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ke(this,vi).includes(t)||(ke(this,vi).push(t),this.clearGcTimeout(),ke(this,oa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){jt(this,vi,ke(this,vi).filter(r=>r!==t)),this.scheduleGc(),ke(this,oa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ke(this,vi).length||(this.state.status==="pending"?this.scheduleGc():ke(this,oa).remove(this))}continue(){var t;return((t=ke(this,zc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,c,u,d,f,h,p,g,m,v,y,b,x,_,S,E,k,N;const r=()=>{Wn(this,xi,Uo).call(this,{type:"continue"})};jt(this,zc,bL({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,A)=>{Wn(this,xi,Uo).call(this,{type:"failed",failureCount:T,error:A})},onPause:()=>{Wn(this,xi,Uo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ke(this,oa).canRun(this)}));const n=this.state.status==="pending",a=!ke(this,zc).canStart();try{if(n)r();else{Wn(this,xi,Uo).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=ke(this,oa).config).onMutate)==null?void 0:i.call(s,t,this));const A=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));A!==this.state.context&&Wn(this,xi,Uo).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const T=await ke(this,zc).start();return await((d=(u=ke(this,oa).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,T,t,this.state.context)),await((g=(p=ke(this,oa).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,T,null,t,this.state.context)),Wn(this,xi,Uo).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(y=ke(this,oa).config).onError)==null?void 0:b.call(y,T,t,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,T,t,this.state.context)),await((E=(S=ke(this,oa).config).onSettled)==null?void 0:E.call(S,void 0,T,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,T,t,this.state.context)),T}finally{Wn(this,xi,Uo).call(this,{type:"error",error:T})}}finally{ke(this,oa).runNext(this)}}},vi=new WeakMap,oa=new WeakMap,zc=new WeakMap,xi=new WeakSet,Uo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),da.batch(()=>{ke(this,vi).forEach(n=>{n.onMutationUpdate(t)}),ke(this,oa).notify({mutation:this,type:"updated",action:t})})},NM);function nZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var no,$s,vm,CM,aZ=(CM=class extends M1{constructor(t={}){super();Qt(this,no);Qt(this,$s);Qt(this,vm);this.config=t,jt(this,no,new Set),jt(this,$s,new Map),jt(this,vm,0)}build(t,r,n){const a=new rZ({mutationCache:this,mutationId:++rg(this,vm)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ke(this,no).add(t);const r=Eg(t);if(typeof r=="string"){const n=ke(this,$s).get(r);n?n.push(t):ke(this,$s).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ke(this,no).delete(t)){const r=Eg(t);if(typeof r=="string"){const n=ke(this,$s).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ke(this,$s).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Eg(t);if(typeof r=="string"){const n=ke(this,$s).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Eg(t);if(typeof r=="string"){const a=(n=ke(this,$s).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){da.batch(()=>{ke(this,no).forEach(t=>{this.notify({type:"removed",mutation:t})}),ke(this,no).clear(),ke(this,$s).clear()})}getAll(){return Array.from(ke(this,no))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vO(r,n))}findAll(t={}){return this.getAll().filter(r=>vO(t,r))}notify(t){da.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return da.batch(()=>Promise.all(t.map(r=>r.continue().catch(Is))))}},no=new WeakMap,$s=new WeakMap,vm=new WeakMap,CM);function Eg(e){var t;return(t=e.options.scope)==null?void 0:t.id}function bO(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=gL(t.options,t.fetchOptions),b=async(x,_,S)=>{if(m)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(C),C})(),N=await y(k),{maxPages:T}=t.options,A=S?VQ:HQ;return{pages:A(x.pages,N,T),pageParams:A(x.pageParams,_,T)}};if(a&&s.length){const x=a==="backward",_=x?sZ:wO,S={pages:s,pageParams:i},E=_(n,S);o=await b(S,E,x)}else{const x=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:wO(n,o);if(c>0&&_==null)break;o=await b(o,_),c++}while(c<x)}return o};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function wO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dr,cl,ul,Ud,zd,dl,Wd,Hd,jM,iZ=(jM=class{constructor(e={}){Qt(this,Dr);Qt(this,cl);Qt(this,ul);Qt(this,Ud);Qt(this,zd);Qt(this,dl);Qt(this,Wd);Qt(this,Hd);jt(this,Dr,e.queryCache||new tZ),jt(this,cl,e.mutationCache||new aZ),jt(this,ul,e.defaultOptions||{}),jt(this,Ud,new Map),jt(this,zd,new Map),jt(this,dl,0)}mount(){rg(this,dl)._++,ke(this,dl)===1&&(jt(this,Wd,vL.subscribe(async e=>{e&&(await this.resumePausedMutations(),ke(this,Dr).onFocus())})),jt(this,Hd,Nx.subscribe(async e=>{e&&(await this.resumePausedMutations(),ke(this,Dr).onOnline())})))}unmount(){var e,t;rg(this,dl)._--,ke(this,dl)===0&&((e=ke(this,Wd))==null||e.call(this),jt(this,Wd,void 0),(t=ke(this,Hd))==null||t.call(this),jt(this,Hd,void 0))}isFetching(e){return ke(this,Dr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ke(this,cl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ke(this,Dr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ke(this,Dr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mS(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ke(this,Dr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ke(this,Dr).get(n.queryHash),s=a==null?void 0:a.state.data,i=FQ(t,s);if(i!==void 0)return ke(this,Dr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return da.batch(()=>ke(this,Dr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ke(this,Dr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ke(this,Dr);da.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ke(this,Dr);return da.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=da.batch(()=>ke(this,Dr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Is).catch(Is)}invalidateQueries(e,t={}){return da.batch(()=>(ke(this,Dr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=da.batch(()=>ke(this,Dr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Is)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ke(this,Dr).build(this,t);return r.isStaleByTime(mS(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Is).catch(Is)}fetchInfiniteQuery(e){return e.behavior=bO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Is).catch(Is)}ensureInfiniteQueryData(e){return e.behavior=bO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nx.isOnline()?ke(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ke(this,Dr)}getMutationCache(){return ke(this,cl)}getDefaultOptions(){return ke(this,ul)}setDefaultOptions(e){jt(this,ul,e)}setQueryDefaults(e,t){ke(this,Ud).set(d0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ke(this,Ud).values()],r={};return t.forEach(n=>{f0(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ke(this,zd).set(d0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ke(this,zd).values()],r={};return t.forEach(n=>{f0(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ke(this,ul).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ke(this,ul).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ke(this,Dr).clear(),ke(this,cl).clear()}},Dr=new WeakMap,cl=new WeakMap,ul=new WeakMap,Ud=new WeakMap,zd=new WeakMap,dl=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,jM),oZ=w.createContext(void 0),lZ=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(oZ.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}var pl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pl||(pl={}));const _O="popstate";function cZ(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:o}=n.location;return vS("",{pathname:s,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Cx(a)}return dZ(t,r,null,e)}function Rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _L(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uZ(){return Math.random().toString(36).substr(2,8)}function SO(e,t){return{usr:e.state,key:e.key,idx:t}}function vS(e,t,r,n){return r===void 0&&(r=null),h0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zf(t):t,{state:r,key:t&&t.key||n||uZ()})}function Cx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dZ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o=pl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(h0({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){o=pl.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:o,location:m.location,delta:y})}function h(v,y){o=pl.Push;let b=vS(m.location,v,y);u=d()+1;let x=SO(b,u),_=m.createHref(b);try{i.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:o,location:m.location,delta:1})}function p(v,y){o=pl.Replace;let b=vS(m.location,v,y);u=d();let x=SO(b,u),_=m.createHref(b);i.replaceState(x,"",_),s&&c&&c({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Cx(v);return b=b.replace(/ $/,"%20"),Rr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_O,f),c=v,()=>{a.removeEventListener(_O,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return i.go(v)}};return m}var kO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kO||(kO={}));function fZ(e,t,r){return r===void 0&&(r="/"),hZ(e,t,r,!1)}function hZ(e,t,r,n){let a=typeof t=="string"?zf(t):t,s=nf(a.pathname||"/",r);if(s==null)return null;let i=SL(e);pZ(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=EZ(s);o=SZ(i[c],u,n)}return o}function SL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cl([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SL(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:wZ(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,i);else for(let c of kL(s.path))a(s,i,c)}),t}function kL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=kL(n.join("/")),o=[];return o.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function pZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_Z(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mZ=/^:[\w-]+$/,gZ=3,vZ=2,xZ=1,yZ=10,bZ=-2,EO=e=>e==="*";function wZ(e,t){let r=e.split("/"),n=r.length;return r.some(EO)&&(n+=bZ),t&&(n+=vZ),r.filter(a=>!EO(a)).reduce((a,s)=>a+(mZ.test(s)?gZ:s===""?xZ:yZ),n)}function _Z(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function SZ(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=jx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=jx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Cl([s,f.pathname]),pathnameBase:jZ(Cl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Cl([s,f.pathnameBase]))}return i}function jx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kZ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";i=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function kZ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_L(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function EZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _L(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function TZ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zf(e):e;return{pathname:r?r.startsWith("/")?r:NZ(r,t):t,search:AZ(n),hash:OZ(a)}}function NZ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $w(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sN(e,t){let r=CZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=zf(e):(a=h0({},e),Rr(!a.pathname||!a.pathname.includes("?"),$w("?","pathname","search",a)),Rr(!a.pathname||!a.pathname.includes("#"),$w("#","pathname","hash",a)),Rr(!a.search||!a.search.includes("#"),$w("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=TZ(a,o),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cl=e=>e.join("/").replace(/\/\/+/g,"/"),jZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const EL=["post","put","patch","delete"];new Set(EL);const RZ=["get",...EL];new Set(RZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(this,arguments)}const F1=w.createContext(null),TL=w.createContext(null),jo=w.createContext(null),L1=w.createContext(null),Ui=w.createContext({outlet:null,matches:[],isDataRoute:!1}),NL=w.createContext(null);function IZ(e,t){let{relative:r}=t===void 0?{}:t;Wf()||Rr(!1);let{basename:n,navigator:a}=w.useContext(jo),{hash:s,pathname:i,search:o}=B1(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Cl([n,i])),a.createHref({pathname:c,search:o,hash:s})}function Wf(){return w.useContext(L1)!=null}function zi(){return Wf()||Rr(!1),w.useContext(L1).location}function CL(e){w.useContext(jo).static||w.useLayoutEffect(e)}function Ao(){let{isDataRoute:e}=w.useContext(Ui);return e?YZ():DZ()}function DZ(){Wf()||Rr(!1);let e=w.useContext(F1),{basename:t,future:r,navigator:n}=w.useContext(jo),{matches:a}=w.useContext(Ui),{pathname:s}=zi(),i=JSON.stringify(sN(a,r.v7_relativeSplatPath)),o=w.useRef(!1);return CL(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=iN(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}const MZ=w.createContext(null);function $Z(e){let t=w.useContext(Ui).outlet;return t&&w.createElement(MZ.Provider,{value:e},t)}function FZ(){let{matches:e}=w.useContext(Ui),t=e[e.length-1];return t?t.params:{}}function B1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(jo),{matches:a}=w.useContext(Ui),{pathname:s}=zi(),i=JSON.stringify(sN(a,n.v7_relativeSplatPath));return w.useMemo(()=>iN(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function LZ(e,t){return BZ(e,t)}function BZ(e,t,r,n){Wf()||Rr(!1);let{navigator:a}=w.useContext(jo),{matches:s}=w.useContext(Ui),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=zi(),d;if(t){var f;let v=typeof t=="string"?zf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Rr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=fZ(e,{pathname:p}),m=VZ(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Cl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Cl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&m?w.createElement(L1.Provider,{value:{location:p0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pl.Pop}},m):m}function UZ(){let e=XZ(),t=PZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const zZ=w.createElement(UZ,null);class WZ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Ui.Provider,{value:this.props.routeContext},w.createElement(NL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HZ(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(F1);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Ui.Provider,{value:t},n)}function VZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Rr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||zZ,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),b=()=>{let x;return p?x=m:g?x=v:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,w.createElement(HZ,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(WZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var jL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jL||{}),Ax=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ax||{});function GZ(e){let t=w.useContext(F1);return t||Rr(!1),t}function qZ(e){let t=w.useContext(TL);return t||Rr(!1),t}function KZ(e){let t=w.useContext(Ui);return t||Rr(!1),t}function AL(e){let t=KZ(),r=t.matches[t.matches.length-1];return r.route.id||Rr(!1),r.route.id}function XZ(){var e;let t=w.useContext(NL),r=qZ(Ax.UseRouteError),n=AL(Ax.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function YZ(){let{router:e}=GZ(jL.UseNavigateStable),t=AL(Ax.UseNavigateStable),r=w.useRef(!1);return CL(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,p0({fromRouteId:t},s)))},[e,t])}function JZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ni(e){let{to:t,replace:r,state:n,relative:a}=e;Wf()||Rr(!1);let{future:s,static:i}=w.useContext(jo),{matches:o}=w.useContext(Ui),{pathname:c}=zi(),u=Ao(),d=iN(t,sN(o,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function QZ(e){return $Z(e.context)}function lr(e){Rr(!1)}function ZZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=pl.Pop,navigator:s,static:i=!1,future:o}=e;Wf()&&Rr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:p0({v7_relativeSplatPath:!1},o)}),[c,o,s,i]);typeof n=="string"&&(n=zf(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=w.useMemo(()=>{let v=nf(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:w.createElement(jo.Provider,{value:u},w.createElement(L1.Provider,{children:r,value:m}))}function eee(e){let{children:t,location:r}=e;return LZ(xS(t),r)}new Promise(()=>{});function xS(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let s=[...t,a];if(n.type===w.Fragment){r.push.apply(r,xS(n.props.children,s));return}n.type!==lr&&Rr(!1),!n.props.index||!n.props.children||Rr(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=xS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function OL(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function tee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ree(e,t){return e.button===0&&(!t||t==="_self")&&!tee(e)}function yS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function nee(e,t){let r=yS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const aee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],see=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iee="6";try{window.__reactRouterVersion=iee}catch{}const oee=w.createContext({isTransitioning:!1}),lee="startTransition",TO=zE[lee];function cee(e){let{basename:t,children:r,future:n,window:a}=e,s=w.useRef();s.current==null&&(s.current=cZ({window:a,v5Compat:!0}));let i=s.current,[o,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&TO?TO(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>JZ(n),[n]),w.createElement(ZZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const uee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U1=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=OL(t,aee),{basename:p}=w.useContext(jo),g,m=!1;if(typeof u=="string"&&dee.test(u)&&(g=u,uee))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=nf(_.pathname,p);_.origin===x.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=IZ(u,{relative:a}),y=hee(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(x){n&&n(x),x.defaultPrevented||y(x)}return w.createElement("a",Ox({},h,{href:g||v,onClick:m||s?n:b,ref:r,target:c}))}),Ed=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:u,children:d}=t,f=OL(t,see),h=B1(c,{relative:f.relative}),p=zi(),g=w.useContext(TL),{navigator:m,basename:v}=w.useContext(jo),y=g!=null&&pee(h)&&u===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,x=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(x=x.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=nf(_,v)||_);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=x===b||!i&&x.startsWith(b)&&x.charAt(S)==="/",k=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),N={isActive:E,isPending:k,isTransitioning:y},T=E?n:void 0,A;typeof s=="function"?A=s(N):A=[s,E?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(N):o;return w.createElement(U1,Ox({},f,{"aria-current":T,className:A,ref:r,style:C,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var bS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bS||(bS={}));var NO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(NO||(NO={}));function fee(e){let t=w.useContext(F1);return t||Rr(!1),t}function hee(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=t===void 0?{}:t,c=Ao(),u=zi(),d=B1(e,{relative:i});return w.useCallback(f=>{if(ree(f,r)){f.preventDefault();let h=n!==void 0?n:Cx(u)===Cx(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[u,c,d,n,a,r,e,s,i,o])}function oN(e){let t=w.useRef(yS(e)),r=w.useRef(!1),n=zi(),a=w.useMemo(()=>nee(n.search,r.current?null:t.current),[n.search]),s=Ao(),i=w.useCallback((o,c)=>{const u=yS(typeof o=="function"?o(a):o);r.current=!0,s("?"+u,c)},[s,a]);return[a,i]}function pee(e,t){t===void 0&&(t={});let r=w.useContext(oee);r==null&&Rr(!1);let{basename:n}=fee(bS.useViewTransitionState),a=B1(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=nf(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=nf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jx(a.pathname,i)!=null||jx(a.pathname,s)!=null}const mee=km("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?sK:"button";return l.jsx(i,{className:me(mee({variant:t,size:r,className:e})),ref:s,...a})});Ce.displayName="Button";const PL=[{title:"Market Intelligence",icon:ro,href:"/market-intelligence",description:"Explore global market data"},{title:"My Company",icon:Dl,href:"/my-company",description:"Company performance and operations",children:[{title:"Trade Performance",href:"/my-company/performance",icon:WT},{title:"Orders & Shipments",href:"/my-company/orders",icon:bx},{title:"Inventory",href:"/my-company/inventory",icon:rX},{title:"Invoices & Payments",href:"/my-company/invoices",icon:N1}]},{title:"AI Agent",icon:bp,href:"/ai-agent",description:"Chat with AI on your company database",badge:"Beta"},{title:"Admin Control",icon:_x,href:"/upload",description:"Upload data files",children:[{title:"Upload Center",href:"/upload",icon:_x},{title:"Edit Data",href:"/upload/edit-data",icon:BT,badge:"Beta"},{title:"YOUR Product",href:"/upload/your-product",icon:wF,badge:"Beta"}]}],RL=[{title:"Back Office",icon:AX,href:"/admin",description:"Customer and system management",children:[{title:"Dashboard",href:"/admin/dashboard",icon:_F},{title:"Admin Backoffice",href:"/admin/backoffice",icon:RX},{title:"Customer Management",href:"/admin/customers",icon:Dl},{title:"User Management",href:"/admin/users",icon:HT},{title:"Data Management",href:"/admin/data",icon:BT},{title:"Product Suggestion",href:"/admin/products",icon:wF,badge:"Beta"}]}];var bi=function(){return bi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bi.apply(this,arguments)};function Hf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function gee(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function vee(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}const xee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yee extends lN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CO extends lN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jO extends lN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wS||(wS={}));class bee{constructor(t,{headers:r={},customFetch:n,region:a=wS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=xee(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return gee(this,arguments,void 0,function*(r,n={}){var a;let s,i;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(i=new AbortController,s=setTimeout(()=>i.abort(),f),d?(v=i.signal,d.addEventListener("abort",()=>i.abort())):v=i.signal);const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m,signal:v}).catch(S=>{throw new yee(S)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new CO(y);if(!y.ok)throw new jO(y);let x=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield y.json():x==="application/octet-stream"||x==="application/pdf"?_=yield y.blob():x==="text/event-stream"?_=y:x==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof jO||o instanceof CO?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var wee=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_ee=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let i=null,o=null,c=null,u=s.status,d=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var p;const y=await s.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=y:o=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var g;const m=await s.text();try{i=JSON.parse(m),Array.isArray(i)&&s.status===404&&(o=[],i=null,u=200,d="OK")}catch{s.status===404&&m===""?(u=204,d="No Content"):i={message:m}}if(i&&r.isMaybeSingle&&(!(i==null||(g=i.details)===null||g===void 0)&&g.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&r.shouldThrowOnError)throw new wee(i)}return{error:i,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(s=>{var i;let o="",c="",u="";const d=s==null?void 0:s.cause;if(d){var f,h,p,g;const y=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",b=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";o=`${(p=s==null?void 0:s.name)!==null&&p!==void 0?p:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(g=d==null?void 0:d.name)!==null&&g!==void 0?g:"Error"}: ${y}`,b&&(o+=` (${b})`),d!=null&&d.stack&&(o+=`
${d.stack}`)}else{var m;o=(m=s==null?void 0:s.stack)!==null&&m!==void 0?m:""}const v=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",v>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${v} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",v>this.urlLengthLimit&&(c+=`. Your request URL is ${v} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},See=class extends _ee{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const AO=new RegExp("[,()]");var Ku=class extends See{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&AO.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&AO.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},kee=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new Ku({method:a,url:o,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);s.searchParams.set("columns",c.join(","))}}return new Ku({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const i="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new Ku({method:i,url:o,headers:c,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ku({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ku({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function Eee(e,t){if(m0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tee(e){var t=Eee(e,"string");return m0(t)=="symbol"?t:t+""}function Nee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Cee=class IL{constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:i=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=i;const o=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),s),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),o(c,u);const p=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",p,{once:!0}),o(c,Tg(Tg({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",p)})}return o(c,Tg(Tg({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kee(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new IL(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var i;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(o="POST",u=r):n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(o="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Ku({method:o,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}};class jee{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Aee="2.95.3",Oee=`realtime-js/${Aee}`,Pee="1.0.0",DL="2.0.0",PO=DL,_S=1e4,Ree=1e3,Iee=100;var Ko;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ko||(Ko={}));var ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ln||(ln={}));var Ls;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ls||(Ls={}));var SS;(function(e){e.websocket="websocket"})(SS||(SS={}));var _c;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_c||(_c={}));class Dee{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var a,s;const i=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+i.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,o.length),g.setUint8(m++,i.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(i,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,i,o,c]=n;return r({join_ref:a,ref:s,topic:i,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+i));c=c+i;const h=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class ML{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pr||(pr={}));const RO=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=Mee(i,e,t,a),s),{}):{}},Mee=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?$L(s,i):kS(i)},$L=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Bee(t,r)}switch(e){case pr.bool:return $ee(t);case pr.float4:case pr.float8:case pr.int2:case pr.int4:case pr.int8:case pr.numeric:case pr.oid:return Fee(t);case pr.json:case pr.jsonb:return Lee(t);case pr.timestamp:return Uee(t);case pr.abstime:case pr.date:case pr.daterange:case pr.int4range:case pr.int8range:case pr.money:case pr.reltime:case pr.text:case pr.time:case pr.timestamptz:case pr.timetz:case pr.tsrange:case pr.tstzrange:return kS(t);default:return kS(t)}},kS=e=>e,$ee=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fee=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lee=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Bee=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>$L(t,o))}return e},Uee=e=>typeof e=="string"?e.replace(" ","T"):e,FL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fw{constructor(t,r,n={},a=_S){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var IO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(IO||(IO={}));class _p{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_p.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=_p.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_p.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(c[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(i,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var DO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(DO||(DO={}));var Sp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sp||(Sp={}));var eo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(eo||(eo={}));class fd{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fw(this,Ls.join,this.params,this.timeout),this.rejoinTimer=new ML(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ln.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ls.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new _p(this),this.broadcastEndpointURL=FL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ln.closed){const{config:{broadcast:i,presence:o,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Sp.PRESENCE]&&this.bindings[Sp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(eo.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(eo.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(eo.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,y=[];for(let b=0;b<v;b++){const x=m[b],{filter:{event:_,schema:S,table:E,filter:k}}=x,N=p&&p[b];if(N&&N.event===_&&fd.isFilterValueEqual(N.schema,S)&&fd.isFilterValueEqual(N.table,E)&&fd.isFilterValueEqual(N.filter,k))y.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=ln.errored,t==null||t(eo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(eo.SUBSCRIBED);return}}).receive("error",p=>{this.state=ln.errored,t==null||t(eo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(eo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ln.joined&&t===Sp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ln.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ls.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Fw(this,Ls.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ln.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Iee){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Ls;if(n&&[o,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var g,m,v,y,b,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:y,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&fd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ls.close,{},t)}_onError(t){this._on(Ls.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=RO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=RO(t.columns,t.old_record)),r}}const Lw=()=>{},Ng={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zee=[1e3,2e3,5e3,1e4],Wee=1e4,Hee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vee{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_S,this.transport=null,this.heartbeatIntervalMs=Ng.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lw,this.ref=0,this.reconnectTimer=null,this.vsn=PO,this.logger=Lw,this.conn=null,this.sendBuffer=[],this.serializer=new Dee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${SS.websocket}`,this.httpEndpoint=FL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jee.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ko.connecting:return _c.Connecting;case Ko.open:return _c.Open;case Ko.closing:return _c.Closing;default:return _c.Closed}}isConnected(){return this.connectionState()===_c.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new fd(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ree,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ng.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ko.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ko.open||this.conn.readyState===Ko.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ls.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Hee],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:Oee};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Ls.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ML(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ng.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:_S,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ng.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Lw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:PO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>zee[g-1]||Wee,this.vsn){case Pee:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case DL:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var g0=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gee(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function qee(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Kee(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:i}){const o=Gee(e.baseUrl,n,a),c=await qee(e.auth),u=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...c,...i},body:s?JSON.stringify(s):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new g0((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Cg(e){return e.join("")}var Xee=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Cg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cg(e.namespace)}`}),!0}catch(t){if(t instanceof g0&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof g0&&r.status===409)return;throw r}}};function Ou(e){return e.join("")}var Yee=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof g0&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof g0&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Jee=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Kee({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Xee(this.client,t),this.tableOps=new Yee(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},z1=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function W1(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var jg=class extends z1{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},LL=class extends z1{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Qee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ES=e=>{if(Array.isArray(e))return e.map(r=>ES(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=ES(n)}),t},ete=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function v0(e){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(e)}function tte(e,t){if(v0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rte(e){var t=tte(e,"string");return v0(t)=="symbol"?t:t+""}function nte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $O=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ate=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new jg($O(i),s,o,n))}).catch(()=>{if(n==="vectors"){const i=s+"";t(new jg(a.statusText||`HTTP ${s} error`,s,i,n))}else{const i=s+"";t(new jg(a.statusText||`HTTP ${s} error`,s,i,n))}});else{const i=s+"";t(new jg(a.statusText||`HTTP ${s} error`,s,i,n))}}else t(new LL($O(e),e,n))},ste=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?vt(vt({},a),r):(Zee(n)?(a.headers=vt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),vt(vt({},a),r))};async function Sh(e,t,r,n,a,s,i){return new Promise((o,c)=>{e(r,ste(t,n,a,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(i==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>ate(u,c,n,i))})}function BL(e="storage"){return{get:async(t,r,n,a)=>Sh(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Sh(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Sh(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Sh(t,"HEAD",r,vt(vt({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Sh(t,"DELETE",r,a,s,n,e)}}const ite=BL("storage"),{get:x0,post:Ds,put:TS,head:ote,remove:cN}=ite,Wa=BL("vectors");var Vf=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Qee(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(W1(r))return{data:null,error:r};throw r}}},lte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(W1(t))return{data:null,error:t};throw t}}};let UL;UL=Symbol.toStringTag;var cte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[UL]="BlobDownloadBuilder",this.promise=null}asStream(){return new lte(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(W1(t))return{data:null,error:t};throw t}}};const ute={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dte=class extends Vf{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const i=vt(vt({},FO),n);let o=vt(vt({},a.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",a.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),c&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(o=vt(vt({},o),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?TS:Ds)(a.fetch,`${a.url}/object/${d}`,s,vt({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=vt({upsert:FO.upsert},n),d=vt(vt({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:s,fullPath:(await TS(a.fetch,o.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=vt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await Ds(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new z1("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ds(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ds(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await Ds(n.fetch,`${n.url}/object/sign/${a}`,vt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Ds(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(i=>vt(vt({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",i=this._getFinalPath(e),o=()=>x0(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0},r);return new cte(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ES(await x0(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ote(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(W1(n)&&n instanceof LL){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await cN(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=vt(vt(vt({},ute),t),{},{prefix:e||""});return await Ds(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=vt({},e);return await Ds(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const fte="2.95.3",Cm={"X-Client-Info":`storage-js/${fte}`};var hte=class extends Vf{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),i=vt(vt({},Cm),t);super(s,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await x0(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await x0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ds(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await TS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ds(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},pte=class extends Vf{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=vt(vt({},Cm),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ds(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await x0(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ete(e))throw new z1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Jee({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const i=a[s];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(a,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},mte=class extends Vf{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=vt(vt({},Cm),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Wa.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Wa.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},gte=class extends Vf{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=vt(vt({},Cm),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},vte=class extends Vf{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=vt(vt({},Cm),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wa.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},xte=class extends vte{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new yte(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},yte=class extends mte{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new bte(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},bte=class extends gte{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,vt(vt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wte=class extends hte{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new dte(this.url,this.headers,e,this.fetch)}get vectors(){return new xte(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pte(this.url+"/iceberg",this.headers,this.fetch)}};const zL="2.95.3",Xu=30*1e3,NS=3,Bw=NS*Xu,_te="http://localhost:9999",Ste="supabase.auth.token",kte={"X-Client-Info":`gotrue-js/${zL}`},CS="X-Supabase-Api-Version",WL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ete=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tte=10*60*1e3;class y0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function it(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nte extends y0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Cte(e){return it(e)&&e.name==="AuthApiError"}class Sc extends y0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oo extends y0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Da extends Oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uw(e){return it(e)&&e.name==="AuthSessionMissingError"}class Pu extends Oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ag extends Oo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Og extends Oo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jte(e){return it(e)&&e.name==="AuthImplicitGrantRedirectError"}class LO extends Oo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ate extends Oo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jS extends Oo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zw(e){return it(e)&&e.name==="AuthRetryableFetchError"}class BO extends Oo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class AS extends Oo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UO=` 	
\r=`.split(""),Ote=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UO.length;t+=1)e[UO[t].charCodeAt(0)]=-2;for(let t=0;t<Px.length;t+=1)e[Px[t].charCodeAt(0)]=t;return e})();function zO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Px[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Px[n]),t.queuedBits-=6}}function HL(e,t,r){const n=Ote[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function WO(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{Ite(i,n,r)};for(let i=0;i<e.length;i+=1)HL(e.charCodeAt(i),a,s);return t.join("")}function Pte(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Rte(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Pte(n,t)}}function Ite(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Td(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)HL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Dte(e){const t=[];return Rte(e,r=>t.push(r)),new Uint8Array(t)}function Cc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>zO(a,r,n)),zO(null,r,n),t.join("")}function Mte(e){return Math.round(Date.now()/1e3)+e}function $te(){return Symbol("auth-callback")}const Rn=()=>typeof window<"u"&&typeof document<"u",cc={tested:!1,writable:!1},VL=()=>{if(!Rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cc.tested)return cc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cc.tested=!0,cc.writable=!0}catch{cc.tested=!0,cc.writable=!1}return cc.writable};function Fte(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const GL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Lte=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},uc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},On=async(e,t)=>{await e.removeItem(t)};class H1{constructor(){this.promise=new H1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}H1.promiseConstructor=Promise;function Pg(e){const t=e.split(".");if(t.length!==3)throw new AS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ete.test(t[n]))throw new AS("JWT not in base64url format");return{header:JSON.parse(WO(t[0])),payload:JSON.parse(WO(t[1])),signature:Td(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bte(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ute(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function zte(e){return("0"+e.toString(16)).substr(-2)}function Wte(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,zte).join("")}async function Hte(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Vte(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Hte(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ru(e,t,r=!1){const n=Wte();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Yu(e,`${t}-code-verifier`,a);const s=await Vte(n);return[s,n===s?"plain":"s256"]}const Gte=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qte(e){const t=e.headers.get(CS);if(!t||!t.match(Gte))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kte(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Xte(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yte=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Iu(e){if(!Yte.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ww(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jte(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function HO(e){return JSON.parse(JSON.stringify(e))}const xc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qte=[502,503,504];async function VO(e){var t;if(!Lte(e))throw new jS(xc(e),0);if(Qte.includes(e.status))throw new jS(xc(e),e.status);let r;try{r=await e.json()}catch(s){throw new Sc(xc(s),s)}let n;const a=qte(e);if(a&&a.getTime()>=WL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new BO(xc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Da}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new BO(xc(r),e.status,r.weak_password.reasons);throw new Nte(xc(r),e.status||500,n)}const Zte=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function gt(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[CS]||(s[CS]=WL["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await ere(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ere(e,t,r,n,a,s){const i=Zte(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new jS(xc(c),0)}if(o.ok||await VO(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await VO(c)}}function Os(e){var t;let r=null;nre(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Mte(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function GO(e){const t=Os(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function tl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tre(e){return{data:e,error:null}}function rre(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Hf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function qO(e){return e}function nre(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hw=["global","local","others"];class are{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=GL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Hw[0]){if(Hw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hw.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:tl})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hf(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:rre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:tl})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:qO});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(it(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Iu(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:tl})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Iu(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:tl})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Iu(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:tl})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Iu(t.userId);try{const{data:r,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Iu(t.userId),Iu(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:qO});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(it(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await gt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await gt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}}function KO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Du={debug:!!(globalThis&&VL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sre extends qL{}async function ire(e,t,r){Du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Du.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Du.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Du.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Du.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ore(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function lre(e){return parseInt(e,16)}function cre(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ure(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=KL(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}y+=b}return`${v}
${y}`}class Qr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Rx extends Qr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function dre({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Qr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(XL(i)){if(s.rp.id!==i)return new Qr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Qr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fre({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XL(n)){if(r.rpId!==n)return new Qr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class hre{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pre=new hre;function mre(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Hf(e,["challenge","user","excludeCredentials"]),s=Td(t).buffer,i=Object.assign(Object.assign({},r),{id:Td(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Td(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function gre(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Hf(e,["challenge","allowCredentials"]),a=Td(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:Td(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function vre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cc(new Uint8Array(a.authenticatorData)),clientDataJSON:Cc(new Uint8Array(a.clientDataJSON)),signature:Cc(new Uint8Array(a.signature)),userHandle:a.userHandle?Cc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function XO(){var e,t;return!!(Rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function yre(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rx("Browser returned unexpected credential type",t)}:{data:null,error:new Rx("Empty credential response",t)}}catch(t){return{data:null,error:dre({error:t,options:e})}}}async function bre(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rx("Browser returned unexpected credential type",t)}:{data:null,error:new Rx("Empty credential response",t)}}catch(t){return{data:null,error:fre({error:t,options:e})}}}const wre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_re={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ix(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=Ix(o,i):n[s]=Ix(i)}else n[s]=i}return n}function Sre(e,t){return Ix(wre,e,t||{})}function kre(e,t){return Ix(_re,e,t||{})}class Ere{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var i;try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:c};const u=a??pre.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,g=((i=p==null?void 0:p.user_metadata)===null||i===void 0?void 0:i.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Sre(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:h}=await yre({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=kre(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:h}=await bre(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new Sc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new y0("rpId is required for WebAuthn authentication")};try{if(!XO())return{data:null,error:new Sc("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return it(i)?{data:null,error:i}:{data:null,error:new Sc("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new y0("rpId is required for WebAuthn registration")};try{if(!XO())return{data:null,error:new Sc("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return it(i)?{data:null,error:i}:{data:null,error:new Sc("Unexpected error in register",i)}}}}ore();const Tre={url:_te,storageKey:Ste,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kte,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function YO(e,t,r){return await r()}const Mu={};class b0{get jwks(){var t,r;return(r=(t=Mu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Mu[this.storageKey]=Object.assign(Object.assign({},Mu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Mu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mu[this.storageKey]=Object.assign(Object.assign({},Mu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Tre),t);if(this.storageKey=s.storageKey,this.instanceID=(r=b0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,b0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Rn()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new are({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GL(s.fetch),this.lock=s.lock||YO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Rn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ire:this.lock=YO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ere(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KO(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=KO(this.memoryStorage)),Rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Rn()&&(r=Fte(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Rn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jte(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?this._returnResult({error:r}):this._returnResult({error:new Sc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Os}),{data:i,error:o}=s;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ru(this.storage,this.storageKey)),s=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Os})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Os})}else throw new Ag("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return await On(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:GO})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:GO})}else throw new Ag("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Pu;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:y,options:b}=t;let x;if(Rn())if(typeof v=="object")x=v;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")x=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=KL(S[0]);let k=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const T=await x.request({method:"eth_chainId"});k=lre(T)}const N={domain:_.host,address:E,statement:y,uri:_.href,version:"1",chainId:k,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=ure(N),g=await x.request({method:"personal_sign",params:[cre(p),E]})}try{const{data:m,error:v}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Os});if(v)throw v;if(!m||!m.session||!m.user){const y=new Pu;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(it(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,s,i,o,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:y,statement:b,options:x}=t;let _;if(Rn())if(typeof y=="object")_=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:v,error:y}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Cc(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Os});if(y)throw y;if(!v||!v.session||!v.user){const b=new Pu;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(it(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await uc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ate;const{data:s,error:i}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Os});if(await On(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const o=new Pu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Os}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Pu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ru(this.storage,this.storageKey));const{error:f}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ag("You must provide either an email or phone number.")}catch(o){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Os});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,i;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Ru(this.storage,this.storageKey));const u=await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:tre});return!((s=u.data)===null||s===void 0)&&s.url&&Rn()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Da;const{error:a}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new Ag("You must provide either an email or phone number and a type")}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await uc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await uc(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ww()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Jte(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:tl}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Da}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:tl})})}catch(r){if(it(r))return Uw(r)&&(await this._removeSession(),await On(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Da;const i=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ru(this.storage,this.storageKey));const{data:u,error:d}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:tl});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Da;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=Pg(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(it(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Da;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Rn())throw new Og("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Og(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Og("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LO("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!i||!u)throw new Og("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Xu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(it(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await uc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!Uw(s))return this._returnResult({error:s});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(Cte(o)&&(o.status===404||o.status===401||o.status===403)||Uw(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await On(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$te(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ru(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Rn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(it(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:c,access_token:u,nonce:d}=t,f=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Os}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Pu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await On(this.storage,`${this.storageKey}-code-verifier`),it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ute(async a=>(a>0&&await Bte(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Os})),(a,s)=>{const i=200*Math.pow(2,a);return s&&zw(s)&&Date.now()+i-n<Xu})}catch(n){if(this._debug(r,"error",n),it(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await uc(this.storage,this.storageKey);if(a&&this.userStorage){let i=await uc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Yu(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ww()}else if(a&&!a.user&&!a.user){const i=await uc(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await On(this.storage,this.storageKey+"-user"),await Yu(this.storage,this.storageKey,a)):a.user=Ww()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bw;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Bw}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),zw(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new H1;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Da;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),it(s)){const i={data:null,error:s};return zw(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await On(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Yu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=HO(a);await Yu(this.storage,this.storageKey,s)}else{const a=HO(r);await Yu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await On(this.storage,this.storageKey),await On(this.storage,this.storageKey+"-code-verifier"),await On(this.storage,this.storageKey+"-user"),this.userStorage&&await On(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xu}ms, refresh threshold is ${NS} ticks`),a<=NS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Ru(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vre(t.webauthn.credential_response):xre(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:mre(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:gre(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:p}=Pg(t);let g=null;p.aal&&(g=p.aal);let m=g;const{data:{user:v},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const x=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:x},error:null}}catch(p){if(it(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Pg(i.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await gt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Da})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Da});const i=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&Rn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Da});const i=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&Rn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await gt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Da})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await gt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Da})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Tte>a)return n;const{data:s,error:i}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:c}}=Pg(n);r!=null&&r.allowExpired||Kte(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const d=Xte(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,Dte(`${o}.${c}`)))throw new AS("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}}b0.nextInstanceID={};const Nre=b0,Cre="2.95.3";let ep="";typeof Deno<"u"?ep="deno":typeof document<"u"?ep="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ep="react-native":ep="node";const jre={"X-Client-Info":`supabase-js-${ep}/${Cre}`},Are={headers:jre},Ore={schema:"public"},Pre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rre={};function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}function Ire(e,t){if(w0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dre(e){var t=Ire(e,"string");return w0(t)=="symbol"?t:t+""}function Mre(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $re=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fre=()=>Headers,Lre=(e,t,r)=>{const n=$re(r),a=Fre();return async(s,i)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Mr(Mr({},i),{},{headers:u}))}};function Bre(e){return e.endsWith("/")?e:e+"/"}function Ure(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Mr(Mr({},c),a),auth:Mr(Mr({},u),s),realtime:Mr(Mr({},d),i),storage:{},global:Mr(Mr(Mr({},f),o),{},{headers:Mr(Mr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function zre(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bre(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Wre=class extends Nre{constructor(e){super(e)}},Hre=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=zre(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:Ore,realtime:Rre,auth:Mr(Mr({},Pre),{},{storageKey:i}),global:Are},c=Ure(r??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Lre(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Mr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Cee(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new wte(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new bee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:i,lock:o,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wre({url:this.authUrl.href,headers:Mr(Mr({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:i,lock:o,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Vee(this.realtimeUrl.href,Mr(Mr({},e),{},{params:Mr(Mr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Vre=(e,t,r)=>new Hre(e,t,r);function Gre(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Gre()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qre="https://gstsmgfwyqlcssnulewa.supabase.co",YL="sb_publishable_qsyCdueF9hspqUPstJlIlg_z6aeUtRy",Or=!!YL,Ee=Or?Vre(qre,YL,{auth:{persistSession:!0,autoRefreshToken:!0}}):null,Rg="Invalid credentials",kh={isAuthenticated:!1,accountType:null,email:"",username:""},JL=w.createContext(null),Kre=(e,t)=>{const r=t.trim()||e.trim();return r?(r.split("@")[0]??r).split(/[._-]/g).filter(Boolean).map(a=>a[0].toUpperCase()+a.slice(1)).join(" "):"User"},uN=e=>e.trim().toLowerCase(),QO=e=>e==="ADMIN"?"admin":"customer";async function ZO(e){if(!e||!Ee)return null;const{data:t,error:r}=await Ee.from("users").select("id, email, username, role, is_active").eq("id",e.id).maybeSingle();return r||!t?null:t}async function Xre(e){if(!Ee)return null;const t=uN(e);if(t.includes("@"))return t;const{data:r,error:n}=await Ee.rpc("resolve_login_email",{p_identifier:t});return n||!r?null:String(r)}async function Yre(e){if(!Ee)return!0;const{data:t,error:r}=await Ee.rpc("auth_login_attempt_check",{p_identifier:uN(e)});return r?!0:!!t}async function Ig(e,t){Ee&&await Ee.rpc("auth_login_attempt_record",{p_identifier:uN(e),p_success:t})}function Jre({children:e}){const[t,r]=w.useState(kh),[n,a]=w.useState(!0);w.useEffect(()=>{if(!Or||!Ee){a(!1);return}let i=!0;const o=async u=>{if(!i)return;if(!u){r(kh),a(!1);return}const d=await ZO(u);if(!d||!d.is_active){if(await Ee.auth.signOut(),!i)return;r(kh),a(!1);return}r({isAuthenticated:!0,accountType:QO(d.role),email:d.email||u.email||"",username:d.username||""}),a(!1)};Ee.auth.getSession().then(({data:u})=>{var d;o(((d=u.session)==null?void 0:d.user)??null)});const{data:{subscription:c}}=Ee.auth.onAuthStateChange((u,d)=>{o((d==null?void 0:d.user)??null)});return()=>{i=!1,c.unsubscribe()}},[]);const s=w.useMemo(()=>({...t,loading:n,login:async(i,o)=>{if(!Or||!Ee)return{success:!1,error:"Authentication is not configured."};if(!await Yre(i))return{success:!1,error:Rg};const u=await Xre(i);if(!u)return await Ig(i,!1),{success:!1,error:Rg};const{data:d,error:f}=await Ee.auth.signInWithPassword({email:u,password:o});if(f||!d.user)return await Ig(i,!1),{success:!1,error:Rg};const h=await ZO(d.user);if(!h||!h.is_active)return await Ee.auth.signOut(),await Ig(i,!1),{success:!1,error:Rg};const p=QO(h.role);return r({isAuthenticated:!0,accountType:p,email:h.email||d.user.email||"",username:h.username||""}),await Ig(i,!0),{success:!0,accountType:p}},logout:async()=>{Ee&&await Ee.auth.signOut(),r(kh)},requestPasswordReset:async i=>{!Or||!Ee||await Ee.auth.resetPasswordForEmail(i.trim(),{redirectTo:`${window.location.origin}/reset-password`})},resetPassword:async i=>{if(!Or||!Ee)return{success:!1,error:"Authentication is not configured."};const{error:o}=await Ee.auth.updateUser({password:i});return o?{success:!1,error:o.message}:(await Ee.auth.signOut({scope:"global"}),r(kh),{success:!0})},displayName:Kre(t.email,t.username)}),[t,n]);return l.jsx(JL.Provider,{value:s,children:e})}function Pa(){const e=w.useContext(JL);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Qre(){const[e,t]=w.useState(!1),[r,n]=w.useState(["My Company","Admin Control","Back Office"]),a=zi(),{accountType:s}=Pa(),i=s==="admin",o=i?[]:PL,c=i?RL:[],u=o.filter(m=>m.title==="Market Intelligence"||m.title==="My Company"),d=o.filter(m=>m.title==="Admin Control"||m.title==="AI Agent"),f=m=>{n(v=>v.includes(m)?v.filter(y=>y!==m):[...v,m])},h=m=>a.pathname===m||m!=="/"&&a.pathname.startsWith(`${m}/`),p=m=>m==null?void 0:m.some(v=>a.pathname===v.href),g=m=>{var x;const v=m.children&&m.children.length>0,y=r.includes(m.title),b=h(m.href)||p(m.children);return e?l.jsxs(Qh,{delayDuration:0,children:[l.jsx(Zh,{asChild:!0,children:l.jsx(Ed,{to:m.href,className:me("flex h-10 w-10 items-center justify-center rounded-lg transition-colors mx-auto",b?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:l.jsx(m.icon,{className:"h-5 w-5"})})}),l.jsxs(dd,{side:"right",className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:m.title}),m.badge?l.jsx("span",{className:"rounded-full border border-amber-300 bg-amber-50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700",children:m.badge}):null]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:m.description})]})]},m.title):l.jsxs("div",{children:[l.jsxs("div",{className:me("flex items-center justify-between rounded-lg transition-colors cursor-pointer",b&&!v?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[l.jsxs(Ed,{to:v?"#":m.href,onClick:_=>{v&&(_.preventDefault(),f(m.title))},className:"flex min-w-0 flex-1 items-center gap-3 px-3 py-2.5",children:[l.jsx(m.icon,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"min-w-0 truncate text-sm font-medium",title:m.title,children:m.title}),m.badge?l.jsx("span",{className:"ml-1 rounded-full border border-amber-300 bg-amber-50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700",children:m.badge}):null]}),v&&l.jsx("button",{onClick:()=>f(m.title),className:"p-2 hover:bg-sidebar-accent rounded-lg mr-1",children:l.jsx(Ii,{className:me("h-4 w-4 transition-transform",y&&"rotate-90")})})]}),v&&y&&l.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l border-sidebar-border pl-3",children:(x=m.children)==null?void 0:x.map(_=>l.jsxs(Ed,{to:_.href,className:me("flex items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors",h(_.href)?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[l.jsx(_.icon,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:_.title}),_.badge?l.jsx("span",{className:"ml-auto rounded-full border border-amber-300 bg-amber-50 px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-wide text-amber-700",children:_.badge}):null]},_.href))})]},m.title)};return l.jsxs("aside",{className:me("flex flex-col bg-sidebar border-r border-sidebar-border transition-all duration-300",e?"w-16":"w-64"),children:[l.jsx("div",{className:me("flex items-center h-16 border-b border-sidebar-border px-4",e&&"justify-center px-0"),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:"/logo-origo.svg",alt:"Origo logo",className:"h-8 w-8 rounded-lg"}),!e&&l.jsx("span",{className:"text-xl font-bold text-sidebar-accent-foreground",children:"ORIGO"})]})}),l.jsxs("nav",{className:"flex-1 p-3 space-y-1.5",children:[o.length>0&&!e&&l.jsx("p",{className:"px-2 text-[10px] font-semibold uppercase tracking-[0.12em] text-sidebar-foreground/50",children:"Workspace"}),u.length>0&&l.jsx("div",{className:"space-y-1",children:u.map(g)}),d.length>0&&l.jsxs(l.Fragment,{children:[!e&&l.jsx("p",{className:"px-2 pt-2 text-[10px] font-semibold uppercase tracking-[0.12em] text-sidebar-foreground/50",children:"Tools"}),l.jsx("div",{className:"space-y-1",children:d.map(g)})]}),o.length>0&&c.length>0&&l.jsx("div",{className:"my-4 border-t border-sidebar-border"}),c.length>0&&l.jsx("div",{className:"space-y-1",children:c.map(g)})]}),l.jsx("div",{className:"p-3 border-t border-sidebar-border",children:l.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:me("w-full text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",e&&"px-0"),children:e?l.jsx(Ii,{className:"h-4 w-4"}):l.jsxs(l.Fragment,{children:[l.jsx(sX,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Collapse"})]})})})]})}const Zre=[{label:"Focus",href:"/market-intelligence",icon:ro},{label:"TRR",href:"/my-company",icon:Dl},{label:"Orders",href:"/my-company/orders",icon:bx},{label:"AI",href:"/ai-agent",icon:bp},{label:"Invoices",href:"/my-company/invoices",icon:N1},{label:"Upload",href:"/upload",icon:_x}],ene=[{label:"Dash",href:"/admin",icon:_F},{label:"Clients",href:"/admin/customers",icon:Dl},{label:"Users",href:"/admin/users",icon:HT},{label:"Data",href:"/admin/data",icon:BT}];function tne(){const{accountType:e}=Pa(),t=e==="admin"?ene:Zre;return l.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card/95 backdrop-blur md:hidden",children:[l.jsx("div",{className:"grid h-16",style:{gridTemplateColumns:`repeat(${t.length}, minmax(0, 1fr))`},children:t.map(r=>l.jsxs(Ed,{to:r.href,className:({isActive:n})=>me("flex flex-col items-center justify-center gap-1 text-[11px] font-medium transition-colors",n?"text-primary":"text-muted-foreground"),children:[l.jsx(r.icon,{className:"h-5 w-5"}),l.jsx("span",{children:r.label})]},r.href))}),l.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})}function rne(){return l.jsxs("div",{className:"origo-app-shell flex h-svh w-full overflow-hidden bg-background",children:[l.jsx("div",{className:"hidden shrink-0 md:flex md:h-svh",children:l.jsx(Qre,{})}),l.jsxs("div",{className:"flex h-svh min-w-0 flex-1 flex-col",children:[l.jsx("main",{className:"origo-content-stage min-h-0 flex-1 overflow-hidden",children:l.jsx(QZ,{})}),l.jsx(tne,{})]})]})}const QL="origo-admin-state-v1",os={customers:[{id:"cus-001",companyName:"Global Foods GmbH",contactName:"Anna Keller",email:"anna.keller@globalfoods.example",phone:"+49 30 1234 5001",country:"Germany",status:"active",notes:"Focus on coffee and cocoa imports for retail chains.",updatedAt:"2026-02-08T09:22:00.000Z"},{id:"cus-002",companyName:"Fresh Imports Ltd",contactName:"Michael Smith",email:"m.smith@freshimports.example",phone:"+44 20 7788 2045",country:"United Kingdom",status:"active",notes:"Requires weekly shipment updates and invoice tracking.",updatedAt:"2026-02-07T14:30:00.000Z"},{id:"cus-003",companyName:"Nordic Trade AB",contactName:"Lina Svensson",email:"lina.svensson@nordictrade.example",phone:"+46 8 400 987 21",country:"Sweden",status:"paused",notes:"Account paused while renegotiating pricing terms.",updatedAt:"2026-02-06T11:05:00.000Z"}],adminUsers:[{id:"adm-001",name:"John Doe",email:"john.doe@origo.example",role:"owner",status:"active",lastLogin:"2026-02-10T03:10:00.000Z"},{id:"adm-002",name:"Sarah Tan",email:"sarah.tan@origo.example",role:"manager",status:"active",lastLogin:"2026-02-09T15:35:00.000Z"},{id:"adm-003",name:"Luis Romero",email:"luis.romero@origo.example",role:"analyst",status:"invited",lastLogin:"2026-02-05T10:15:00.000Z"}],uploads:[{id:"upl-001",fileName:"sales_export_jan2024.xlsx",fileSize:"2.4 MB",fileType:"xlsx",description:"January sales shipment and order export for EU market.",customerId:"cus-001",uploadedBy:"Anna Keller",uploadedAt:"2026-02-05T09:20:00.000Z",status:"ready",reviewStatus:"updated"},{id:"upl-002",fileName:"invoices_q4_2023.csv",fileSize:"856 KB",fileType:"csv",description:"Q4 invoices with finance reconciliation notes.",customerId:"cus-002",uploadedBy:"Michael Smith",uploadedAt:"2026-02-06T14:35:00.000Z",status:"ready",reviewStatus:"pending"}],activityLogs:[{id:"act-001",type:"upload",message:"New upload sales_export_jan2024.xlsx",actor:"Anna Keller",createdAt:"2026-02-05T09:20:00.000Z"},{id:"act-002",type:"customer",message:"Customer profile updated for Fresh Imports Ltd",actor:"Sarah Tan",createdAt:"2026-02-07T11:40:00.000Z"},{id:"act-003",type:"user",message:"Invited admin user Luis Romero",actor:"John Doe",createdAt:"2026-02-08T13:05:00.000Z"}]},ZL=w.createContext(null),Hv=e=>`${e}-${Math.random().toString(36).slice(2,8)}-${Date.now().toString(36)}`,Ki=(e,t,r="System")=>({id:Hv("act"),type:e,message:t,actor:r,createdAt:new Date().toISOString()}),Xi=(e,t)=>({...e,activityLogs:[t,...e.activityLogs].slice(0,60)}),nne=e=>{const t=Object.keys(e);return t.length===1&&t[0]==="progress"?!0:t.includes("progress")&&e.status==="uploading"},ane=e=>({id:e.id,companyName:e.company_name,contactName:e.contact_name,email:e.email,phone:e.phone,country:e.country,status:e.status,notes:e.notes,updatedAt:e.updated_at}),OS=e=>({id:e.id,company_name:e.companyName,contact_name:e.contactName,email:e.email,phone:e.phone,country:e.country,status:e.status,notes:e.notes,updated_at:e.updatedAt}),sne=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,lastLogin:e.last_login}),PS=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,last_login:e.lastLogin}),ine=e=>({id:e.id,fileName:e.file_name,fileSize:e.file_size,fileType:e.file_type,description:e.description,customerId:e.customer_id,uploadedBy:e.uploaded_by,uploadedAt:e.uploaded_at,status:e.status,reviewStatus:e.review_status,progress:e.progress??void 0}),RS=e=>({id:e.id,file_name:e.fileName,file_size:e.fileSize,file_type:e.fileType,description:e.description,customer_id:e.customerId,uploaded_by:e.uploadedBy,uploaded_at:e.uploadedAt,status:e.status,review_status:e.reviewStatus,progress:typeof e.progress=="number"?e.progress:null}),one=e=>({id:e.id,type:e.type,message:e.message,actor:e.actor,createdAt:e.created_at}),e8=e=>({id:e.id,type:e.type,message:e.message,actor:e.actor,created_at:e.createdAt}),t8=e=>{const t=new Set(e.customers.map(r=>r.id));return{...e,uploads:e.uploads.filter(r=>t.has(r.customerId)),activityLogs:e.activityLogs.slice(0,60)}},lne=()=>{if(typeof window>"u")return os;const e=window.localStorage.getItem(QL);if(!e)return os;try{const t=JSON.parse(e);return t8({customers:Array.isArray(t.customers)?t.customers:os.customers,adminUsers:Array.isArray(t.adminUsers)?t.adminUsers:os.adminUsers,uploads:Array.isArray(t.uploads)?t.uploads:os.uploads,activityLogs:Array.isArray(t.activityLogs)?t.activityLogs:os.activityLogs})}catch{return os}},cne=async()=>{Ee&&(await Ee.from("customers").upsert(os.customers.map(OS)),await Ee.from("admin_users").upsert(os.adminUsers.map(PS)),await Ee.from("uploads").upsert(os.uploads.map(RS)),await Ee.from("activity_logs").upsert(os.activityLogs.map(e8)))},une=async()=>{if(!Ee)return null;const[e,t,r,n]=await Promise.all([Ee.from("customers").select("*").order("updated_at",{ascending:!1}),Ee.from("admin_users").select("*").order("last_login",{ascending:!1}),Ee.from("uploads").select("*").order("uploaded_at",{ascending:!1}),Ee.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(60)]);if(e.error||t.error||r.error||n.error)return console.error("Supabase load error",{customers:e.error,adminUsers:t.error,uploads:r.error,activityLogs:n.error}),null;const a=e.data??[],s=t.data??[],i=r.data??[],o=n.data??[];if(!(a.length>0||s.length>0||i.length>0||o.length>0))return await cne(),os;const u={customers:a.map(ane),adminUsers:s.map(sne),uploads:i.map(ine),activityLogs:o.map(one)};return t8(u)},Yi=async e=>{Ee&&await Ee.from("activity_logs").upsert(e8(e))};function dne({children:e}){const[t,r]=w.useState(()=>lne());w.useEffect(()=>{typeof window<"u"&&window.localStorage.setItem(QL,JSON.stringify(t))},[t]),w.useEffect(()=>{if(!Or)return;let a=!1;return(async()=>{const i=await une();!a&&i&&r(i)})(),()=>{a=!0}},[]);const n=w.useMemo(()=>({...t,createCustomer:a=>{const s={id:Hv("cus"),companyName:a.companyName.trim(),contactName:a.contactName.trim(),email:a.email.trim(),phone:a.phone.trim(),country:a.country.trim(),notes:a.notes.trim(),status:"active",updatedAt:new Date().toISOString()},i=Ki("customer",`Created customer ${s.companyName}`,"Back Office");return r(o=>Xi({...o,customers:[s,...o.customers]},i)),Ee&&Promise.all([Ee.from("customers").upsert(OS(s)),Yi(i)]),s.id},updateCustomer:(a,s)=>{var u,d,f,h,p,g;const i=t.customers.find(m=>m.id===a);if(!i)return;const o={...i,...s,companyName:((u=s.companyName)==null?void 0:u.trim())??i.companyName,contactName:((d=s.contactName)==null?void 0:d.trim())??i.contactName,email:((f=s.email)==null?void 0:f.trim())??i.email,phone:((h=s.phone)==null?void 0:h.trim())??i.phone,country:((p=s.country)==null?void 0:p.trim())??i.country,notes:((g=s.notes)==null?void 0:g.trim())??i.notes,updatedAt:new Date().toISOString()},c=Ki("customer",`Updated customer ${i.companyName}`,"Back Office");r(m=>Xi({...m,customers:m.customers.map(v=>v.id===a?o:v)},c)),Ee&&Promise.all([Ee.from("customers").upsert(OS(o)),Yi(c)])},deleteCustomer:a=>{const s=t.customers.find(o=>o.id===a);if(!s)return;const i=Ki("customer",`Deleted customer ${s.companyName} and linked uploads`,"Back Office");r(o=>Xi({...o,customers:o.customers.filter(c=>c.id!==a),uploads:o.uploads.filter(c=>c.customerId!==a)},i)),Ee&&Promise.all([Ee.from("customers").delete().eq("id",a),Yi(i)])},createAdminUser:a=>{const s={id:Hv("adm"),name:a.name.trim(),email:a.email.trim(),role:a.role,status:"invited",lastLogin:new Date().toISOString()},i=Ki("user",`Invited admin user ${s.name}`,"Back Office");return r(o=>Xi({...o,adminUsers:[s,...o.adminUsers]},i)),Ee&&Promise.all([Ee.from("admin_users").upsert(PS(s)),Yi(i)]),s.id},updateAdminUser:(a,s)=>{const i=t.adminUsers.find(u=>u.id===a);if(!i)return;const o={...i,...s},c=Ki("user",`Updated admin user ${i.name}`,"Back Office");r(u=>Xi({...u,adminUsers:u.adminUsers.map(d=>d.id===a?o:d)},c)),Ee&&Promise.all([Ee.from("admin_users").upsert(PS(o)),Yi(c)])},createUpload:a=>{if(!a.customerId.trim()||!t.customers.some(c=>c.id===a.customerId))return"";const i={id:Hv("upl"),fileName:a.fileName,fileSize:a.fileSize,fileType:a.fileType,description:a.description.trim(),customerId:a.customerId,uploadedBy:a.uploadedBy,uploadedAt:new Date().toISOString(),status:a.status??"uploading",reviewStatus:a.reviewStatus??"pending",progress:a.progress},o=Ki("upload",`New upload ${i.fileName}`,i.uploadedBy);return r(c=>Xi({...c,uploads:[i,...c.uploads]},o)),Ee&&Promise.all([Ee.from("uploads").upsert(RS(i)),Yi(o)]),i.id},updateUpload:(a,s)=>{var d;const i=t.uploads.find(f=>f.id===a);if(!i||s.customerId!==void 0&&!t.customers.some(h=>h.id===s.customerId))return;const o={...i,...s,description:((d=s.description)==null?void 0:d.trim())??i.description},c=nne(s),u=Ki("upload",`Updated upload ${i.fileName}`,"Back Office");r(f=>{const h={...f,uploads:f.uploads.map(p=>p.id===a?o:p)};return c?h:Xi(h,u)}),Ee&&!c&&Promise.all([Ee.from("uploads").upsert(RS(o)),Yi(u)])},deleteUpload:a=>{const s=t.uploads.find(o=>o.id===a);if(!s)return;const i=Ki("upload",`Removed upload ${s.fileName}`,"Back Office");r(o=>Xi({...o,uploads:o.uploads.filter(c=>c.id!==a)},i)),Ee&&Promise.all([Ee.from("uploads").delete().eq("id",a),Yi(i)])},createActivityLog:(a,s,i="Back Office")=>{const o=Ki(a,s,i);r(c=>Xi(c,o)),Ee&&Yi(o)},getCustomerName:a=>{const s=t.customers.find(i=>i.id===a);return(s==null?void 0:s.companyName)??"Unassigned"}}),[t]);return l.jsx(ZL.Provider,{value:n,children:e})}function jm(){const e=w.useContext(ZL);if(!e)throw new Error("useAdminData must be used within an AdminDataProvider");return e}const ot=w.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ot.displayName="Input";const hn=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:me("w-full caption-bottom text-sm",e),...t})}));hn.displayName="Table";const pn=w.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:me("[&_tr]:border-b",e),...t}));pn.displayName="TableHeader";const mn=w.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:me("[&_tr:last-child]:border-0",e),...t}));mn.displayName="TableBody";const fne=w.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));fne.displayName="TableFooter";const Tt=w.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Tt.displayName="TableRow";const He=w.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));He.displayName="TableHead";const Me=w.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Me.displayName="TableCell";const hne=w.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:me("mt-4 text-sm text-muted-foreground",e),...t}));hne.displayName="TableCaption";function V1({columns:e,data:t,sortKey:r,sortDirection:n,onSort:a,enableColumnReorder:s=!1,onColumnReorder:i,onRowClick:o,emptyMessage:c="No data available",className:u}){const[d,f]=w.useState(null),[h,p]=w.useState(null),g=y=>r!==y?l.jsx(iX,{className:"h-4 w-4 text-muted-foreground/50"}):n==="asc"?l.jsx($T,{className:"h-4 w-4"}):l.jsx(Ml,{className:"h-4 w-4"}),m={left:"text-left",center:"text-center",right:"text-right"},v=y=>{s&&(!d||d===y||i==null||i(d,y))};return l.jsx("div",{className:me("rounded-lg border bg-card overflow-hidden",u),children:l.jsx("div",{className:"w-full overflow-x-auto",children:l.jsxs(hn,{className:"min-w-[560px] md:min-w-full",children:[l.jsx(pn,{children:l.jsx(Tt,{className:"bg-muted/50 hover:bg-muted/50",children:e.map(y=>l.jsx(He,{style:{width:y.width},className:me("whitespace-nowrap font-semibold text-foreground",m[y.align||"left"],y.sortable&&"cursor-pointer select-none hover:bg-muted/80",s&&"cursor-grab active:cursor-grabbing",h===y.key&&"bg-muted/80"),onClick:()=>y.sortable&&(a==null?void 0:a(y.key)),draggable:s,onDragStart:()=>{s&&f(y.key)},onDragOver:b=>{!s||!d||(b.preventDefault(),p(y.key))},onDrop:b=>{s&&(b.preventDefault(),v(y.key),f(null),p(null))},onDragEnd:()=>{s&&(f(null),p(null))},children:l.jsxs("div",{className:me("flex items-center gap-1",y.align==="right"&&"justify-end",y.align==="center"&&"justify-center"),children:[y.header,y.sortable&&g(y.key)]})},y.key))})}),l.jsx(mn,{children:t.length===0?l.jsx(Tt,{children:l.jsx(Me,{colSpan:e.length,className:"h-32 text-center text-muted-foreground",children:c})}):t.map((y,b)=>l.jsx(Tt,{onClick:()=>o==null?void 0:o(y),className:me("transition-colors",o&&"cursor-pointer hover:bg-muted/50"),children:e.map(x=>l.jsx(Me,{className:m[x.align||"left"],children:x.render?x.render(y):y[x.key]},x.key))},y.id??b))})]})})})}const pne={success:{icon:vF,className:"bg-emerald-50 text-emerald-700 border-emerald-200"},warning:{icon:FT,className:"bg-amber-50 text-amber-700 border-amber-200"},error:{icon:cX,className:"bg-red-50 text-red-700 border-red-200"},neutral:{icon:i0,className:"bg-slate-50 text-slate-600 border-slate-200"},pending:{icon:LT,className:"bg-blue-50 text-blue-700 border-blue-200"},growing:{icon:WT,className:"bg-emerald-50 text-emerald-700 border-emerald-200"},declining:{icon:TF,className:"bg-red-50 text-red-700 border-red-200"},stable:{icon:i0,className:"bg-slate-50 text-slate-600 border-slate-200"}};function ha({status:e,label:t,showIcon:r=!0,size:n="sm",className:a}){const s=pne[e],i=s.icon,o={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1"};return l.jsxs("span",{className:me("inline-flex items-center gap-1 rounded-full border font-medium",s.className,o[n],a),children:[r&&l.jsx(i,{className:me(n==="sm"?"h-3 w-3":"h-4 w-4")}),t]})}var mne=w.createContext(void 0);function Am(e){const t=w.useContext(mne);return e||t||"ltr"}var Vw=0;function G1(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??eP()),document.body.insertAdjacentElement("beforeend",e[1]??eP()),Vw++,()=>{Vw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vw--}},[])}function eP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gw="focusScope.autoFocusOnMount",qw="focusScope.autoFocusOnUnmount",tP={bubbles:!1,cancelable:!0},gne="FocusScope",Om=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[o,c]=w.useState(null),u=Br(a),d=Br(s),f=w.useRef(null),h=It(t,m=>c(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(x){if(p.paused||!o)return;const _=x.target;o.contains(_)?f.current=_:zo(f.current,{select:!0})},v=function(x){if(p.paused||!o)return;const _=x.relatedTarget;_!==null&&(o.contains(_)||zo(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&zo(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,o,p.paused]),w.useEffect(()=>{if(o){nP.add(p);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(Gw,tP);o.addEventListener(Gw,u),o.dispatchEvent(y),y.defaultPrevented||(vne(_ne(r8(o)),{select:!0}),document.activeElement===m&&zo(o))}return()=>{o.removeEventListener(Gw,u),setTimeout(()=>{const y=new CustomEvent(qw,tP);o.addEventListener(qw,d),o.dispatchEvent(y),y.defaultPrevented||zo(m??document.body,{select:!0}),o.removeEventListener(qw,d),nP.remove(p)},0)}}},[o,u,d,p]);const g=w.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[x,_]=xne(b);x&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&zo(x,{select:!0})):m.shiftKey&&y===x&&(m.preventDefault(),r&&zo(_,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(rt.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Om.displayName=gne;function vne(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zo(n,{select:t}),document.activeElement!==r)return}function xne(e){const t=r8(e),r=rP(t,e),n=rP(t.reverse(),e);return[r,n]}function r8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rP(e,t){for(const r of e)if(!yne(r,{upTo:t}))return r}function yne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bne(e){return e instanceof HTMLInputElement&&"select"in e}function zo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&bne(e)&&t&&e.select()}}var nP=wne();function wne(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=aP(e,t),e.unshift(t)},remove(t){var r;e=aP(e,t),(r=e[0])==null||r.resume()}}}function aP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _ne(e){return e.filter(t=>t.tagName!=="A")}var Kw="rovingFocusGroup.onEntryFocus",Sne={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[IS,n8,kne]=k1(Pm),[Ene,q1]=_a(Pm,[kne]),[Tne,Nne]=Ene(Pm),a8=w.forwardRef((e,t)=>l.jsx(IS.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(IS.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Cne,{...e,ref:t})})}));a8.displayName=Pm;var Cne=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),p=It(t,h),g=Am(s),[m,v]=Ri({prop:i,defaultProp:o??null,onChange:c,caller:Pm}),[y,b]=w.useState(!1),x=Br(u),_=n8(r),S=w.useRef(!1),[E,k]=w.useState(0);return w.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Kw,x),()=>N.removeEventListener(Kw,x)},[x]),l.jsx(Tne,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:w.useCallback(N=>v(N),[v]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:w.useCallback(()=>k(N=>N-1),[]),children:l.jsx(rt.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{S.current=!0}),onFocus:$e(e.onFocus,N=>{const T=!S.current;if(N.target===N.currentTarget&&T&&!y){const A=new CustomEvent(Kw,Sne);if(N.currentTarget.dispatchEvent(A),!A.defaultPrevented){const C=_().filter(W=>W.focusable),j=C.find(W=>W.active),R=C.find(W=>W.id===m),M=[j,R,...C].filter(Boolean).map(W=>W.ref.current);o8(M,d)}}S.current=!1}),onBlur:$e(e.onBlur,()=>b(!1))})})}),s8="RovingFocusGroupItem",i8=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...o}=e,c=hs(),u=s||c,d=Nne(s8,r),f=d.currentTabStopId===u,h=n8(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),l.jsx(IS.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:l.jsx(rt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:$e(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:$e(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:$e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=One(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(v.currentTarget);x=d.loop?Pne(x,_+1):x.slice(_+1)}setTimeout(()=>o8(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:m!=null}):i})})});i8.displayName=s8;var jne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ane(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function One(e,t,r){const n=Ane(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jne[n]}function o8(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Pne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var l8=a8,c8=i8,Rne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$u=new WeakMap,Dg=new WeakMap,Mg={},Xw=0,u8=function(e){return e&&(e.host||u8(e.parentNode))},Ine=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=u8(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Dne=function(e,t,r,n){var a=Ine(t,Array.isArray(e)?e:[e]);Mg[r]||(Mg[r]=new WeakMap);var s=Mg[r],i=[],o=new Set,c=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=($u.get(h)||0)+1,v=(s.get(h)||0)+1;$u.set(h,m),s.set(h,v),i.push(h),m===1&&g&&Dg.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),o.clear(),Xw++,function(){i.forEach(function(f){var h=$u.get(f)-1,p=s.get(f)-1;$u.set(f,h),s.set(f,p),h||(Dg.has(f)||f.removeAttribute(n),Dg.delete(f)),p||f.removeAttribute(r)}),Xw--,Xw||($u=new WeakMap,$u=new WeakMap,Dg=new WeakMap,Mg={})}},K1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Rne(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Dne(n,a,r,"aria-hidden")):function(){return null}},Vv="right-scroll-bar-position",Gv="width-before-scroll-bar",Mne="with-scroll-bars-hidden",$ne="--removed-body-scroll-bar-size";function Yw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Fne(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Lne=typeof window<"u"?w.useLayoutEffect:w.useEffect,sP=new WeakMap;function Bne(e,t){var r=Fne(null,function(n){return e.forEach(function(a){return Yw(a,n)})});return Lne(function(){var n=sP.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(o){s.has(o)||Yw(o,null)}),s.forEach(function(o){a.has(o)||Yw(o,i)})}sP.set(r,e)},[e]),r}function Une(e){return e}function zne(e,t){t===void 0&&(t=Une);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function Wne(e){e===void 0&&(e={});var t=zne(null);return t.options=bi({async:!0,ssr:!1},e),t}var d8=function(e){var t=e.sideCar,r=Hf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,bi({},r))};d8.isSideCarExport=!0;function Hne(e,t){return e.useMedium(t),d8}var f8=Wne(),Jw=function(){},X1=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:Jw,onWheelCapture:Jw,onTouchMoveCapture:Jw}),a=n[0],s=n[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,x=e.gapMode,_=Hf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=Bne([r,t]),k=bi(bi({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(S,{sideCar:f8,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:x}),i?w.cloneElement(w.Children.only(o),bi(bi({},k),{ref:E})):w.createElement(b,bi({},k,{className:c,ref:E}),o))});X1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};X1.classNames={fullWidth:Gv,zeroRight:Vv};var Vne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Vne();return t&&e.setAttribute("nonce",t),e}function qne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Gne())&&(qne(t,r),Kne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Yne=function(){var e=Xne();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},h8=function(){var e=Yne(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Jne={left:0,top:0,right:0,gap:0},Qw=function(e){return parseInt(e||"",10)||0},Qne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Qw(r),Qw(n),Qw(a)]},Zne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jne;var t=Qne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eae=h8(),Nd="data-scroll-locked",tae=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Mne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Nd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Gv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Vv," .").concat(Vv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gv," .").concat(Gv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nd,`] {
    `).concat($ne,": ").concat(o,`px;
  }
`)},iP=function(){var e=parseInt(document.body.getAttribute(Nd)||"0",10);return isFinite(e)?e:0},rae=function(){w.useEffect(function(){return document.body.setAttribute(Nd,(iP()+1).toString()),function(){var e=iP()-1;e<=0?document.body.removeAttribute(Nd):document.body.setAttribute(Nd,e.toString())}},[])},nae=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;rae();var s=w.useMemo(function(){return Zne(a)},[a]);return w.createElement(eae,{styles:tae(s,!t,a,r?"":"!important")})},DS=!1;if(typeof window<"u")try{var $g=Object.defineProperty({},"passive",{get:function(){return DS=!0,!0}});window.addEventListener("test",$g,$g),window.removeEventListener("test",$g,$g)}catch{DS=!1}var Fu=DS?{passive:!1}:!1,aae=function(e){return e.tagName==="TEXTAREA"},p8=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!aae(e)&&r[t]==="visible")},sae=function(e){return p8(e,"overflowY")},iae=function(e){return p8(e,"overflowX")},oP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=m8(e,n);if(a){var s=g8(e,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},m8=function(e,t){return e==="v"?sae(t):iae(t)},g8=function(e,t){return e==="v"?oae(t):lae(t)},cae=function(e,t){return e==="h"&&t==="rtl"?-1:1},uae=function(e,t,r,n,a){var s=cae(e,window.getComputedStyle(t).direction),i=s*n,o=r.target,c=t.contains(o),u=!1,d=i>0,f=0,h=0;do{if(!o)break;var p=g8(e,o),g=p[0],m=p[1],v=p[2],y=m-v-s*g;(g||y)&&m8(e,o)&&(f+=y,h+=g);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Fg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lP=function(e){return[e.deltaX,e.deltaY]},cP=function(e){return e&&"current"in e?e.current:e},dae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hae=0,Lu=[];function pae(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(hae++)[0],s=w.useState(h8)[0],i=w.useRef(e);w.useEffect(function(){i.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=vee([e.lockRef.current],(e.shards||[]).map(cP),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=w.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=Fg(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-y[0],_="deltaY"in m?m.deltaY:b[1]-y[1],S,E=m.target,k=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&E.type==="range")return!1;var N=oP(k,E);if(!N)return!0;if(N?S=k:(S=k==="v"?"h":"v",N=oP(k,E)),!N)return!1;if(!n.current&&"changedTouches"in m&&(x||_)&&(n.current=S),!S)return!0;var T=n.current||S;return uae(T,v,m,T==="h"?x:_,!0)},[]),c=w.useCallback(function(m){var v=m;if(!(!Lu.length||Lu[Lu.length-1]!==s)){var y="deltaY"in v?lP(v):Fg(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&dae(S.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var x=(i.current.shards||[]).map(cP).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=x.length>0?o(v,x[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=w.useCallback(function(m,v,y,b){var x={name:m,delta:v,target:y,should:b,shadowParent:mae(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=w.useCallback(function(m){r.current=Fg(m),n.current=void 0},[]),f=w.useCallback(function(m){u(m.type,lP(m),m.target,o(m,e.lockRef.current))},[]),h=w.useCallback(function(m){u(m.type,Fg(m),m.target,o(m,e.lockRef.current))},[]);w.useEffect(function(){return Lu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fu),document.addEventListener("touchmove",c,Fu),document.addEventListener("touchstart",d,Fu),function(){Lu=Lu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Fu),document.removeEventListener("touchmove",c,Fu),document.removeEventListener("touchstart",d,Fu)}},[]);var p=e.removeScrollBar,g=e.inert;return w.createElement(w.Fragment,null,g?w.createElement(s,{styles:fae(a)}):null,p?w.createElement(nae,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function mae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gae=Hne(f8,pae);var Rm=w.forwardRef(function(e,t){return w.createElement(X1,bi({},e,{ref:t,sideCar:gae}))});Rm.classNames=X1.classNames;var MS=["Enter"," "],vae=["ArrowDown","PageUp","Home"],v8=["ArrowUp","PageDown","End"],xae=[...vae,...v8],yae={ltr:[...MS,"ArrowRight"],rtl:[...MS,"ArrowLeft"]},bae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Im="Menu",[_0,wae,_ae]=k1(Im),[xu,x8]=_a(Im,[_ae,Ql,q1]),Y1=Ql(),y8=q1(),[Sae,yu]=xu(Im),[kae,Dm]=xu(Im),b8=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,o=Y1(t),[c,u]=w.useState(null),d=w.useRef(!1),f=Br(s),h=Am(a);return w.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(O1,{...o,children:l.jsx(Sae,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(kae,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};b8.displayName=Im;var Eae="MenuAnchor",dN=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Y1(r);return l.jsx(Tm,{...a,...n,ref:t})});dN.displayName=Eae;var fN="MenuPortal",[Tae,w8]=xu(fN,{forceMount:void 0}),_8=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=yu(fN,t);return l.jsx(Tae,{scope:t,forceMount:r,children:l.jsx(_n,{present:r||s.open,children:l.jsx(vu,{asChild:!0,container:a,children:n})})})};_8.displayName=fN;var ps="MenuContent",[Nae,hN]=xu(ps),S8=w.forwardRef((e,t)=>{const r=w8(ps,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=yu(ps,e.__scopeMenu),i=Dm(ps,e.__scopeMenu);return l.jsx(_0.Provider,{scope:e.__scopeMenu,children:l.jsx(_n,{present:n||s.open,children:l.jsx(_0.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(Cae,{...a,ref:t}):l.jsx(jae,{...a,ref:t})})})})}),Cae=w.forwardRef((e,t)=>{const r=yu(ps,e.__scopeMenu),n=w.useRef(null),a=It(t,n);return w.useEffect(()=>{const s=n.current;if(s)return K1(s)},[]),l.jsx(pN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),jae=w.forwardRef((e,t)=>{const r=yu(ps,e.__scopeMenu);return l.jsx(pN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Aae=Il("MenuContent.ScrollLock"),pN=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=yu(ps,r),y=Dm(ps,r),b=Y1(r),x=y8(r),_=wae(r),[S,E]=w.useState(null),k=w.useRef(null),N=It(t,k,v.onContentChange),T=w.useRef(0),A=w.useRef(""),C=w.useRef(0),j=w.useRef(null),R=w.useRef("right"),I=w.useRef(0),M=g?Rm:w.Fragment,W=g?{as:Aae,allowPinchZoom:!0}:void 0,K=O=>{var V,ie;const Z=A.current+O,J=_().filter(re=>!re.disabled),P=document.activeElement,G=(V=J.find(re=>re.ref.current===P))==null?void 0:V.textValue,B=J.map(re=>re.textValue),z=zae(B,Z,G),ae=(ie=J.find(re=>re.textValue===z))==null?void 0:ie.ref.current;(function re(L){A.current=L,window.clearTimeout(T.current),L!==""&&(T.current=window.setTimeout(()=>re(""),1e3))})(Z),ae&&setTimeout(()=>ae.focus())};w.useEffect(()=>()=>window.clearTimeout(T.current),[]),G1();const H=w.useCallback(O=>{var J,P;return R.current===((J=j.current)==null?void 0:J.side)&&Hae(O,(P=j.current)==null?void 0:P.area)},[]);return l.jsx(Nae,{scope:r,searchRef:A,onItemEnter:w.useCallback(O=>{H(O)&&O.preventDefault()},[H]),onItemLeave:w.useCallback(O=>{var Z;H(O)||((Z=k.current)==null||Z.focus(),E(null))},[H]),onTriggerLeave:w.useCallback(O=>{H(O)&&O.preventDefault()},[H]),pointerGraceTimerRef:C,onPointerGraceIntentChange:w.useCallback(O=>{j.current=O},[]),children:l.jsx(M,{...W,children:l.jsx(Om,{asChild:!0,trapped:a,onMountAutoFocus:$e(s,O=>{var Z;O.preventDefault(),(Z=k.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(gu,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(l8,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:$e(c,O=>{y.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(P1,{role:"menu","aria-orientation":"vertical","data-state":L8(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:$e(m.onKeyDown,O=>{const J=O.target.closest("[data-radix-menu-content]")===O.currentTarget,P=O.ctrlKey||O.altKey||O.metaKey,G=O.key.length===1;J&&(O.key==="Tab"&&O.preventDefault(),!P&&G&&K(O.key));const B=k.current;if(O.target!==B||!xae.includes(O.key))return;O.preventDefault();const ae=_().filter(V=>!V.disabled).map(V=>V.ref.current);v8.includes(O.key)&&ae.reverse(),Bae(ae)}),onBlur:$e(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(T.current),A.current="")}),onPointerMove:$e(e.onPointerMove,S0(O=>{const Z=O.target,J=I.current!==O.clientX;if(O.currentTarget.contains(Z)&&J){const P=O.clientX>I.current?"right":"left";R.current=P,I.current=O.clientX}}))})})})})})})});S8.displayName=ps;var Oae="MenuGroup",mN=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(rt.div,{role:"group",...n,ref:t})});mN.displayName=Oae;var Pae="MenuLabel",k8=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(rt.div,{...n,ref:t})});k8.displayName=Pae;var Dx="MenuItem",uP="menu.itemSelect",J1=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=w.useRef(null),i=Dm(Dx,e.__scopeMenu),o=hN(Dx,e.__scopeMenu),c=It(t,s),u=w.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(uP,{bubbles:!0,cancelable:!0});f.addEventListener(uP,p=>n==null?void 0:n(p),{once:!0}),RT(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(E8,{...a,ref:c,disabled:r,onClick:$e(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:$e(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:$e(e.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||MS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});J1.displayName=Dx;var E8=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=hN(Dx,r),o=y8(r),c=w.useRef(null),u=It(t,c),[d,f]=w.useState(!1),[h,p]=w.useState("");return w.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),l.jsx(_0.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:l.jsx(c8,{asChild:!0,...o,focusable:!n,children:l.jsx(rt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:$e(e.onPointerMove,S0(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,S0(g=>i.onItemLeave(g))),onFocus:$e(e.onFocus,()=>f(!0)),onBlur:$e(e.onBlur,()=>f(!1))})})})}),Rae="MenuCheckboxItem",T8=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return l.jsx(O8,{scope:e.__scopeMenu,checked:r,children:l.jsx(J1,{role:"menuitemcheckbox","aria-checked":Mx(r)?"mixed":r,...a,ref:t,"data-state":vN(r),onSelect:$e(a.onSelect,()=>n==null?void 0:n(Mx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});T8.displayName=Rae;var N8="MenuRadioGroup",[Iae,Dae]=xu(N8,{value:void 0,onValueChange:()=>{}}),C8=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Br(n);return l.jsx(Iae,{scope:e.__scopeMenu,value:r,onValueChange:s,children:l.jsx(mN,{...a,ref:t})})});C8.displayName=N8;var j8="MenuRadioItem",A8=w.forwardRef((e,t)=>{const{value:r,...n}=e,a=Dae(j8,e.__scopeMenu),s=r===a.value;return l.jsx(O8,{scope:e.__scopeMenu,checked:s,children:l.jsx(J1,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":vN(s),onSelect:$e(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});A8.displayName=j8;var gN="MenuItemIndicator",[O8,Mae]=xu(gN,{checked:!1}),P8=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=Mae(gN,r);return l.jsx(_n,{present:n||Mx(s.checked)||s.checked===!0,children:l.jsx(rt.span,{...a,ref:t,"data-state":vN(s.checked)})})});P8.displayName=gN;var $ae="MenuSeparator",R8=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});R8.displayName=$ae;var Fae="MenuArrow",I8=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Y1(r);return l.jsx(R1,{...a,...n,ref:t})});I8.displayName=Fae;var Lae="MenuSub",[CBe,D8]=xu(Lae),tp="MenuSubTrigger",M8=w.forwardRef((e,t)=>{const r=yu(tp,e.__scopeMenu),n=Dm(tp,e.__scopeMenu),a=D8(tp,e.__scopeMenu),s=hN(tp,e.__scopeMenu),i=w.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(dN,{asChild:!0,...u,children:l.jsx(E8,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":L8(r.open),...e,ref:S1(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,S0(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:$e(e.onPointerLeave,S0(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",y=v?-5:5,b=h[v?"left":"right"],x=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:b,y:h.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||yae[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});M8.displayName=tp;var $8="MenuSubContent",F8=w.forwardRef((e,t)=>{const r=w8(ps,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=yu(ps,e.__scopeMenu),i=Dm(ps,e.__scopeMenu),o=D8($8,e.__scopeMenu),c=w.useRef(null),u=It(t,c);return l.jsx(_0.Provider,{scope:e.__scopeMenu,children:l.jsx(_n,{present:n||s.open,children:l.jsx(_0.Slot,{scope:e.__scopeMenu,children:l.jsx(pN,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:$e(e.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:$e(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=bae[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});F8.displayName=$8;function L8(e){return e?"open":"closed"}function Mx(e){return e==="indeterminate"}function vN(e){return Mx(e)?"indeterminate":e?"checked":"unchecked"}function Bae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Uae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function zae(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Uae(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Wae(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const o=t[s],c=t[i],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Hae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Wae(r,t)}function S0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vae=b8,Gae=dN,qae=_8,Kae=S8,Xae=mN,Yae=k8,Jae=J1,Qae=T8,Zae=C8,ese=A8,tse=P8,rse=R8,nse=I8,ase=M8,sse=F8,Q1="DropdownMenu",[ise,jBe]=_a(Q1,[x8]),Sa=x8(),[ose,B8]=ise(Q1),U8=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=Sa(t),u=w.useRef(null),[d,f]=Ri({prop:a,defaultProp:s??!1,onChange:i,caller:Q1});return l.jsx(ose,{scope:t,triggerId:hs(),triggerRef:u,contentId:hs(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(Vae,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};U8.displayName=Q1;var z8="DropdownMenuTrigger",W8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=B8(z8,r),i=Sa(r);return l.jsx(Gae,{asChild:!0,...i,children:l.jsx(rt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:S1(t,s.triggerRef),onPointerDown:$e(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:$e(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});W8.displayName=z8;var lse="DropdownMenuPortal",H8=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Sa(t);return l.jsx(qae,{...n,...r})};H8.displayName=lse;var V8="DropdownMenuContent",G8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=B8(V8,r),s=Sa(r),i=w.useRef(!1);return l.jsx(Kae,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:$e(e.onCloseAutoFocus,o=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G8.displayName=V8;var cse="DropdownMenuGroup",use=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(Xae,{...a,...n,ref:t})});use.displayName=cse;var dse="DropdownMenuLabel",q8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(Yae,{...a,...n,ref:t})});q8.displayName=dse;var fse="DropdownMenuItem",K8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(Jae,{...a,...n,ref:t})});K8.displayName=fse;var hse="DropdownMenuCheckboxItem",X8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(Qae,{...a,...n,ref:t})});X8.displayName=hse;var pse="DropdownMenuRadioGroup",mse=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(Zae,{...a,...n,ref:t})});mse.displayName=pse;var gse="DropdownMenuRadioItem",Y8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(ese,{...a,...n,ref:t})});Y8.displayName=gse;var vse="DropdownMenuItemIndicator",J8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(tse,{...a,...n,ref:t})});J8.displayName=vse;var xse="DropdownMenuSeparator",Q8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(rse,{...a,...n,ref:t})});Q8.displayName=xse;var yse="DropdownMenuArrow",bse=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(nse,{...a,...n,ref:t})});bse.displayName=yse;var wse="DropdownMenuSubTrigger",Z8=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(ase,{...a,...n,ref:t})});Z8.displayName=wse;var _se="DropdownMenuSubContent",e6=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Sa(r);return l.jsx(sse,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});e6.displayName=_se;var Sse=U8,kse=W8,Ese=H8,t6=G8,r6=q8,n6=K8,a6=X8,s6=Y8,i6=J8,o6=Q8,l6=Z8,c6=e6;const $x=Sse,Fx=kse,Tse=w.forwardRef(({className:e,inset:t,children:r,...n},a)=>l.jsxs(l6,{ref:a,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(Ii,{className:"ml-auto h-4 w-4"})]}));Tse.displayName=l6.displayName;const Nse=w.forwardRef(({className:e,...t},r)=>l.jsx(c6,{ref:r,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Nse.displayName=c6.displayName;const k0=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Ese,{children:l.jsx(t6,{ref:n,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));k0.displayName=t6.displayName;const Vs=w.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(n6,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Vs.displayName=n6.displayName;const Cse=w.forwardRef(({className:e,children:t,checked:r,...n},a)=>l.jsxs(a6,{ref:a,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(i6,{children:l.jsx(Qd,{className:"h-4 w-4"})})}),t]}));Cse.displayName=a6.displayName;const jse=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(s6,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(i6,{children:l.jsx(uX,{className:"h-2 w-2 fill-current"})})}),t]}));jse.displayName=s6.displayName;const $S=w.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(r6,{ref:n,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));$S.displayName=r6.displayName;const Cd=w.forwardRef(({className:e,...t},r)=>l.jsx(o6,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));Cd.displayName=o6.displayName;var u6={exports:{}},d6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w;function Ase(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ose=typeof Object.is=="function"?Object.is:Ase,Pse=af.useState,Rse=af.useEffect,Ise=af.useLayoutEffect,Dse=af.useDebugValue;function Mse(e,t){var r=t(),n=Pse({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return Ise(function(){a.value=r,a.getSnapshot=t,Zw(a)&&s({inst:a})},[e,r,t]),Rse(function(){return Zw(a)&&s({inst:a}),e(function(){Zw(a)&&s({inst:a})})},[e]),Dse(r),r}function Zw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ose(e,r)}catch{return!0}}function $se(e,t){return t()}var Fse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$se:Mse;d6.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:Fse;u6.exports=d6;var Lse=u6.exports;function Bse(){return Lse.useSyncExternalStore(Use,()=>!0,()=>!1)}function Use(){return()=>{}}var xN="Avatar",[zse,ABe]=_a(xN),[Wse,f6]=zse(xN),h6=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=w.useState("idle");return l.jsx(Wse,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:l.jsx(rt.span,{...n,ref:t})})});h6.displayName=xN;var p6="AvatarImage",m6=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=f6(p6,r),o=Hse(n,s),c=Br(u=>{a(u),i.onImageLoadingStatusChange(u)});return Gr(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(rt.img,{...s,ref:t,src:n}):null});m6.displayName=p6;var g6="AvatarFallback",v6=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=f6(g6,r),[i,o]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?l.jsx(rt.span,{...a,ref:t}):null});v6.displayName=g6;function dP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Hse(e,{referrerPolicy:t,crossOrigin:r}){const n=Bse(),a=w.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[i,o]=w.useState(()=>dP(s,e));return Gr(()=>{o(dP(s,e))},[s,e]),Gr(()=>{const c=f=>()=>{o(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),i}var x6=h6,y6=m6,b6=v6;const w6=w.forwardRef(({className:e,...t},r)=>l.jsx(x6,{ref:r,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));w6.displayName=x6.displayName;const Vse=w.forwardRef(({className:e,...t},r)=>l.jsx(y6,{ref:r,className:me("aspect-square h-full w-full",e),...t}));Vse.displayName=y6.displayName;const _6=w.forwardRef(({className:e,...t},r)=>l.jsx(b6,{ref:r,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_6.displayName=b6.displayName;const Gse=km("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sr({className:e,variant:t,...r}){return l.jsx("div",{className:me(Gse({variant:t}),e),...r})}var Z1="Dialog",[S6,OBe]=_a(Z1),[qse,ii]=S6(Z1),k6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,o=w.useRef(null),c=w.useRef(null),[u,d]=Ri({prop:n,defaultProp:a??!1,onChange:s,caller:Z1});return l.jsx(qse,{scope:t,triggerRef:o,contentRef:c,contentId:hs(),titleId:hs(),descriptionId:hs(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};k6.displayName=Z1;var E6="DialogTrigger",T6=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(E6,r),s=It(t,a.triggerRef);return l.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wN(a.open),...n,ref:s,onClick:$e(e.onClick,a.onOpenToggle)})});T6.displayName=E6;var yN="DialogPortal",[Kse,N6]=S6(yN,{forceMount:void 0}),C6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=ii(yN,t);return l.jsx(Kse,{scope:t,forceMount:r,children:w.Children.map(n,i=>l.jsx(_n,{present:r||s.open,children:l.jsx(vu,{asChild:!0,container:a,children:i})}))})};C6.displayName=yN;var Lx="DialogOverlay",j6=w.forwardRef((e,t)=>{const r=N6(Lx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ii(Lx,e.__scopeDialog);return s.modal?l.jsx(_n,{present:n||s.open,children:l.jsx(Yse,{...a,ref:t})}):null});j6.displayName=Lx;var Xse=Il("DialogOverlay.RemoveScroll"),Yse=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(Lx,r);return l.jsx(Rm,{as:Xse,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(rt.div,{"data-state":wN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tu="DialogContent",A6=w.forwardRef((e,t)=>{const r=N6(tu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ii(tu,e.__scopeDialog);return l.jsx(_n,{present:n||s.open,children:s.modal?l.jsx(Jse,{...a,ref:t}):l.jsx(Qse,{...a,ref:t})})});A6.displayName=tu;var Jse=w.forwardRef((e,t)=>{const r=ii(tu,e.__scopeDialog),n=w.useRef(null),a=It(t,r.contentRef,n);return w.useEffect(()=>{const s=n.current;if(s)return K1(s)},[]),l.jsx(O6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&s.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,s=>s.preventDefault())})}),Qse=w.forwardRef((e,t)=>{const r=ii(tu,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return l.jsx(O6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),O6=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,o=ii(tu,r),c=w.useRef(null),u=It(t,c);return G1(),l.jsxs(l.Fragment,{children:[l.jsx(Om,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(gu,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":wN(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Zse,{titleId:o.titleId}),l.jsx(tie,{contentRef:c,descriptionId:o.descriptionId})]})]})}),bN="DialogTitle",P6=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(bN,r);return l.jsx(rt.h2,{id:a.titleId,...n,ref:t})});P6.displayName=bN;var R6="DialogDescription",I6=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(R6,r);return l.jsx(rt.p,{id:a.descriptionId,...n,ref:t})});I6.displayName=R6;var D6="DialogClose",M6=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(D6,r);return l.jsx(rt.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});M6.displayName=D6;function wN(e){return e?"open":"closed"}var $6="DialogTitleWarning",[PBe,F6]=nK($6,{contentName:tu,titleName:bN,docsSlug:"dialog"}),Zse=({titleId:e})=>{const t=F6($6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eie="DialogDescriptionWarning",tie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F6(eie).contentName}}.`;return w.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},_N=k6,L6=T6,SN=C6,Mm=j6,$m=A6,Fm=P6,Lm=I6,eb=M6;const rie=_N,nie=L6,fP=eb,aie=SN,B6=w.forwardRef(({className:e,...t},r)=>l.jsx(Mm,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));B6.displayName=Mm.displayName;const sie=km("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),U6=w.forwardRef(({side:e="right",className:t,children:r,...n},a)=>l.jsxs(aie,{children:[l.jsx(B6,{}),l.jsxs($m,{ref:a,className:me(sie({side:e}),t),...n,children:[r,l.jsxs(eb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ef,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));U6.displayName=$m.displayName;const iie=w.forwardRef(({className:e,...t},r)=>l.jsx(Fm,{ref:r,className:me("text-lg font-semibold text-foreground",e),...t}));iie.displayName=Fm.displayName;const oie=w.forwardRef(({className:e,...t},r)=>l.jsx(Lm,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));oie.displayName=Lm.displayName;function hP({sectionTitle:e,items:t,pathname:r,closeMenu:n}){return l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"px-2 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:e}),l.jsx("div",{className:"space-y-1",children:t.map(a=>{var i;const s=r===a.href||r.startsWith(`${a.href}/`)||((i=a.children)==null?void 0:i.some(o=>o.href===r));return l.jsxs("div",{className:"space-y-1",children:[l.jsx(fP,{asChild:!0,children:l.jsxs(Ed,{to:a.href,onClick:n,className:me("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors",s?"bg-secondary text-foreground":"text-muted-foreground hover:bg-secondary/70 hover:text-foreground"),children:[l.jsx(a.icon,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:a.title}),a.badge?l.jsx("span",{className:"rounded-full border border-amber-300 bg-amber-50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700",children:a.badge}):null]})}),a.children&&l.jsx("div",{className:"space-y-1 pl-6",children:a.children.map(o=>{const c=r===o.href;return l.jsx(fP,{asChild:!0,children:l.jsxs(Ed,{to:o.href,onClick:n,className:me("flex items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",c?"bg-secondary text-foreground":"text-muted-foreground hover:bg-secondary/70 hover:text-foreground"),children:[l.jsx(o.icon,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:o.title}),o.badge?l.jsx("span",{className:"ml-auto rounded-full border border-amber-300 bg-amber-50 px-1.5 py-0.5 text-[9px] font-semibold uppercase tracking-wide text-amber-700",children:o.badge}):null]})},o.href)})})]},a.title)})})]})}function aa({title:e,subtitle:t,contextBar:r}){const[n,a]=w.useState(!1),s=zi(),i=Ao(),{accountType:o,displayName:c,email:u,logout:d}=Pa(),f=o==="admin",h=f?[]:PL,p=f?RL:[];return l.jsxs("div",{className:"sticky top-0 z-30",children:[l.jsxs("header",{className:"origo-topbar flex h-14 items-center justify-between border-b bg-card/88 px-2 backdrop-blur-sm sm:px-3 md:h-16 md:px-6",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2 md:gap-4",children:[l.jsxs(rie,{open:n,onOpenChange:a,children:[l.jsx(nie,{asChild:!0,children:l.jsx(Ce,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Open menu",children:l.jsx(kX,{className:"h-5 w-5"})})}),l.jsx(U6,{side:"left",className:"w-[88%] max-w-xs p-0",children:l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx("div",{className:"border-b px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/logo-origo.svg",alt:"Origo logo",className:"h-8 w-8 rounded-lg"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:"ORIGO Trade Insights"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Navigation"})]})]})}),l.jsxs("nav",{className:"flex-1 space-y-5 overflow-y-auto px-3 py-4",children:[h.length>0&&l.jsx(hP,{sectionTitle:"Main",items:h,pathname:s.pathname,closeMenu:()=>a(!1)}),p.length>0&&l.jsx(hP,{sectionTitle:"Back Office",items:p,pathname:s.pathname,closeMenu:()=>a(!1)})]})]})})]}),e&&l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"truncate text-sm font-semibold text-foreground md:text-lg",children:e}),t&&l.jsx("p",{className:"hidden text-sm text-muted-foreground md:block",children:t})]})]}),l.jsxs("div",{className:"flex shrink-0 items-center gap-1 sm:gap-2",children:[l.jsx(Ce,{variant:"ghost",size:"icon",className:"hidden text-muted-foreground sm:inline-flex",children:l.jsx(lX,{className:"h-5 w-5"})}),l.jsxs($x,{children:[l.jsx(Fx,{asChild:!0,children:l.jsxs(Ce,{variant:"ghost",size:"icon",className:"relative text-muted-foreground",children:[l.jsx(ZK,{className:"h-5 w-5"}),l.jsx(sr,{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center p-0 text-xs bg-destructive",children:"3"})]})}),l.jsxs(k0,{align:"end",className:"w-[92vw] max-w-sm bg-popover sm:w-80",children:[l.jsx($S,{children:"Notifications"}),l.jsx(Cd,{}),l.jsxs(Vs,{className:"flex flex-col items-start gap-1 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-destructive"}),l.jsx("span",{className:"font-medium text-sm",children:"3 Overdue Invoices"})]}),l.jsx("span",{className:"ml-4 text-xs text-muted-foreground",children:"Total outstanding: $45,200"})]}),l.jsxs(Vs,{className:"flex flex-col items-start gap-1 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-warning"}),l.jsx("span",{className:"font-medium text-sm",children:"Shipment Delay"})]}),l.jsx("span",{className:"ml-4 text-xs text-muted-foreground",children:"Order #ORD-2024-0158 delayed by 2 days"})]}),l.jsxs(Vs,{className:"flex flex-col items-start gap-1 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-success"}),l.jsx("span",{className:"font-medium text-sm",children:"New Market Data"})]}),l.jsx("span",{className:"ml-4 text-xs text-muted-foreground",children:"Q4 2024 data now available for HS 0901"})]})]})]}),l.jsxs($x,{children:[l.jsx(Fx,{asChild:!0,children:l.jsxs(Ce,{variant:"ghost",className:"ml-1 gap-2 px-1.5 sm:px-3",children:[l.jsx(w6,{className:"h-8 w-8",children:l.jsx(_6,{className:"bg-primary text-primary-foreground text-sm font-medium",children:c.slice(0,2).toUpperCase()||"US"})}),l.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[l.jsx("span",{className:"text-sm font-medium",children:c||"User"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:f?"Back Office":"Customer Account"})]}),l.jsx(Ml,{className:"hidden h-4 w-4 text-muted-foreground sm:block"})]})}),l.jsxs(k0,{align:"end",className:"w-56 bg-popover",children:[l.jsx($S,{children:"My Account"}),l.jsx(Cd,{}),l.jsx(Vs,{children:u||"No email"}),l.jsx(Vs,{children:f?"Back Office session":"Customer session"}),l.jsx(Cd,{}),l.jsx(Vs,{className:"text-destructive",onClick:async()=>{await d(),i("/login",{replace:!0})},children:"Sign Out"})]})]})]})]}),r?l.jsx("div",{className:"border-b bg-card/95 px-3 py-2 backdrop-blur-sm md:px-6",children:r}):null]})}const ru=_N,lie=SN,z6=w.forwardRef(({className:e,...t},r)=>l.jsx(Mm,{ref:r,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));z6.displayName=Mm.displayName;const Ll=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(lie,{children:[l.jsx(z6,{}),l.jsxs($m,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(eb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ef,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ll.displayName=$m.displayName;const Bl=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bl.displayName="DialogHeader";const W6=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});W6.displayName="DialogFooter";const Ul=w.forwardRef(({className:e,...t},r)=>l.jsx(Fm,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));Ul.displayName=Fm.displayName;const zl=w.forwardRef(({className:e,...t},r)=>l.jsx(Lm,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));zl.displayName=Lm.displayName;function FS(e,[t,r]){return Math.min(r,Math.max(t,e))}function H6(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cie=[" ","Enter","ArrowUp","ArrowDown"],uie=[" ","Enter"],nu="Select",[tb,rb,die]=k1(nu),[Gf,RBe]=_a(nu,[die,Ql]),nb=Ql(),[fie,Zl]=Gf(nu),[hie,pie]=Gf(nu),V6=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=nb(t),[v,y]=w.useState(null),[b,x]=w.useState(null),[_,S]=w.useState(!1),E=Am(u),[k,N]=Ri({prop:n,defaultProp:a??!1,onChange:s,caller:nu}),[T,A]=Ri({prop:i,defaultProp:o,onChange:c,caller:nu}),C=w.useRef(null),j=v?g||!!v.closest("form"):!0,[R,I]=w.useState(new Set),M=Array.from(R).map(W=>W.props.value).join(";");return l.jsx(O1,{...m,children:l.jsxs(fie,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:hs(),value:T,onValueChange:A,open:k,onOpenChange:N,dir:E,triggerPointerDownPosRef:C,disabled:h,children:[l.jsx(tb.Provider,{scope:t,children:l.jsx(hie,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(W=>{I(K=>new Set(K).add(W))},[]),onNativeOptionRemove:w.useCallback(W=>{I(K=>{const H=new Set(K);return H.delete(W),H})},[]),children:r})}),j?l.jsxs(mB,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:W=>A(W.target.value),disabled:h,form:g,children:[T===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},M):null]})})};V6.displayName=nu;var G6="SelectTrigger",q6=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=nb(r),i=Zl(G6,r),o=i.disabled||n,c=It(t,i.onTriggerChange),u=rb(r),d=w.useRef("touch"),[f,h,p]=vB(m=>{const v=u().filter(x=>!x.disabled),y=v.find(x=>x.value===i.value),b=xB(v,m,y);b!==void 0&&i.onValueChange(b.value)}),g=m=>{o||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(Tm,{asChild:!0,...s,children:l.jsx(rt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":gB(i.value)?"":void 0,...a,ref:c,onClick:$e(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:$e(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:$e(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&cie.includes(m.key)&&(g(),m.preventDefault())})})})});q6.displayName=G6;var K6="SelectValue",X6=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...o}=e,c=Zl(K6,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=It(t,c.onValueNodeChange);return Gr(()=>{u(d)},[u,d]),l.jsx(rt.span,{...o,ref:f,style:{pointerEvents:"none"},children:gB(c.value)?l.jsx(l.Fragment,{children:i}):s})});X6.displayName=K6;var mie="SelectIcon",Y6=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return l.jsx(rt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Y6.displayName=mie;var gie="SelectPortal",J6=e=>l.jsx(vu,{asChild:!0,...e});J6.displayName=gie;var au="SelectContent",Q6=w.forwardRef((e,t)=>{const r=Zl(au,e.__scopeSelect),[n,a]=w.useState();if(Gr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?mu.createPortal(l.jsx(Z6,{scope:e.__scopeSelect,children:l.jsx(tb.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(eB,{...e,ref:t})});Q6.displayName=au;var Ps=10,[Z6,ec]=Gf(au),vie="SelectContentImpl",xie=Il("SelectContent.RemoveScroll"),eB=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=e,b=Zl(au,r),[x,_]=w.useState(null),[S,E]=w.useState(null),k=It(t,V=>_(V)),[N,T]=w.useState(null),[A,C]=w.useState(null),j=rb(r),[R,I]=w.useState(!1),M=w.useRef(!1);w.useEffect(()=>{if(x)return K1(x)},[x]),G1();const W=w.useCallback(V=>{const[ie,...re]=j().map(D=>D.ref.current),[L]=re.slice(-1),oe=document.activeElement;for(const D of V)if(D===oe||(D==null||D.scrollIntoView({block:"nearest"}),D===ie&&S&&(S.scrollTop=0),D===L&&S&&(S.scrollTop=S.scrollHeight),D==null||D.focus(),document.activeElement!==oe))return},[j,S]),K=w.useCallback(()=>W([N,x]),[W,N,x]);w.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:H,triggerPointerDownPosRef:O}=b;w.useEffect(()=>{if(x){let V={x:0,y:0};const ie=L=>{var oe,D;V={x:Math.abs(Math.round(L.pageX)-(((oe=O.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(L.pageY)-(((D=O.current)==null?void 0:D.y)??0))}},re=L=>{V.x<=10&&V.y<=10?L.preventDefault():x.contains(L.target)||H(!1),document.removeEventListener("pointermove",ie),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",re,{capture:!0})}}},[x,H,O]),w.useEffect(()=>{const V=()=>H(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[H]);const[Z,J]=vB(V=>{const ie=j().filter(oe=>!oe.disabled),re=ie.find(oe=>oe.ref.current===document.activeElement),L=xB(ie,V,re);L&&setTimeout(()=>L.ref.current.focus())}),P=w.useCallback((V,ie,re)=>{const L=!M.current&&!re;(b.value!==void 0&&b.value===ie||L)&&(T(V),L&&(M.current=!0))},[b.value]),G=w.useCallback(()=>x==null?void 0:x.focus(),[x]),B=w.useCallback((V,ie,re)=>{const L=!M.current&&!re;(b.value!==void 0&&b.value===ie||L)&&C(V)},[b.value]),z=n==="popper"?LS:tB,ae=z===LS?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return l.jsx(Z6,{scope:r,content:x,viewport:S,onViewportChange:E,itemRefCallback:P,selectedItem:N,onItemLeave:G,itemTextRefCallback:B,focusSelectedItem:K,selectedItemText:A,position:n,isPositioned:R,searchRef:Z,children:l.jsx(Rm,{as:xie,allowPinchZoom:!0,children:l.jsx(Om,{asChild:!0,trapped:b.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:$e(a,V=>{var ie;(ie=b.trigger)==null||ie.focus({preventScroll:!0}),V.preventDefault()}),children:l.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:V=>V.preventDefault(),...y,...ae,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:$e(y.onKeyDown,V=>{const ie=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ie&&V.key.length===1&&J(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let L=j().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const oe=V.target,D=L.indexOf(oe);L=L.slice(D+1)}setTimeout(()=>W(L)),V.preventDefault()}})})})})})})});eB.displayName=vie;var yie="SelectItemAlignedPosition",tB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Zl(au,r),i=ec(au,r),[o,c]=w.useState(null),[u,d]=w.useState(null),f=It(t,k=>d(k)),h=rb(r),p=w.useRef(!1),g=w.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=i,x=w.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&v&&y){const k=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=s.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(s.dir!=="rtl"){const oe=A.left-N.left,D=T.left-oe,le=k.left-D,ye=k.width+le,Se=Math.max(ye,N.width),_e=window.innerWidth-Ps,pe=FS(D,[Ps,Math.max(Ps,_e-Se)]);o.style.minWidth=ye+"px",o.style.left=pe+"px"}else{const oe=N.right-A.right,D=window.innerWidth-T.right-oe,le=window.innerWidth-k.right-D,ye=k.width+le,Se=Math.max(ye,N.width),_e=window.innerWidth-Ps,pe=FS(D,[Ps,Math.max(Ps,_e-Se)]);o.style.minWidth=ye+"px",o.style.right=pe+"px"}const C=h(),j=window.innerHeight-Ps*2,R=m.scrollHeight,I=window.getComputedStyle(u),M=parseInt(I.borderTopWidth,10),W=parseInt(I.paddingTop,10),K=parseInt(I.borderBottomWidth,10),H=parseInt(I.paddingBottom,10),O=M+W+R+H+K,Z=Math.min(v.offsetHeight*5,O),J=window.getComputedStyle(m),P=parseInt(J.paddingTop,10),G=parseInt(J.paddingBottom,10),B=k.top+k.height/2-Ps,z=j-B,ae=v.offsetHeight/2,V=v.offsetTop+ae,ie=M+W+V,re=O-ie;if(ie<=B){const oe=C.length>0&&v===C[C.length-1].ref.current;o.style.bottom="0px";const D=u.clientHeight-m.offsetTop-m.offsetHeight,le=Math.max(z,ae+(oe?G:0)+D+K),ye=ie+le;o.style.height=ye+"px"}else{const oe=C.length>0&&v===C[0].ref.current;o.style.top="0px";const le=Math.max(B,M+m.offsetTop+(oe?P:0)+ae)+re;o.style.height=le+"px",m.scrollTop=ie-B+m.offsetTop}o.style.margin=`${Ps}px 0`,o.style.minHeight=Z+"px",o.style.maxHeight=j+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,v,y,s.dir,n]);Gr(()=>x(),[x]);const[_,S]=w.useState();Gr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=w.useCallback(k=>{k&&g.current===!0&&(x(),b==null||b(),g.current=!1)},[x,b]);return l.jsx(wie,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(rt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});tB.displayName=yie;var bie="SelectPopperPosition",LS=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ps,...s}=e,i=nb(r);return l.jsx(P1,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LS.displayName=bie;var[wie,kN]=Gf(au,{}),BS="SelectViewport",rB=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=ec(BS,r),i=kN(BS,r),o=It(t,s.onViewportChange),c=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(tb.Slot,{scope:r,children:l.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:$e(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-Ps*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<g){const b=y+p,x=Math.min(g,b),_=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rB.displayName=BS;var nB="SelectGroup",[_ie,Sie]=Gf(nB),kie=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=hs();return l.jsx(_ie,{scope:r,id:a,children:l.jsx(rt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});kie.displayName=nB;var aB="SelectLabel",sB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sie(aB,r);return l.jsx(rt.div,{id:a.id,...n,ref:t})});sB.displayName=aB;var Bx="SelectItem",[Eie,iB]=Gf(Bx),oB=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,o=Zl(Bx,r),c=ec(Bx,r),u=o.value===n,[d,f]=w.useState(s??""),[h,p]=w.useState(!1),g=It(t,b=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,b,n,a)}),m=hs(),v=w.useRef("touch"),y=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Eie,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:w.useCallback(b=>{f(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(tb.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:l.jsx(rt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:$e(i.onFocus,()=>p(!0)),onBlur:$e(i.onBlur,()=>p(!1)),onClick:$e(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:$e(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:$e(i.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:$e(i.onPointerMove,b=>{var x;v.current=b.pointerType,a?(x=c.onItemLeave)==null||x.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(i.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:$e(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(uie.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});oB.displayName=Bx;var rp="SelectItemText",lB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Zl(rp,r),o=ec(rp,r),c=iB(rp,r),u=pie(rp,r),[d,f]=w.useState(null),h=It(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=w.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Gr(()=>(m(g),()=>v(g)),[m,v,g]),l.jsxs(l.Fragment,{children:[l.jsx(rt.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?mu.createPortal(s.children,i.valueNode):null]})});lB.displayName=rp;var cB="SelectItemIndicator",uB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return iB(cB,r).isSelected?l.jsx(rt.span,{"aria-hidden":!0,...n,ref:t}):null});uB.displayName=cB;var US="SelectScrollUpButton",dB=w.forwardRef((e,t)=>{const r=ec(US,e.__scopeSelect),n=kN(US,e.__scopeSelect),[a,s]=w.useState(!1),i=It(t,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l.jsx(hB,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});dB.displayName=US;var zS="SelectScrollDownButton",fB=w.forwardRef((e,t)=>{const r=ec(zS,e.__scopeSelect),n=kN(zS,e.__scopeSelect),[a,s]=w.useState(!1),i=It(t,n.onScrollButtonChange);return Gr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l.jsx(hB,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});fB.displayName=zS;var hB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=ec("SelectScrollButton",r),i=w.useRef(null),o=rb(r),c=w.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Gr(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(rt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:$e(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:$e(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:$e(a.onPointerLeave,()=>{c()})})}),Tie="SelectSeparator",pB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(rt.div,{"aria-hidden":!0,...n,ref:t})});pB.displayName=Tie;var WS="SelectArrow",Nie=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=nb(r),s=Zl(WS,r),i=ec(WS,r);return s.open&&i.position==="popper"?l.jsx(R1,{...a,...n,ref:t}):null});Nie.displayName=WS;var Cie="SelectBubbleInput",mB=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),s=It(n,a),i=H6(t);return w.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[i,t]),l.jsx(rt.select,{...r,style:{...K$,...r.style},ref:s,defaultValue:t})});mB.displayName=Cie;function gB(e){return e===""||e===void 0}function vB(e){const t=Br(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(i=>{const o=r.current+i;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),s=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function xB(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=jie(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function jie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Aie=V6,yB=q6,Oie=X6,Pie=Y6,Rie=J6,bB=Q6,Iie=rB,wB=sB,_B=oB,Die=lB,Mie=uB,SB=dB,kB=fB,EB=pB;const gn=Aie,vn=Oie,Zr=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(yB,{ref:n,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(Pie,{asChild:!0,children:l.jsx(Ml,{className:"h-4 w-4 opacity-50"})})]}));Zr.displayName=yB.displayName;const TB=w.forwardRef(({className:e,...t},r)=>l.jsx(SB,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx($T,{className:"h-4 w-4"})}));TB.displayName=SB.displayName;const NB=w.forwardRef(({className:e,...t},r)=>l.jsx(kB,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Ml,{className:"h-4 w-4"})}));NB.displayName=kB.displayName;const en=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>l.jsx(Rie,{children:l.jsxs(bB,{ref:a,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(TB,{}),l.jsx(Iie,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(NB,{})]})}));en.displayName=bB.displayName;const $ie=w.forwardRef(({className:e,...t},r)=>l.jsx(wB,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$ie.displayName=wB.displayName;const kt=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(_B,{ref:n,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Mie,{children:l.jsx(Qd,{className:"h-4 w-4"})})}),l.jsx(Die,{children:t})]}));kt.displayName=_B.displayName;const Fie=w.forwardRef(({className:e,...t},r)=>l.jsx(EB,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));Fie.displayName=EB.displayName;const Za=new Intl.NumberFormat("en-US",{maximumFractionDigits:2}),Lg=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}),Lie=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}),Bie=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}),Bu=e=>typeof e=="number"&&Number.isFinite(e)?e:0,pP=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},np=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const r=t.match(/^(\d{4})-(\d{2})-(\d{2})/);if(r){const[,s,i,o]=r,c=new Date(Number(s),Number(i)-1,Number(o));return c.getFullYear()!==Number(s)||c.getMonth()!==Number(i)-1||c.getDate()!==Number(o)?null:c.getTime()}const n=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{2}|\d{4})$/);if(n){const[,s,i,o]=n,c=Number(s),u=Number(i),d=o.length===2?2e3+Number(o):Number(o),f=new Date(d,u-1,c);return f.getFullYear()!==d||f.getMonth()!==u-1||f.getDate()!==c?null:f.getTime()}const a=new Date(t);return Number.isNaN(a.getTime())?null:(a.setHours(0,0,0,0),a.getTime())},Uie=e=>e.trim().toLowerCase()==="pending",HS=e=>{if(!Uie(e.statusType))return!1;const t=np(e.invoiceDate);if(t===null)return!1;const r=new Date().setHours(0,0,0,0),n=1e3*60*60*24;return r-t>3*n},Eh=e=>HS(e)?"Overdue":e.statusType,CB=e=>{const t=e.trim().toLowerCase();return t.includes("final")?"final":t.includes("provisional")?"provisional":t.includes("adjust")?"adjustment":"other"},mP=e=>{if(e.trim().toLowerCase()==="overdue")return l.jsx(ha,{status:"error",label:"Overdue",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"});const t=CB(e);return t==="final"?l.jsx(ha,{status:"success",label:"Final Price",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):t==="provisional"?l.jsx(ha,{status:"pending",label:"Provisional",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):t==="adjustment"?l.jsx(ha,{status:"warning",label:"Adjustment",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):l.jsx(ha,{status:"neutral",label:e||"Unknown",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"})},Th={final:{label:"Final Price",bar:"bg-emerald-500",card:"bg-emerald-50",border:"border-l-emerald-400"},provisional:{label:"Provisional",bar:"bg-blue-500",card:"bg-blue-50",border:"border-l-blue-400"},adjustment:{label:"Adjustment",bar:"bg-amber-500",card:"bg-amber-50",border:"border-l-amber-400"},other:{label:"Other",bar:"bg-slate-500",card:"bg-slate-50",border:"border-l-slate-400"}};function zie(){const[e]=oN(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(null),[o,c]=w.useState("all"),[u,d]=w.useState("all"),[f,h]=w.useState(""),[p,g]=w.useState(""),[m,v]=w.useState("none"),[y,b]=w.useState(""),[x,_]=w.useState(10),[S,E]=w.useState(1),[k,N]=w.useState(null),[T,A]=w.useState(!1);w.useEffect(()=>{const J=e.get("attention");if(J==="due-invoices-3d"){v("due_invoices_3d");return}if(J==="overdue-invoices"){v("overdue_invoices");return}if(J==="follow-up-invoices"){v("followup_invoices");return}v("none")},[e]),w.useEffect(()=>{let J=!1;return(async()=>{if(!Or||!Ee){i("Supabase is not configured."),a(!1);return}a(!0),i(null);const{data:G,error:B}=await Ee.from("finance_invoices").select("id, invoice, tons, total_invoice, usd, contact, credit, export, team, thb, booking_no, contract, convert_date, convert_rate, customer_name, fac, invoice_date, price, status_type, status_detail").order("invoice_date",{ascending:!1});if(J)return;if(B){i(B.message),r([]),a(!1);return}const z=(G??[]).map((ae,V)=>({id:ae.id??`${ae.invoice??"invoice"}-${V}`,invoice:ae.invoice??"-",tons:Bu(ae.tons),totalInvoice:Bu(ae.total_invoice),usd:Bu(ae.usd),contact:!!ae.contact,credit:!!ae.credit,exportFlag:!!ae.export,team:ae.team??"-",thb:Bu(ae.thb),bookingNo:ae.booking_no??"-",contract:ae.contract??"-",convertDate:ae.convert_date??null,convertRate:Bu(ae.convert_rate),customerName:ae.customer_name??"-",factory:ae.fac??"-",invoiceDate:ae.invoice_date??null,price:Bu(ae.price),statusType:ae.status_type??"Unknown",statusDetail:ae.status_detail??"-"}));r(z),a(!1)})(),()=>{J=!0}},[]);const C=w.useMemo(()=>[...new Set(t.map(J=>J.factory).filter(Boolean))].sort((J,P)=>J.localeCompare(P)),[t]),j=w.useMemo(()=>[...new Set(t.map(J=>Eh(J)).filter(Boolean))].sort((J,P)=>J.localeCompare(P)),[t]),R=w.useMemo(()=>{const J=y.trim().toLowerCase(),P=np(f),G=np(p),B=new Date().setHours(0,0,0,0),z=1e3*60*60*24;return t.filter(ae=>{const V=Eh(ae),ie=o==="all"||V===o,re=u==="all"||ae.factory===u;if(!ie||!re)return!1;if(m==="due_invoices_3d"){const L=ae.statusType.toLowerCase();if(L.includes("paid")||L.includes("cancel")||L.includes("void"))return!1;const oe=np(ae.invoiceDate);if(oe===null)return!1;const D=Math.floor((oe-B)/z);if(D<0||D>3)return!1}if(m==="overdue_invoices"&&!HS(ae))return!1;if(m==="followup_invoices"){const L=ae.statusType.toLowerCase();if(!L.includes("provisional")&&!L.includes("adjust"))return!1}if(P!==null||G!==null){const L=np(ae.invoiceDate);if(L===null||P!==null&&L<P||G!==null&&L>G)return!1}return J?ae.invoice.toLowerCase().includes(J)||ae.customerName.toLowerCase().includes(J)||ae.contract.toLowerCase().includes(J)||ae.bookingNo.toLowerCase().includes(J)||ae.factory.toLowerCase().includes(J)||V.toLowerCase().includes(J):!0})},[t,y,o,u,m,f,p]);w.useEffect(()=>{E(1)},[o,u,m,f,p,y,x]);const I=Math.max(1,Math.ceil(R.length/x));w.useEffect(()=>{S>I&&E(I)},[S,I]);const M=w.useMemo(()=>{const J=(S-1)*x;return R.slice(J,J+x)},[R,S,x]),W=R.length===0?0:(S-1)*x+1,K=Math.min(S*x,R.length),H=w.useMemo(()=>{const J=t.reduce((z,ae)=>z+ae.usd,0),P=t.reduce((z,ae)=>z+ae.thb,0),G=t.filter(z=>HS(z)),B=t.length===0?0:t.reduce((z,ae)=>z+ae.convertRate,0)/t.length;return{totalUsd:J,totalThb:P,overdueCount:G.length,avgConvertRate:B,totalCount:t.length}},[t]),O=w.useMemo(()=>{const J=new Map;return t.forEach(P=>{const G=CB(Eh(P)),B=J.get(G)??{count:0,usd:0};B.count+=1,B.usd+=P.usd,J.set(G,B)}),Object.keys(Th).filter(P=>{var G;return(((G=J.get(P))==null?void 0:G.count)??0)>0}).map(P=>{var G,B;return{key:P,label:Th[P].label,count:((G=J.get(P))==null?void 0:G.count)??0,usd:((B=J.get(P))==null?void 0:B.usd)??0,bar:Th[P].bar,card:Th[P].card,border:Th[P].border}})},[t]),Z=[{key:"invoice",header:"Invoice",render:J=>l.jsxs("div",{children:[l.jsx("button",{type:"button",className:"font-mono font-medium text-primary underline-offset-2 hover:underline",onClick:()=>{N(J),A(!0)},children:J.invoice}),l.jsx("p",{className:"text-xs text-muted-foreground",children:J.contract})]})},{key:"customerName",header:"Customer",render:J=>l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:J.customerName}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Factory: ",J.factory,"  Team: ",J.team]})]})},{key:"tons",header:"Tons",align:"right",render:J=>l.jsxs("span",{children:[Za.format(J.tons)," MT"]})},{key:"usd",header:"USD",align:"right",render:J=>l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:Lg.format(J.usd)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["THB ",Za.format(J.thb)]})]})},{key:"dates",header:"Dates",render:J=>l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm",children:["Invoice: ",pP(J.invoiceDate)]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Convert: ",pP(J.convertDate)]})]})},{key:"statusType",header:"Status",align:"center",render:J=>mP(Eh(J))},{key:"action",header:"",width:"110px",render:J=>l.jsxs(Ce,{variant:"ghost",size:"sm",className:"h-8 rounded-full border border-border/70 px-3.5 text-xs font-medium",onClick:()=>{N(J),A(!0)},children:["View",l.jsx(Ii,{className:"h-4 w-4"})]})}];return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx(aa,{title:"Invoices & Payments",subtitle:"Live finance invoices from Supabase with payment insight"}),l.jsx("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:l.jsxs("div",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Invoice Lines"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Clean invoice and payment status view with quick drill-down by customer."})]}),l.jsx("div",{className:"space-y-4 p-4 md:p-5",children:n?l.jsx("div",{className:"rounded-2xl border border-border/60 bg-card p-6 text-sm text-muted-foreground",children:"Loading finance invoices..."}):s?l.jsx("div",{className:"rounded-2xl border border-destructive/30 bg-card p-6 text-sm text-destructive",children:s}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"min-w-0 rounded-3xl border border-border/60 bg-card/80 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur-sm",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Invoice USD"}),l.jsxs("p",{className:"mt-1.5 overflow-hidden text-ellipsis whitespace-nowrap text-[22px] font-semibold leading-tight tracking-tight text-slate-900 tabular-nums sm:text-[24px] lg:text-[28px] xl:text-[30px]",children:[l.jsx("span",{className:"xl:hidden",children:Bie.format(H.totalUsd)}),l.jsx("span",{className:"hidden xl:inline",children:Lg.format(H.totalUsd)})]}),l.jsx("div",{className:"mt-2",children:l.jsx(yF,{className:"h-4 w-4 text-muted-foreground"})})]}),l.jsxs("div",{className:"min-w-0 rounded-3xl border border-border/60 bg-gradient-to-br from-slate-50 to-card px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Invoice THB"}),l.jsxs("p",{className:"mt-1.5 overflow-hidden text-ellipsis whitespace-nowrap text-[22px] font-semibold leading-tight tracking-tight text-slate-900 tabular-nums sm:text-[24px] lg:text-[28px] xl:text-[30px]",children:[l.jsx("span",{className:"xl:hidden",children:Lie.format(H.totalThb)}),l.jsx("span",{className:"hidden xl:inline",children:Za.format(H.totalThb)})]}),l.jsx("p",{className:"mt-1 text-xs font-medium text-slate-500",children:"THB"})]}),l.jsxs("div",{className:"min-w-0 rounded-3xl border border-rose-100 bg-rose-50/70 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-rose-700/80",children:"Overdue Invoices"}),l.jsx("p",{className:"mt-1.5 overflow-hidden text-ellipsis whitespace-nowrap text-[24px] font-semibold leading-none tracking-tight text-rose-700 tabular-nums lg:text-[28px] xl:text-[30px]",children:Za.format(H.overdueCount)}),l.jsx("div",{className:"mt-2",children:l.jsx(FT,{className:"h-4 w-4 text-rose-700/70"})})]}),l.jsxs("div",{className:"min-w-0 rounded-3xl border border-border/60 bg-card/80 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Avg Convert Rate"}),l.jsx("p",{className:"mt-1.5 overflow-hidden text-ellipsis whitespace-nowrap text-[24px] font-semibold leading-none tracking-tight text-slate-900 tabular-nums lg:text-[28px] xl:text-[30px]",children:H.avgConvertRate.toFixed(4)}),l.jsx("div",{className:"mt-2",children:l.jsx(nX,{className:"h-4 w-4 text-muted-foreground"})})]})]}),l.jsxs("div",{className:"rounded-3xl border border-border/60 bg-card/80 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_10px_30px_rgba(15,23,42,0.04)] backdrop-blur-sm md:p-5",children:[l.jsx("div",{className:"mb-3",children:l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Invoice Status Mix"})}),O.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No invoice data available."}):l.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:O.map(J=>l.jsxs("article",{className:me("rounded-2xl border border-border/70 px-3.5 py-3",J.card),children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:J.label}),l.jsx("p",{className:"mt-2 text-base font-semibold tabular-nums text-foreground",children:Lg.format(J.usd)})]},J.key))})]}),l.jsx("div",{className:"rounded-3xl border border-border/60 bg-card/80 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_10px_30px_rgba(15,23,42,0.04)] backdrop-blur-sm md:p-5",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 xl:flex-row xl:items-center xl:justify-between",children:[l.jsxs("div",{className:"order-2 grid grid-cols-1 gap-3 sm:grid-cols-2 md:order-1 xl:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Status"}),l.jsxs(gn,{value:o,onValueChange:c,children:[l.jsx(Zr,{className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{placeholder:"Status"})}),l.jsxs(en,{className:"bg-popover",children:[l.jsx(kt,{value:"all",children:"All Status"}),j.map(J=>l.jsx(kt,{value:J,children:J},J))]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Factory"}),l.jsxs(gn,{value:u,onValueChange:d,children:[l.jsx(Zr,{className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{placeholder:"Factory"})}),l.jsxs(en,{className:"bg-popover",children:[l.jsx(kt,{value:"all",children:"All Factories"}),C.map(J=>l.jsx(kt,{value:J,children:J},J))]})]})]}),l.jsxs("div",{className:"space-y-1.5 sm:col-span-2 xl:col-span-1",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Invoice Date Range"}),l.jsxs("div",{className:"grid min-w-0 grid-cols-1 gap-2 md:grid-cols-2",children:[l.jsx(ot,{type:"text",inputMode:"numeric",placeholder:"dd/mm/yy",value:f,onChange:J=>h(J.target.value.replace(/[^\d/]/g,"").slice(0,10)),className:"h-10 min-w-0 rounded-2xl border-border/70 bg-background/90 text-sm focus-visible:ring-1 focus-visible:ring-slate-300","aria-label":"Invoice date from"}),l.jsx(ot,{type:"text",inputMode:"numeric",placeholder:"dd/mm/yy",value:p,onChange:J=>g(J.target.value.replace(/[^\d/]/g,"").slice(0,10)),className:"h-10 min-w-0 rounded-2xl border-border/70 bg-background/90 text-sm focus-visible:ring-1 focus-visible:ring-slate-300","aria-label":"Invoice date to"})]})]})]}),l.jsxs("div",{className:"order-1 w-full space-y-1.5 md:order-2 md:max-w-sm xl:max-w-sm",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground md:hidden",children:"Quick Search"}),l.jsxs("div",{className:"relative w-full",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{placeholder:"Search invoice, customer, contract, booking...",value:y,onChange:J=>b(J.target.value),className:"h-11 rounded-2xl border-border/70 bg-background/90 pl-10 text-sm focus-visible:ring-1 focus-visible:ring-slate-300 md:h-10"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 border-t border-border/50 pt-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs font-medium text-slate-600",children:[Za.format(R.length)," visible invoices"]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m!=="none"?l.jsx("span",{className:"rounded-full bg-amber-50 px-2.5 py-1 text-[11px] font-medium text-amber-700",children:m==="due_invoices_3d"?"Alert filter: Due in 3 days":m==="overdue_invoices"?"Alert filter: Overdue invoices":"Alert filter: Follow-up invoices"}):null,m!=="none"?l.jsx(Ce,{type:"button",variant:"ghost",size:"sm",className:"h-8 rounded-full px-3 text-xs text-slate-600 hover:bg-muted/50",onClick:()=>v("none"),children:"Clear alert filter"}):null,l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border/60 bg-background/80 px-2 py-1",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:"Per page"}),l.jsxs(gn,{value:String(x),onValueChange:J=>_(Number(J)),children:[l.jsx(Zr,{className:"h-7 w-[74px] rounded-full border-none bg-transparent px-2 text-xs shadow-none focus:ring-0",children:l.jsx(vn,{placeholder:"10"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"10",children:"10"}),l.jsx(kt,{value:"20",children:"20"}),l.jsx(kt,{value:"30",children:"30"}),l.jsx(kt,{value:"50",children:"50"})]})]})]})]})]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(V1,{columns:Z,data:M,emptyMessage:"No finance invoices found",className:["rounded-2xl border border-border/70 bg-card shadow-[0_1px_2px_rgba(15,23,42,0.03)]","[&_table]:min-w-[1080px] [&_table]:border-separate [&_table]:border-spacing-0","[&_thead_tr]:border-b [&_thead_tr]:border-slate-200/70 [&_thead_tr]:bg-slate-50/90","[&_th]:px-5 [&_th]:py-3.5 [&_th]:text-[12px] [&_th]:font-semibold [&_th]:tracking-[0.01em] [&_th]:text-slate-600","[&_td]:px-5 [&_td]:py-4 [&_td]:align-middle [&_td]:text-[13px] sm:[&_td]:text-sm","[&_tbody_tr]:border-b [&_tbody_tr]:border-slate-200/70","[&_tbody_tr:nth-child(odd)]:bg-white [&_tbody_tr:nth-child(even)]:bg-slate-50/45","[&_tbody_tr:hover]:bg-slate-100/70"].join(" ")}),l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-border/70 bg-card/70 px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",Za.format(W),"-",Za.format(K)," of ",Za.format(R.length)]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>E(J=>Math.max(1,J-1)),disabled:S===1,children:"Previous"}),l.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Page ",Za.format(S)," / ",Za.format(I)]}),l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>E(J=>Math.min(I,J+1)),disabled:S>=I,children:"Next"})]})]})]})]})})]})}),l.jsx(ru,{open:T,onOpenChange:A,children:l.jsxs(Ll,{className:"max-w-2xl",children:[l.jsxs(Bl,{children:[l.jsx(Ul,{children:(k==null?void 0:k.invoice)??"Invoice Detail"}),l.jsx(zl,{children:k?`${k.customerName}  ${k.contract}`:"Invoice information"})]}),k&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2.5 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"USD"}),l.jsx("p",{className:"text-sm font-semibold",children:Lg.format(k.usd)})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"THB"}),l.jsx("p",{className:"text-sm font-semibold",children:Za.format(k.thb)})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Tons"}),l.jsxs("p",{className:"text-sm font-semibold",children:[Za.format(k.tons)," MT"]})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Convert Rate"}),l.jsx("p",{className:"text-sm font-semibold",children:k.convertRate.toFixed(4)})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Factory"}),l.jsx("p",{className:"text-sm font-semibold",children:k.factory})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Team"}),l.jsx("p",{className:"text-sm font-semibold",children:k.team})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Credit"}),l.jsx("p",{className:"text-sm font-semibold",children:k.credit?"Yes":"No"})]}),l.jsxs("div",{className:"rounded-lg border bg-background px-3 py-2",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Status"}),l.jsx("div",{className:"mt-1",children:mP(Eh(k))})]})]}),l.jsxs("div",{className:"rounded-lg border bg-background p-3",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking No"}),l.jsx("p",{className:"text-sm font-medium",children:k.bookingNo}),l.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Status Detail"}),l.jsx("p",{className:"text-sm",children:k.statusDetail})]})]})]})})]})}const Wie=e=>{if(typeof e=="number")return Number.isFinite(e)?e:0;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0},Hie=e=>String(e??"-").trim().toUpperCase(),qv=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e),Nh=e=>`${qv(e)} MT`,Bg=e=>`${e.toFixed(1)}%`,gP=e=>e.totalQty<=0?{status:"neutral",label:"Empty"}:e.lowCount>0||e.emptyCount>0?{status:"warning",label:"Mixed"}:{status:"success",label:"Available"};function Vie(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,s]=w.useState(null),[i,o]=w.useState(""),[c,u]=w.useState("all"),[d,f]=w.useState(null),h=async()=>{if(!Or||!Ee){s("Supabase is not configured."),t([]),n(!1);return}n(!0),s(null);const{data:x,error:_}=await Ee.from("stock").select("*");if(console.log(x),console.log(_),_){s(_.message),t([]),n(!1);return}const S=(x??[]).map((E,k)=>({id:String(E.stock_id??k),stockId:String(E.stock_id??"-"),factory:Hie(E.factory),qty:Wie(E.qty),tag:String(E.tag??"-"),type:String(E.type??"-")}));t(S),n(!1)};w.useEffect(()=>{h()},[]);const p=w.useMemo(()=>[...new Set(e.map(x=>x.factory).filter(Boolean))].sort((x,_)=>x.localeCompare(_)),[e]),g=w.useMemo(()=>{const x=new Map;return e.forEach(_=>{const S=x.get(_.factory)??{id:_.factory,factory:_.factory,totalQty:0,rowCount:0,lowCount:0,emptyCount:0,types:[],tags:[],details:[]};S.totalQty+=_.qty,S.rowCount+=1,_.qty<=0&&(S.emptyCount+=1),_.qty>0&&_.qty<50&&(S.lowCount+=1),S.types.includes(_.type)||S.types.push(_.type),S.tags.includes(_.tag)||S.tags.push(_.tag),S.details.push(_),x.set(_.factory,S)}),[...x.values()].sort((_,S)=>S.totalQty-_.totalQty)},[e]),m=w.useMemo(()=>e.reduce((x,_)=>x+_.qty,0),[e]),v=w.useMemo(()=>{const x=new Map;return e.forEach(_=>{const S=x.get(_.factory)??{factory:_.factory,qty:0,count:0};S.qty+=_.qty,S.count+=1,x.set(_.factory,S)}),[...x.values()].sort((_,S)=>S.qty-_.qty)},[e]),y=w.useMemo(()=>{const x=i.trim().toLowerCase();return g.filter(_=>c==="all"||_.factory===c?x?_.factory.toLowerCase().includes(x)||_.types.some(E=>E.toLowerCase().includes(x))||_.tags.some(E=>E.toLowerCase().includes(x)):!0:!1)},[g,i,c]);w.useEffect(()=>{d&&(y.some(x=>x.id===d)||f(null))},[d,y]);const b=x=>x.details.map((_,S)=>({..._,rowKey:`${x.id}-${_.id}-${S}`,share:x.totalQty>0?_.qty/x.totalQty*100:0}));return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Inventory",subtitle:"Monitor stock levels and allocation across factories"}),l.jsx("div",{className:"flex-1 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:l.jsxs("div",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Inventory Dashboard"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Unified stock view across factories, product types, and tags."})]}),l.jsxs("div",{className:"space-y-4 p-4 md:p-5",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsxs("div",{className:"rounded-3xl border border-border/60 bg-card/80 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur-sm",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Total Quantity"}),l.jsx("p",{className:"mt-1.5 text-[24px] font-semibold leading-none tracking-tight text-slate-900 tabular-nums md:text-[30px]",children:Nh(m)}),l.jsx("div",{className:"mt-2",children:l.jsx(TX,{className:"h-4 w-4 text-muted-foreground"})})]}),l.jsxs("div",{className:"rounded-3xl border border-border/60 bg-gradient-to-br from-slate-50 to-card px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Factories"}),l.jsx("p",{className:"mt-1.5 text-[24px] font-semibold leading-none tracking-tight text-slate-900 tabular-nums md:text-[30px]",children:qv(p.length)}),l.jsx("div",{className:"mt-2",children:l.jsx(vX,{className:"h-4 w-4 text-muted-foreground"})})]})]}),l.jsxs("div",{className:"rounded-3xl border border-border/60 bg-card/80 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_10px_30px_rgba(15,23,42,0.04)] backdrop-blur-sm md:p-5",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Factory Stock Distribution"}),l.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Stock updated as of January 25, 2026."})]}),v.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No factory data available."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"-mx-1 flex gap-2 overflow-x-auto px-1 pb-1 md:hidden",children:v.map(x=>{const _=m>0?x.qty/m*100:0;return l.jsxs("article",{className:"w-[220px] shrink-0 snap-start rounded-2xl border border-border/70 bg-card px-3 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"min-w-0 truncate text-sm font-semibold tracking-tight text-foreground",children:x.factory}),l.jsx("p",{className:"shrink-0 rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-[11px] font-medium text-muted-foreground tabular-nums",children:Bg(_)})]}),l.jsx("p",{className:"mt-2 text-xl font-semibold leading-none tracking-tight tabular-nums text-foreground",children:qv(x.qty)}),l.jsx("p",{className:"mt-1 text-xs font-medium text-muted-foreground",children:"MT"})]},`mobile-${x.factory}`)})}),l.jsx("div",{className:"hidden gap-3 md:grid md:grid-cols-2 xl:grid-cols-3",children:v.map(x=>{const _=m>0?x.qty/m*100:0;return l.jsxs("article",{className:"rounded-2xl border border-border/70 bg-card px-4 py-3.5",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("p",{className:"min-w-0 truncate text-sm font-semibold tracking-tight text-foreground",children:x.factory}),l.jsx("p",{className:"shrink-0 rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-[11px] font-medium text-muted-foreground tabular-nums",children:Bg(_)})]}),l.jsx("p",{className:"mt-2.5 text-2xl font-semibold leading-none tracking-tight tabular-nums text-foreground md:text-[30px]",children:qv(x.qty)}),l.jsx("p",{className:"mt-1 text-sm font-medium text-muted-foreground",children:"MT"})]},`desktop-${x.factory}`)})})]})]}),l.jsx("div",{className:"rounded-3xl border border-border/60 bg-card/80 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_10px_30px_rgba(15,23,42,0.04)] backdrop-blur-sm md:p-5",children:l.jsx("div",{className:"flex flex-col gap-4",children:l.jsxs("div",{className:"flex flex-col gap-3 xl:flex-row xl:items-center xl:justify-between",children:[l.jsxs("div",{className:"order-2 space-y-1.5 md:order-1",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Factory"}),l.jsxs(gn,{value:c,onValueChange:u,children:[l.jsx(Zr,{className:"h-10 w-full rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300 sm:w-[220px]",children:l.jsx(vn,{placeholder:"Factory"})}),l.jsxs(en,{className:"bg-popover",children:[l.jsx(kt,{value:"all",children:"All Factories"}),p.map(x=>l.jsx(kt,{value:x,children:x},x))]})]})]}),l.jsxs("div",{className:"order-1 w-full space-y-1.5 md:order-2 md:max-w-sm xl:max-w-sm",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground md:hidden",children:"Quick Search"}),l.jsxs("div",{className:"relative w-full",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{placeholder:"Search factory, type, tag...",value:i,onChange:x=>o(x.target.value),className:"h-11 rounded-2xl border-border/70 bg-background/90 pl-10 text-sm focus-visible:ring-1 focus-visible:ring-slate-300 md:h-10"})]})]})]})})}),r?l.jsx("section",{className:"rounded-2xl border border-border/60 bg-card p-6 text-sm text-muted-foreground",children:"Loading inventory data..."}):a?l.jsx("section",{className:"rounded-2xl border border-destructive/30 bg-card p-6 text-sm text-destructive",children:a}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-2.5 md:hidden",children:y.length===0?l.jsx("section",{className:"rounded-2xl border border-dashed border-border/70 bg-muted/10 px-4 py-8 text-center text-sm text-muted-foreground",children:"No factory data found"}):y.map(x=>{const _=d===x.id,S=b(x),E=gP(x);return l.jsxs("section",{className:"rounded-xl border border-border/70 bg-card px-3.5 py-3",children:[l.jsxs("button",{type:"button",className:"flex w-full items-start justify-between gap-3 text-left",onClick:()=>f(k=>k===x.id?null:x.id),children:[l.jsx("div",{className:"min-w-0",children:l.jsx("p",{className:"text-base font-semibold tracking-tight",children:x.factory})}),_?l.jsx(Ml,{className:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}):l.jsx(Ii,{className:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"})]}),l.jsxs("div",{className:"mt-2.5 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Qty"}),l.jsx("p",{className:"text-sm font-semibold tabular-nums",children:Nh(x.totalQty)})]}),l.jsx(ha,{status:E.status,label:E.label}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Product Types"}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.types.map((k,N)=>l.jsx(sr,{variant:"outline",className:"border-border/70 bg-background px-2 py-0.5 text-[12px] font-medium",children:k},`${k}-${N}`))})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tags: ",x.tags.length>0?x.tags.join("  "):"-"]})]}),_&&l.jsxs("div",{className:"mt-3 space-y-2 border-t border-border/60 pt-3",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Details"}),S.map(k=>l.jsxs("div",{className:"rounded-lg border border-border/60 bg-muted/10 p-2.5",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm font-medium",children:k.type}),l.jsx("p",{className:"text-sm font-semibold tabular-nums",children:Nh(k.qty)})]}),l.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:k.tag}),l.jsx("p",{className:"text-xs text-muted-foreground tabular-nums",children:Bg(k.share)})]})]},k.rowKey))]})]},x.id)})}),l.jsx("div",{className:"hidden overflow-hidden rounded-2xl border border-border/70 bg-card md:block",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(hn,{className:"min-w-[900px] border-separate border-spacing-0",children:[l.jsx(pn,{children:l.jsxs(Tt,{className:"border-b border-slate-200/70 bg-slate-50/90 hover:bg-slate-50/90",children:[l.jsx(He,{className:"w-[19%] px-5 py-3.5 text-[12px] font-semibold tracking-[0.01em] text-slate-600",children:"Factory"}),l.jsx(He,{className:"w-[41%] px-5 py-3.5 text-[12px] font-semibold tracking-[0.01em] text-slate-600",children:"Product Types"}),l.jsx(He,{className:"w-[16%] px-5 py-3.5 text-[12px] font-semibold tracking-[0.01em] text-slate-600",children:"Tags"}),l.jsx(He,{className:"w-[14%] px-5 py-3.5 text-right text-[12px] font-semibold tracking-[0.01em] text-slate-600",children:"Total Qty"}),l.jsx(He,{className:"w-[10%] px-5 py-3.5 text-center text-[12px] font-semibold tracking-[0.01em] text-slate-600",children:"Status"})]})}),l.jsx(mn,{children:y.length===0?l.jsx(Tt,{children:l.jsx(Me,{colSpan:5,className:"h-32 text-center text-muted-foreground",children:"No factory data found"})}):y.map((x,_)=>{const S=d===x.id,E=b(x),k=gP(x);return l.jsxs(w.Fragment,{children:[l.jsxs(Tt,{className:me("align-top border-b border-slate-200/70 transition-colors hover:bg-slate-100/70",_%2===0?"bg-white":"bg-slate-50/45"),children:[l.jsx(Me,{className:"px-5 py-4 align-top",children:l.jsxs("button",{type:"button",className:"flex items-start gap-2 text-left",onClick:()=>f(N=>N===x.id?null:x.id),children:[S?l.jsx(Ml,{className:"mt-0.5 h-4 w-4 text-muted-foreground"}):l.jsx(Ii,{className:"mt-0.5 h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:l.jsx("p",{className:"text-base font-semibold tracking-tight hover:underline",children:x.factory})})]})}),l.jsx(Me,{className:"min-w-[300px] px-5 py-4 align-top",children:l.jsx("div",{className:"rounded-xl border border-border/60 bg-muted/[0.24] p-2.5",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.types.map((N,T)=>l.jsx(sr,{variant:"outline",className:"border-border/70 bg-background px-2.5 py-0.5 text-[13px] font-medium",children:N},`${N}-${T}`))})})}),l.jsx(Me,{className:"px-5 py-4 align-top",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.tags.map((N,T)=>l.jsx(sr,{variant:"secondary",className:"max-w-[120px] truncate px-2 py-0.5 text-[12px] font-normal",children:N},`${N}-${T}`))})}),l.jsx(Me,{className:"px-5 py-4 align-top text-right font-semibold",children:Nh(x.totalQty)}),l.jsx(Me,{className:"px-5 py-4 align-top text-center",children:l.jsx(ha,{status:k.status,label:k.label})})]},x.id),S&&l.jsx(Tt,{className:me("border-b border-slate-200/70 hover:bg-transparent",_%2===0?"bg-white":"bg-slate-50/45"),children:l.jsx(Me,{colSpan:5,className:"px-5 py-2.5",children:l.jsx("div",{className:"overflow-hidden rounded-lg border border-border/60 bg-background",children:l.jsxs(hn,{className:"border-separate border-spacing-0 text-sm",children:[l.jsx(pn,{children:l.jsxs(Tt,{className:"bg-slate-50/80 hover:bg-slate-50/80",children:[l.jsx(He,{className:"h-9 px-4 text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Product Type"}),l.jsx(He,{className:"h-9 px-4 text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Tag"}),l.jsx(He,{className:"h-9 px-4 text-right text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Remaining (MT)"}),l.jsx(He,{className:"h-9 px-4 text-right text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Share"})]})}),l.jsx(mn,{children:E.map((N,T)=>l.jsxs(Tt,{className:me("h-11 border-b border-slate-200/60 hover:bg-slate-100/60",T%2===0?"bg-white":"bg-slate-50/45"),children:[l.jsx(Me,{className:"px-4 py-2.5",children:l.jsx("span",{className:"text-sm font-medium text-foreground",children:N.type})}),l.jsx(Me,{className:"px-4 py-2.5",children:l.jsx(sr,{variant:"secondary",className:"px-2 py-0.5 text-xs font-normal text-muted-foreground",children:N.tag})}),l.jsx(Me,{className:"px-4 py-2.5 text-right text-sm font-semibold tabular-nums",children:Nh(N.qty)}),l.jsx(Me,{className:"px-4 py-2.5 text-right text-sm text-muted-foreground tabular-nums",children:Bg(N.share)})]},N.rowKey))})]})})})})]},x.id)})})]})})})]})]})]})})]})}var Gie="Label",jB=w.forwardRef((e,t)=>l.jsx(rt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jB.displayName=Gie;var AB=jB;const qie=km("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cr=w.forwardRef(({className:e,...t},r)=>l.jsx(AB,{ref:r,className:me(qie(),e),...t}));cr.displayName=AB.displayName;var ab="Checkbox",[Kie,IBe]=_a(ab),[Xie,EN]=Kie(ab);function Yie(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Ri({prop:r,defaultProp:a??!1,onChange:c,caller:ab}),[g,m]=w.useState(null),[v,y]=w.useState(null),b=w.useRef(!1),x=g?!!i||!!g.closest("form"):!0,_={checked:h,disabled:s,setChecked:p,control:g,setControl:m,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:jl(a)?!1:a,isFormControl:x,bubbleInput:v,setBubbleInput:y};return l.jsx(Xie,{scope:t,..._,children:Jie(f)?f(_):n})}var OB="CheckboxTrigger",PB=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=EN(OB,e),m=It(a,d),v=w.useRef(c);return w.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),l.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":jl(c)?"mixed":c,"aria-required":u,"data-state":$B(c),"data-disabled":o?"":void 0,disabled:o,value:i,...n,ref:m,onKeyDown:$e(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:$e(r,y=>{f(b=>jl(b)?!0:!b),g&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});PB.displayName=OB;var TN=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(Yie,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:o,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(PB,{...f,ref:t,__scopeCheckbox:r}),h&&l.jsx(MB,{__scopeCheckbox:r})]})})});TN.displayName=ab;var RB="CheckboxIndicator",IB=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=EN(RB,r);return l.jsx(_n,{present:n||jl(s.checked)||s.checked===!0,children:l.jsx(rt.span,{"data-state":$B(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});IB.displayName=RB;var DB="CheckboxBubbleInput",MB=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=EN(DB,e),g=It(r,p),m=H6(s),v=YF(n);w.useEffect(()=>{const b=h;if(!b)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,E=!a.current;if(m!==s&&S){const k=new Event("click",{bubbles:E});b.indeterminate=jl(s),S.call(b,jl(s)?!1:s),b.dispatchEvent(k)}},[h,m,s,a]);const y=w.useRef(jl(s)?!1:s);return l.jsx(rt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:o,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});MB.displayName=DB;function Jie(e){return typeof e=="function"}function jl(e){return e==="indeterminate"}function $B(e){return jl(e)?"indeterminate":e?"checked":"unchecked"}const sb=w.forwardRef(({className:e,...t},r)=>l.jsx(TN,{ref:r,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(IB,{className:me("flex items-center justify-center text-current"),children:l.jsx(Qd,{className:"h-4 w-4"})})}));sb.displayName=TN.displayName;const Lt=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Lt.displayName="Card";const tr=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",e),...t}));tr.displayName="CardHeader";const rr=w.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));rr.displayName="CardTitle";const Bm=w.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:me("text-sm text-muted-foreground",e),...t}));Bm.displayName="CardDescription";const Bt=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("p-6 pt-0",e),...t}));Bt.displayName="CardContent";const Qie=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",e),...t}));Qie.displayName="CardFooter";function Zie(){const[e,t]=w.useState(!1),[r,n]=w.useState(!0),[a,s]=w.useState(""),[i,o]=w.useState(""),[c,u]=w.useState(null),[d,f]=w.useState(!1),{login:h}=Pa(),p=Ao();return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"grid min-h-screen lg:grid-cols-[1.05fr_1fr]",children:[l.jsxs("div",{className:"relative hidden overflow-hidden bg-sidebar p-12 text-sidebar-foreground lg:flex lg:items-center lg:justify-center",children:[l.jsx("div",{className:"absolute -left-20 -top-24 h-64 w-64 rounded-full bg-primary/20 blur-3xl"}),l.jsx("div",{className:"absolute -bottom-24 right-0 h-72 w-72 rounded-full bg-data-500/20 blur-3xl"}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-xl space-y-6 text-center",children:[l.jsx("div",{className:"mx-auto flex h-48 w-48 items-center justify-center rounded-[2rem] border border-white/10 bg-sidebar-accent/40 p-3 shadow-[0_24px_70px_rgba(0,0,0,0.34)]",children:l.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-[1.6rem] border border-white/15 bg-sidebar-accent/80",children:l.jsx(Dl,{className:"h-20 w-20 text-primary"})})}),l.jsx("div",{className:"space-y-3",children:l.jsx("p",{className:"text-4xl font-semibold tracking-tight text-white",children:"Configured for your company."})}),l.jsx("p",{className:"mx-auto max-w-lg text-base leading-relaxed text-sidebar-foreground/70",children:"This workspace is customized for your organization's structure, trade flow, and decision-making context."}),l.jsx("div",{className:"inline-flex rounded-full border border-sidebar-border bg-sidebar-accent px-4 py-2 text-sm text-sidebar-foreground/80",children:"Built around your company, not a generic template."})]}),l.jsx("div",{className:"absolute bottom-10 left-0 right-0 text-center text-xs text-sidebar-foreground/50",children:" 2026 ORIGO Trade Insights. All rights reserved."})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-12",children:[l.jsxs("div",{className:"mb-8 flex w-full max-w-md flex-col items-center gap-3 text-center lg:hidden",children:[l.jsx("div",{className:"flex h-28 w-28 items-center justify-center rounded-3xl border border-border/70 bg-muted/30 p-2",children:l.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-2xl border border-border/70 bg-background",children:l.jsx(Dl,{className:"h-12 w-12 text-primary"})})}),l.jsx("div",{className:"space-y-1",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Configured for your company."})})]}),l.jsxs(Lt,{className:"w-full max-w-md",children:[l.jsxs(tr,{className:"space-y-2",children:[l.jsx(rr,{children:"Sign In"}),l.jsx(Bm,{children:"Use your email or username and password."})]}),l.jsxs(Bt,{className:"space-y-6",children:[l.jsxs("form",{className:"space-y-4",onSubmit:async g=>{g.preventDefault(),u(null),f(!0);const m=await h(a,i);if(f(!1),!m.success||!m.accountType){u(m.error??"Invalid credentials");return}p(m.accountType==="admin"?"/admin":"/market-intelligence",{replace:!0})},children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(cr,{htmlFor:"identifier",children:"Email or Username"}),l.jsxs("div",{className:"relative",children:[l.jsx(zT,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{id:"identifier",type:"text",placeholder:"you@company.com or username",className:"pl-10",value:a,onChange:g=>s(g.target.value),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(cr,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(UT,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{id:"password",type:e?"text":"password",placeholder:"",className:"pl-10 pr-10",value:i,onChange:g=>o(g.target.value),required:!0}),l.jsx("button",{type:"button",onClick:()=>t(g=>!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":e?"Hide password":"Show password",children:e?l.jsx(bF,{className:"h-4 w-4"}):l.jsx(Zd,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(sb,{checked:r,onCheckedChange:g=>n(!!g)}),"Remember me"]}),l.jsx(U1,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),c?l.jsx("p",{className:"rounded-lg border border-destructive/40 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:c}):null,l.jsx(Ce,{type:"submit",className:"w-full",children:d?"Signing in...":"Sign in"})]}),l.jsx("div",{className:"rounded-lg border bg-secondary/60 px-4 py-3 text-xs text-muted-foreground",children:"Admin and Customer use the same sign-in page."})]})]})]})]})})}function Ks({className:e,...t}){return l.jsx("div",{className:me("animate-pulse rounded-md bg-muted",e),...t})}class eoe extends w.Component{constructor(){super(...arguments);Pj(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error",r,n)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const fo=w.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));fo.displayName="Textarea";const toe="",NN=e=>{const t=(e??"").trim().toUpperCase();if(!/^[A-Z]{2}$/.test(t))return toe;const r=t.split("").map(n=>127397+n.charCodeAt(0));return String.fromCodePoint(...r)};function roe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const FB=U.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),qf=()=>{const e=U.useContext(FB);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};roe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const noe=24,aoe=typeof window<"u"?w.useLayoutEffect:w.useEffect;function vP(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function soe(){return CN(/^Mac/)}function ioe(){return CN(/^iPhone/)}function xP(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ooe(){return CN(/^iPad/)||soe()&&navigator.maxTouchPoints>1}function LB(){return ioe()||ooe()}function CN(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const e_=typeof document<"u"&&window.visualViewport;function yP(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function BB(e){for(yP(e)&&(e=e.parentElement);e&&!yP(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const loe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ug=0,t_;function coe(e={}){let{isDisabled:t}=e;aoe(()=>{if(!t)return Ug++,Ug===1&&LB()&&(t_=uoe()),()=>{Ug--,Ug===0&&(t_==null||t_())}},[t])}function uoe(){let e,t=0,r=f=>{e=BB(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,p=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((p<=0&&h>t||p>=g&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;VS(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},s=f=>{let h=f.target;VS(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",e_&&(e_.height<window.innerHeight?requestAnimationFrame(()=>{bP(h)}):e_.addEventListener("resize",()=>bP(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},o=window.pageXOffset,c=window.pageYOffset,u=vP(doe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=vP(Ch(document,"touchstart",r,{passive:!1,capture:!0}),Ch(document,"touchmove",n,{passive:!1,capture:!0}),Ch(document,"touchend",a,{passive:!1,capture:!0}),Ch(document,"focus",s,!0),Ch(window,"scroll",i));return()=>{u(),d(),window.scrollTo(o,c)}}function doe(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Ch(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function bP(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=BB(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+noe;s>i&&(r.scrollTop+=a-n)}e=r.parentElement}}function VS(e){return e instanceof HTMLInputElement&&!loe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function foe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function hoe(...e){return t=>e.forEach(r=>foe(r,t))}function UB(...e){return w.useCallback(hoe(...e),e)}const zB=new WeakMap;function cn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([a,s])=>{if(a.startsWith("--")){e.style.setProperty(a,s);return}n[a]=e.style[a],e.style[a]=s}),!r&&zB.set(e,n)}function poe(e,t){if(!e||!(e instanceof HTMLElement))return;let r=zB.get(e);r&&(e.style[t]=r[t])}const un=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function zg(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[un(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[un(t)?5:4]):null)}function moe(e){return 8*(Math.log(e+1)-2)}function r_(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function goe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const jr={DURATION:.5,EASE:[.32,.72,0,1]},WB=.4,voe=.25,xoe=100,HB=8,dc=16,GS=26,n_="vaul-dragging";function VB(e){const t=U.useRef(e);return U.useEffect(()=>{t.current=e}),U.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function yoe({defaultProp:e,onChange:t}){const r=U.useState(e),[n]=r,a=U.useRef(n),s=VB(t);return U.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}function GB({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=yoe({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,o=VB(r),c=U.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else a(u)},[s,e,a,o]);return[i,c]}function boe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:s,onSnapPointChange:i,direction:o="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=GB({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,p]=U.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);U.useEffect(()=>{function k(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const g=U.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),m=U.useMemo(()=>r==null?void 0:r.findIndex(k=>k===d),[r,d]),v=r&&r.length>0&&(s||s===0)&&!Number.isNaN(s)&&r[s]===d||!r,y=U.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=r==null?void 0:r.map(T=>{const A=typeof T=="string";let C=0;if(A&&(C=parseInt(T,10)),un(o)){const R=A?C:h?T*k.height:0;return h?o==="bottom"?k.height-R:-k.height+R:R}const j=A?C:h?T*k.width:0;return h?o==="right"?k.width-j:-k.width+j:j}))!=null?N:[]},[r,h,c]),b=U.useMemo(()=>m!==null?y==null?void 0:y[m]:null,[y,m]),x=U.useCallback(k=>{var N;const T=(N=y==null?void 0:y.findIndex(A=>A===k))!=null?N:null;i(T),cn(n.current,{transition:`transform ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`,transform:un(o)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),y&&T!==y.length-1&&T!==s&&T<s?cn(a.current,{transition:`opacity ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`,opacity:"0"}):cn(a.current,{transition:`opacity ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(T,0)])},[n.current,r,y,s,a,f]);U.useEffect(()=>{if(d||e){var k;const N=(k=r==null?void 0:r.findIndex(T=>T===e||T===d))!=null?k:-1;y&&N!==-1&&typeof y[N]=="number"&&x(y[N])}},[d,e,r,y,x]);function _({draggedDistance:k,closeDrawer:N,velocity:T,dismissible:A}){if(s===void 0)return;const C=o==="bottom"||o==="right"?(b??0)-k:(b??0)+k,j=m===s-1,R=m===0,I=k>0;if(j&&cn(a.current,{transition:`opacity ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`}),!u&&T>2&&!I){A?N():x(y[0]);return}if(!u&&T>2&&I&&y&&r){x(y[r.length-1]);return}const M=y==null?void 0:y.reduce((K,H)=>typeof K!="number"||typeof H!="number"?K:Math.abs(H-C)<Math.abs(K-C)?H:K),W=un(o)?window.innerHeight:window.innerWidth;if(T>WB&&Math.abs(k)<W*.4){const K=I?1:-1;if(K>0&&g){x(y[r.length-1]);return}if(R&&K<0&&A&&N(),m===null)return;x(y[m+K]);return}x(M)}function S({draggedDistance:k}){if(b===null)return;const N=o==="bottom"||o==="right"?b-k:b+k;(o==="bottom"||o==="right")&&N<y[y.length-1]||(o==="top"||o==="left")&&N>y[y.length-1]||cn(n.current,{transform:un(o)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function E(k,N){if(!r||typeof m!="number"||!y||s===void 0)return null;const T=m===s-1;if(m>=s&&N)return 0;if(T&&!N)return 1;if(!v&&!T)return null;const C=T?m+1:m-1,j=T?y[C]-y[C-1]:y[C+1]-y[C],R=k/Math.abs(j);return T?1-R:R}return{isLastSnapPoint:g,activeSnapPoint:d,shouldFade:v,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:S,snapPointsOffset:y}}const woe=()=>()=>{};function _oe(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=qf(),s=U.useRef(null),i=w.useMemo(()=>document.body.style.backgroundColor,[]);function o(){return(window.innerWidth-GS)/window.innerWidth}U.useEffect(()=>{if(t&&r){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;goe(n&&!a?r_(document.body,{background:"black"}):woe,r_(c,{transformOrigin:un(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${jr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${jr.EASE.join(",")})`}));const u=r_(c,{borderRadius:`${HB}px`,overflow:"hidden",...un(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),s.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},jr.DURATION*1e3)}}},[t,r,i])}let jh=null;function Soe({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:s}){const[i,o]=U.useState(()=>typeof window<"u"?window.location.href:""),c=U.useRef(0),u=U.useCallback(()=>{if(xP()&&jh===null&&e&&!s){jh={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&c.current>=h&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[e]),d=U.useCallback(()=>{if(xP()&&jh!==null&&!s){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,jh),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){o(window.location.href);return}window.scrollTo(h,f)}),jh=null}},[i]);return U.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),U.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,r,u,d]),{restorePositionSetting:d}}function qB({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:s,shouldScaleBackground:i=!1,setBackgroundColorOnScale:o=!0,closeThreshold:c=voe,scrollLockTimeout:u=xoe,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:p,setActiveSnapPoint:g,fixed:m,modal:v=!0,onClose:y,nested:b,noBodyStyles:x,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:E=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:N=!1,repositionInputs:T=!0,onAnimationEnd:A,container:C,autoFocus:j=!1}){var R,I;const[M=!1,W]=GB({defaultProp:S,prop:e,onChange:Pe=>{t==null||t(Pe),!Pe&&!b&&ge(),setTimeout(()=>{A==null||A(Pe)},jr.DURATION*1e3),Pe&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Pe||(document.body.style.pointerEvents="auto")}}),[K,H]=U.useState(!1),[O,Z]=U.useState(!1),[J,P]=U.useState(!1),G=U.useRef(null),B=U.useRef(null),z=U.useRef(null),ae=U.useRef(null),V=U.useRef(null),ie=U.useRef(!1),re=U.useRef(null),L=U.useRef(0),oe=U.useRef(!1),D=U.useRef(0),le=U.useRef(null),ye=U.useRef(((R=le.current)==null?void 0:R.getBoundingClientRect().height)||0),Se=U.useRef(((I=le.current)==null?void 0:I.getBoundingClientRect().width)||0),_e=U.useRef(0),pe=U.useCallback(Pe=>{s&&Pe===at.length-1&&(B.current=new Date)},[]),{activeSnapPoint:Le,activeSnapPointIndex:ze,setActiveSnapPoint:xt,onRelease:nt,snapPointsOffset:at,onDrag:yt,shouldFade:Y,getPercentageDragged:be}=boe({snapPoints:s,activeSnapPointProp:p,setActiveSnapPointProp:g,drawerRef:le,fadeFromIndex:h,overlayRef:G,onSnapPointChange:pe,direction:_,container:C,snapToSequentialPoint:k});coe({isDisabled:!M||O||!v||J||!K||!T||!E});const{restorePositionSetting:ge}=Soe({isOpen:M,modal:v,nested:b,hasBeenOpened:K,preventScrollRestoration:N,noBodyStyles:x});function Re(){return(window.innerWidth-GS)/window.innerWidth}function ft(Pe){var Ge,Ae;!d&&!s||le.current&&!le.current.contains(Pe.target)||(ye.current=((Ge=le.current)==null?void 0:Ge.getBoundingClientRect().height)||0,Se.current=((Ae=le.current)==null?void 0:Ae.getBoundingClientRect().width)||0,Z(!0),z.current=new Date,LB()&&window.addEventListener("touchend",()=>ie.current=!1,{once:!0}),Pe.target.setPointerCapture(Pe.pointerId),L.current=un(_)?Pe.pageY:Pe.pageX)}function $t(Pe,Ge){var Ae,dt;let tt=Pe;const _t=(Ae=window.getSelection())==null?void 0:Ae.toString(),Vt=le.current?zg(le.current,_):null,je=new Date;if(tt.hasAttribute("data-vaul-no-drag")||tt.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(B.current&&je.getTime()-B.current.getTime()<500)return!1;if(Vt!==null&&(_==="bottom"?Vt>0:Vt<0))return!0;if(_t&&_t.length>0)return!1;if(je.getTime()-((dt=V.current)==null?void 0:dt.getTime())<u&&Vt===0||Ge)return V.current=je,!1;for(;tt;){if(tt.scrollHeight>tt.clientHeight){if(tt.scrollTop!==0)return V.current=new Date,!1;if(tt.getAttribute("role")==="dialog")return!0}tt=tt.parentNode}return!0}function st(Pe){if(le.current&&O){const Ge=_==="bottom"||_==="right"?1:-1,Ae=(L.current-(un(_)?Pe.pageY:Pe.pageX))*Ge,dt=Ae>0,tt=s&&!d&&!dt;if(tt&&ze===0)return;const _t=Math.abs(Ae),Vt=document.querySelector("[data-vaul-drawer-wrapper]"),je=_==="bottom"||_==="top"?ye.current:Se.current;let se=_t/je;const ve=be(_t,dt);if(ve!==null&&(se=ve),tt&&se>=1||!ie.current&&!$t(Pe.target,dt))return;if(le.current.classList.add(n_),ie.current=!0,cn(le.current,{transition:"none"}),cn(G.current,{transition:"none"}),s&&yt({draggedDistance:Ae}),dt&&!s){const Ve=moe(Ae),Ye=Math.min(Ve*-1,0)*Ge;cn(le.current,{transform:un(_)?`translate3d(0, ${Ye}px, 0)`:`translate3d(${Ye}px, 0, 0)`});return}const Ne=1-se;if((Y||h&&ze===h-1)&&(n==null||n(Pe,se),cn(G.current,{opacity:`${Ne}`,transition:"none"},!0)),Vt&&G.current&&i){const Ve=Math.min(Re()+se*(1-Re()),1),Ye=8-se*8,Ht=Math.max(0,14-se*14);cn(Vt,{borderRadius:`${Ye}px`,transform:un(_)?`scale(${Ve}) translate3d(0, ${Ht}px, 0)`:`scale(${Ve}) translate3d(${Ht}px, 0, 0)`,transition:"none"},!0)}if(!s){const Ve=_t*Ge;cn(le.current,{transform:un(_)?`translate3d(0, ${Ve}px, 0)`:`translate3d(${Ve}px, 0, 0)`})}}}U.useEffect(()=>{var Pe;function Ge(){if(!le.current||!T)return;const Ae=document.activeElement;if(VS(Ae)||oe.current){var dt;const tt=((dt=window.visualViewport)==null?void 0:dt.height)||0,_t=window.innerHeight;let Vt=_t-tt;const je=le.current.getBoundingClientRect().height||0,se=je>_t*.8;_e.current||(_e.current=je);const ve=le.current.getBoundingClientRect().top;if(Math.abs(D.current-Vt)>60&&(oe.current=!oe.current),s&&s.length>0&&at&&ze){const Ne=at[ze]||0;Vt+=Ne}if(D.current=Vt,je>tt||oe.current){const Ne=le.current.getBoundingClientRect().height;let Ve=Ne;Ne>tt&&(Ve=tt-(se?ve:GS)),m?le.current.style.height=`${Ne-Math.max(Vt,0)}px`:le.current.style.height=`${Math.max(Ve,tt-ve)}px`}else le.current.style.height=`${_e.current}px`;s&&s.length>0&&!oe.current?le.current.style.bottom="0px":le.current.style.bottom=`${Math.max(Vt,0)}px`}}return(Pe=window.visualViewport)==null||Pe.addEventListener("resize",Ge),()=>{var Ae;return(Ae=window.visualViewport)==null?void 0:Ae.removeEventListener("resize",Ge)}},[ze,s,at]);function wt(Pe){Ct(),y==null||y(),Pe||W(!1),setTimeout(()=>{s&&xt(s[0])},jr.DURATION*1e3)}function Wt(){if(!le.current)return;const Pe=document.querySelector("[data-vaul-drawer-wrapper]"),Ge=zg(le.current,_);cn(le.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`}),cn(G.current,{transition:`opacity ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`,opacity:"1"}),i&&Ge&&Ge>0&&M&&cn(Pe,{borderRadius:`${HB}px`,overflow:"hidden",...un(_)?{transform:`scale(${Re()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Re()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${jr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${jr.EASE.join(",")})`},!0)}function Ct(){!O||!le.current||(le.current.classList.remove(n_),ie.current=!1,Z(!1),ae.current=new Date)}function Ft(Pe){if(!O||!le.current)return;le.current.classList.remove(n_),ie.current=!1,Z(!1),ae.current=new Date;const Ge=zg(le.current,_);if(!$t(Pe.target,!1)||!Ge||Number.isNaN(Ge)||z.current===null)return;const Ae=ae.current.getTime()-z.current.getTime(),dt=L.current-(un(_)?Pe.pageY:Pe.pageX),tt=Math.abs(dt)/Ae;if(tt>.05&&(P(!0),setTimeout(()=>{P(!1)},200)),s){nt({draggedDistance:dt*(_==="bottom"||_==="right"?1:-1),closeDrawer:wt,velocity:tt,dismissible:d}),a==null||a(Pe,!0);return}if(_==="bottom"||_==="right"?dt>0:dt<0){Wt(),a==null||a(Pe,!0);return}if(tt>WB){wt(),a==null||a(Pe,!1);return}var _t;const Vt=Math.min((_t=le.current.getBoundingClientRect().height)!=null?_t:0,window.innerHeight);var je;const se=Math.min((je=le.current.getBoundingClientRect().width)!=null?je:0,window.innerWidth),ve=_==="left"||_==="right";if(Math.abs(Ge)>=(ve?se:Vt)*c){wt(),a==null||a(Pe,!1);return}a==null||a(Pe,!0),Wt()}U.useEffect(()=>(M&&(cn(document.documentElement,{scrollBehavior:"auto"}),B.current=new Date),()=>{poe(document.documentElement,"scrollBehavior")}),[M]);function ce(Pe){const Ge=Pe?(window.innerWidth-dc)/window.innerWidth:1,Ae=Pe?-dc:0;re.current&&window.clearTimeout(re.current),cn(le.current,{transition:`transform ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`,transform:`scale(${Ge}) translate3d(0, ${Ae}px, 0)`}),!Pe&&le.current&&(re.current=setTimeout(()=>{const dt=zg(le.current,_);cn(le.current,{transition:"none",transform:un(_)?`translate3d(0, ${dt}px, 0)`:`translate3d(${dt}px, 0, 0)`})},500))}function ht(Pe,Ge){if(Ge<0)return;const Ae=(window.innerWidth-dc)/window.innerWidth,dt=Ae+Ge*(1-Ae),tt=-dc+Ge*dc;cn(le.current,{transform:un(_)?`scale(${dt}) translate3d(0, ${tt}px, 0)`:`scale(${dt}) translate3d(${tt}px, 0, 0)`,transition:"none"})}function pt(Pe,Ge){const Ae=un(_)?window.innerHeight:window.innerWidth,dt=Ge?(Ae-dc)/Ae:1,tt=Ge?-dc:0;Ge&&cn(le.current,{transition:`transform ${jr.DURATION}s cubic-bezier(${jr.EASE.join(",")})`,transform:un(_)?`scale(${dt}) translate3d(0, ${tt}px, 0)`:`scale(${dt}) translate3d(${tt}px, 0, 0)`})}return U.createElement(_N,{defaultOpen:S,onOpenChange:Pe=>{!d&&!Pe||(Pe?H(!0):wt(!0),W(Pe))},open:M},U.createElement(FB.Provider,{value:{activeSnapPoint:Le,snapPoints:s,setActiveSnapPoint:xt,drawerRef:le,overlayRef:G,onOpenChange:t,onPress:ft,onRelease:Ft,onDrag:st,dismissible:d,handleOnly:f,isOpen:M,isDragging:O,shouldFade:Y,closeDrawer:wt,onNestedDrag:ht,onNestedOpenChange:ce,onNestedRelease:pt,keyboardIsOpen:oe,modal:v,snapPointsOffset:at,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:o,noBodyStyles:x,container:C,autoFocus:j}},r))}const KB=U.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:a,shouldFade:s,isOpen:i,modal:o}=qf(),c=UB(t,r),u=n&&n.length>0;return o?U.createElement(Mm,{onMouseUp:a,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&s?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});KB.displayName="Drawer.Overlay";const XB=U.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},a){const{drawerRef:s,onPress:i,onRelease:o,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:p,snapPoints:g,container:m,handleOnly:v,autoFocus:y}=qf(),[b,x]=U.useState(!1),_=UB(a,s),S=U.useRef(null),E=U.useRef(null),k=U.useRef(!1),N=g&&g.length>0;_oe();const T=(C,j,R=0)=>{if(k.current)return!0;const I=Math.abs(C.y),M=Math.abs(C.x),W=M>I,K=["bottom","right"].includes(j)?1:-1;if(j==="left"||j==="right"){if(!(C.x*K<0)&&M>=0&&M<=R)return W}else if(!(C.y*K<0)&&I>=0&&I<=R)return!W;return k.current=!0,!0};U.useEffect(()=>{N&&window.requestAnimationFrame(()=>{x(!0)})},[]);function A(C){S.current=null,k.current=!1,o(C)}return U.createElement($m,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&N?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:C=>{v||(n.onPointerDown==null||n.onPointerDown.call(n,C),S.current={x:C.pageX,y:C.pageY},i(C))},onOpenAutoFocus:C=>{r==null||r(C),y||C.preventDefault()},onPointerDownOutside:C=>{if(e==null||e(C),!f||C.defaultPrevented){C.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:C=>{if(!f){C.preventDefault();return}},onPointerMove:C=>{if(E.current=C,v||(n.onPointerMove==null||n.onPointerMove.call(n,C),!S.current))return;const j=C.pageY-S.current.y,R=C.pageX-S.current.x,I=C.pointerType==="touch"?10:2;T({x:R,y:j},p,I)?c(C):(Math.abs(R)>I||Math.abs(j)>I)&&(S.current=null)},onPointerUp:C=>{n.onPointerUp==null||n.onPointerUp.call(n,C),S.current=null,k.current=!1,o(C)},onPointerOut:C=>{n.onPointerOut==null||n.onPointerOut.call(n,C),A(E.current)},onContextMenu:C=>{n.onContextMenu==null||n.onContextMenu.call(n,C),A(E.current)}})});XB.displayName="Drawer.Content";const koe=250,Eoe=120,YB=U.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:s,snapPoints:i,activeSnapPoint:o,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:p}=qf(),g=U.useRef(null),m=U.useRef(!1);function v(){if(m.current){x();return}window.setTimeout(()=>{y()},Eoe)}function y(){if(s||e||m.current){x();return}if(x(),(!i||i.length===0)&&u){a();return}if(o===i[i.length-1]&&u){a();return}const S=i.findIndex(k=>k===o);if(S===-1)return;const E=i[S+1];c(E)}function b(){g.current=window.setTimeout(()=>{m.current=!0},koe)}function x(){window.clearTimeout(g.current),m.current=!1}return U.createElement("div",{onClick:v,onPointerCancel:x,onPointerDown:_=>{d&&h(_),b()},onPointerMove:_=>{d&&p(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},U.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});YB.displayName="Drawer.Handle";function Toe({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:a,onNestedRelease:s}=qf();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return U.createElement(qB,{nested:!0,onClose:()=>{a(!1)},onDrag:(i,o)=>{n(i,o),e==null||e(i,o)},onOpenChange:i=>{i&&a(i)},onRelease:s,...r})}function Noe(e){const t=qf(),{container:r=t.container,...n}=e;return U.createElement(SN,{container:r,...n})}const Po={Root:qB,NestedRoot:Toe,Content:XB,Overlay:KB,Trigger:L6,Portal:Noe,Handle:YB,Close:eb,Title:Fm,Description:Lm},JB=({shouldScaleBackground:e=!0,...t})=>l.jsx(Po.Root,{shouldScaleBackground:e,...t});JB.displayName="Drawer";const Coe=Po.Portal,QB=w.forwardRef(({className:e,...t},r)=>l.jsx(Po.Overlay,{ref:r,className:me("fixed inset-0 z-50 bg-black/80",e),...t}));QB.displayName=Po.Overlay.displayName;const ZB=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Coe,{children:[l.jsx(QB,{}),l.jsxs(Po.Content,{ref:n,className:me("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));ZB.displayName="DrawerContent";const e7=({className:e,...t})=>l.jsx("div",{className:me("grid gap-1.5 p-4 text-center sm:text-left",e),...t});e7.displayName="DrawerHeader";const t7=w.forwardRef(({className:e,...t},r)=>l.jsx(Po.Title,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));t7.displayName=Po.Title.displayName;const joe=w.forwardRef(({className:e,...t},r)=>l.jsx(Po.Description,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));joe.displayName=Po.Description.displayName;function wP({country:e,dateRangeLabel:t,onViewCustomers:r}){if(!e)return null;const n=e.customers>0;return l.jsxs("div",{className:"w-[240px] rounded-2xl border bg-white p-4 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:e.flag}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-semibold",children:[e.name," (",e.code,")"]}),l.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:t??""})]})]}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-secondary/60 px-3 py-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Customers"}),l.jsx("span",{className:"text-sm font-semibold",children:e.customers})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-amber-50 px-3 py-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-700",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[#ffbd59]"}),"New"]}),l.jsx("span",{className:"text-xs font-semibold text-amber-700",children:e.newCustomers})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-emerald-50 px-3 py-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Existing"]}),l.jsx("span",{className:"text-xs font-semibold text-emerald-700",children:e.existingCustomers})]})]}),n?l.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to see customers in this country"}):l.jsx("p",{className:"text-xs text-muted-foreground",children:"No data for this selection"})]}),l.jsx("div",{className:"mt-3",children:l.jsx(Ce,{variant:"outline",className:"h-8 w-full text-xs",disabled:!n,onClick:r,children:n?"View customers":"No data for this selection"})})]})}const mi={width:1e3,height:410},Ah=1,Oh=2.3,Wg=.2,a_=78,_P=-52,SP=0,qS=(e,t)=>{const r=Math.max(_P,Math.min(a_,t)),n=(e+180)/360*(mi.width-SP*2)+SP,a=(a_-r)/(a_-_P)*mi.height;return[n,a]},Aoe=e=>e.map(([t,r],n)=>{const[a,s]=qS(t,r);return`${n===0?"M":"L"}${a.toFixed(2)},${s.toFixed(2)}`}).join(" "),kP=e=>e.map(t=>`${Aoe(t)} Z`).join(" "),Ooe=e=>e?e.type==="Polygon"?kP(e.coordinates):e.coordinates.map(t=>kP(t)).join(" "):"",Hg=e=>{if(!e)return;const t=e.ISO_A2??e.iso_a2??e.ISO2??e.iso2??e["ISO3166-1-Alpha-2"]??e["Alpha-2"];if(!(!t||t==="-99"))return String(t).toUpperCase()},Poe=e=>{if(e)return e.NAME??e.name??e.ADMIN??e.Country},Roe=e=>{let t=0;for(let r=0;r<e.length;r+=1){const[n,a]=e[r],[s,i]=e[(r+1)%e.length];t+=n*i-s*a}return Math.abs(t/2)},Ioe=e=>{if(!e)return[];if(e.type==="Polygon")return e.coordinates[0]??[];let t=[],r=0;return e.coordinates.forEach(n=>{const a=n[0]??[],s=Roe(a);s>r&&(r=s,t=a)}),t},Doe=e=>{if(!e.length)return null;let t=0,r=0,n=0;for(let a=0;a<e.length;a+=1){const[s,i]=e[a],[o,c]=e[(a+1)%e.length],u=s*c-o*i;t+=u,r+=(s+o)*u,n+=(i+c)*u}if(t===0){const a=e.reduce((s,[i,o])=>({lon:s.lon+i,lat:s.lat+o}),{lon:0,lat:0});return[a.lon/e.length,a.lat/e.length]}return[r/(3*t),n/(3*t)]};function Moe({data:e,metricLabel:t,formatMetric:r,onCountryClick:n,selectedCountryCode:a,dateRangeLabel:s,enableHoverCard:i=!0,onViewCompanies:o,onClearSelection:c,autoZoomKey:u}){const[d,f]=w.useState([]),[h,p]=w.useState(!1),[g,m]=w.useState(1),[v,y]=w.useState(!1),[b,x]=w.useState({x:0,y:0}),[_,S]=w.useState(!1),[E,k]=w.useState(!1),[N,T]=w.useState(!1),[A,C]=w.useState(!1),[j,R]=w.useState("Map is focused on countries with available data."),[I,M]=w.useState(null),[W,K]=w.useState(null),[H,O]=w.useState(!1),[Z,J]=w.useState(null),[P,G]=w.useState(!1),B=w.useRef(null),z=w.useRef(null),ae=w.useRef(null),V=w.useRef(null),ie=w.useRef(null),re=w.useRef({x:0,y:0}),L=w.useRef(1),oe=w.useRef(null),D=w.useRef(null),le=w.useRef(null),ye=w.useRef(0),Se=w.useRef(!1);w.useEffect(()=>()=>{ie.current&&window.clearTimeout(ie.current),oe.current!==null&&window.cancelAnimationFrame(oe.current)},[]),w.useEffect(()=>{let se=!0;return fetch("/world-countries.geojson").then(ve=>{if(!ve.ok)throw new Error("Map data not found");return ve.json()}).then(ve=>{se&&f(ve.features??[])}).catch(()=>{se&&p(!0)}),()=>{se=!1}},[]);const _e=w.useMemo(()=>new Map(e.map(se=>[se.code.toUpperCase(),se])),[e]),pe=w.useMemo(()=>{const se=new Map;return d.forEach(ve=>{const Ne=Hg(ve.properties),Ve=Poe(ve.properties);Ne&&Ve&&se.set(Ne.toUpperCase(),Ve)}),se},[d]),Le=w.useMemo(()=>e.filter(se=>se.metricValue>0||(se.importersCount??0)>0).map(se=>se.code.toUpperCase()),[e]);Math.max(0,...e.map(se=>se.metricValue));const ze=w.useCallback(se=>{if(!se)return null;const ve=se.toUpperCase(),Ne=_e.get(ve);if(Ne){const Ye=Ne.newCustomers??0,Ht=Ne.existingCustomers??Math.max(0,(Ne.importersCount??0)-Ye);return{code:Ne.code,name:Ne.name,flag:Ne.flag,customers:Ne.importersCount??0,customerStatus:Ne.customerStatus??(Ye>0&&Ht>0?"mixed":Ye>0?"new":"existing"),newCustomers:Ye,existingCustomers:Ht,metricValue:Ne.metricValue,share:Ne.share}}const Ve=pe.get(ve)??ve;return{code:ve,name:Ve,flag:NN(ve),customers:0,customerStatus:"existing",newCustomers:0,existingCustomers:0,metricValue:0,share:0}},[pe,_e]),xt=w.useMemo(()=>ze(I),[I,ze]),nt=w.useMemo(()=>{const se=new Map;return d.forEach(ve=>{const Ne=Hg(ve.properties);Ne&&se.set(Ne.toUpperCase(),ve)}),e.map(ve=>{const Ne=se.get(ve.code.toUpperCase());if(!Ne)return null;const Ve=Ioe(Ne.geometry),Ye=Doe(Ve);if(!Ye)return null;const[Ht,Dt]=qS(Ye[0],Ye[1]),Cr=ve.importersCount??0;return{...ve,x:Ht,y:Dt,customers:Cr,customerStatus:ve.customerStatus??((ve.newCustomers??0)>0&&(ve.existingCustomers??0)>0?"mixed":(ve.newCustomers??0)>0?"new":"existing"),label:Cr>99?"99+":`${Cr}`}}).filter(ve=>ve&&ve.customers>0).filter(Boolean)},[e,d]),at=w.useMemo(()=>d.map((se,ve)=>{const Ne=Ooe(se.geometry);if(!Ne)return null;const Ve=Hg(se.properties);return{key:`${se.id??ve}`,code:Ve,path:Ne,fill:"#E5E7EB"}}).filter(Boolean),[d]),yt=mi.width/2,Y=mi.height/2,be=`translate(${b.x+yt-yt*g} ${b.y+Y-Y*g}) scale(${g})`,ge=w.useCallback((se,ve)=>{if(!z.current)return;const Ne=se.x+yt-yt*ve,Ve=se.y+Y-Y*ve;z.current.setAttribute("transform",`translate(${Ne} ${Ve}) scale(${ve})`)},[yt,Y]);w.useEffect(()=>{re.current=b,L.current=g,ge(b,g)},[b,g,ge]);const Re=I?nt.find(se=>se.code===I):null,ft=(se,ve)=>{if(!B.current)return;const Ne=B.current.getBoundingClientRect();K({x:se-Ne.left,y:ve-Ne.top})},$t=se=>{if(!B.current||!z.current)return;const ve=B.current.createSVGPoint();ve.x=se.x,ve.y=se.y;const Ne=z.current.getScreenCTM();if(!Ne)return;const Ve=ve.matrixTransform(Ne),Ye=B.current.getBoundingClientRect();K({x:Ve.x-Ye.left,y:Ve.y-Ye.top})};w.useEffect(()=>{!Re||!i||$t(Re)},[Re,g,b,i]),w.useEffect(()=>{u&&E&&(T(!1),C(!1))},[u,E]),w.useEffect(()=>{if(!u||!E||N||a||!d.length)return;const se=new Set(Le);if(se.size===0){m(1),x({x:0,y:0}),C(!1);return}let ve=Number.POSITIVE_INFINITY,Ne=Number.NEGATIVE_INFINITY,Ve=Number.POSITIVE_INFINITY,Ye=Number.NEGATIVE_INFINITY;const Ht=(de,xe)=>{const[ue,fe]=qS(de,xe);ve=Math.min(ve,ue),Ne=Math.max(Ne,ue),Ve=Math.min(Ve,fe),Ye=Math.max(Ye,fe)};if(d.forEach(de=>{const xe=Hg(de.properties);if(!xe||!se.has(xe.toUpperCase()))return;const ue=de.geometry;ue&&(ue.type==="Polygon"?ue.coordinates.forEach(fe=>fe.forEach(([he,Oe])=>Ht(he,Oe))):ue.coordinates.forEach(fe=>fe.forEach(he=>he.forEach(([Oe,We])=>Ht(Oe,We)))))}),!Number.isFinite(ve)||!Number.isFinite(Ve))return;const Dt=46,Cr=Math.max(1,Ne-ve),dh=Math.max(1,Ye-Ve),fh=(mi.width-Dt*2)/Cr,F=(mi.height-Dt*2)/dh;let Q=Math.min(fh,F);Q=Math.max(Ah,Math.min(Oh,Q)),se.size===1&&(Q=Math.min(Q,1.8));const q=(ve+Ne)/2,X=(Ve+Ye)/2,ee={x:(yt-q)*Q,y:(Y-X)*Q};S(!0),m(Q),x(ee),R("Map is focused on countries with available data."),C(!0),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>C(!1),2200);const te=window.setTimeout(()=>S(!1),420);return()=>window.clearTimeout(te)},[u,E,N,a,d,Le,yt,Y]);const st=(se,ve)=>{if(i){if(V.current&&window.clearTimeout(V.current),ve&&ae.current){const Ne=ae.current.getBoundingClientRect();K({x:ve.clientX-Ne.left,y:ve.clientY-Ne.top})}V.current=window.setTimeout(()=>{M(se)},120)}},wt=()=>{i&&(V.current&&window.clearTimeout(V.current),V.current=window.setTimeout(()=>{H||M(null)},140))},Wt=()=>{i&&(V.current&&window.clearTimeout(V.current),O(!0))},Ct=()=>{i&&(O(!1),M(null))},Ft=w.useMemo(()=>{if(!W||!ae.current)return;const se=ae.current.getBoundingClientRect(),ve=240,Ne=150;let Ve=W.x+14,Ye=W.y-Ne-14;return Ve+ve>se.width-8&&(Ve=se.width-ve-8),Ve<8&&(Ve=8),Ye<8&&(Ye=W.y+14),Ye+Ne>se.height-8&&(Ye=se.height-Ne-8),{left:Ve,top:Ye}},[W]);if(h)return l.jsxs("div",{className:"flex h-full w-full items-center justify-center rounded-xl border border-dashed bg-muted/20 px-4 text-sm text-muted-foreground",children:["Missing ",l.jsx("span",{className:"mx-1 font-medium text-foreground",children:"public/world-countries.geojson"})]});const ce=se=>{D.current===null&&(oe.current!==null&&(window.cancelAnimationFrame(oe.current),oe.current=null),S(!1),D.current=se.pointerId,le.current={x:se.clientX,y:se.clientY},ye.current=0,y(!0),se.currentTarget.setPointerCapture(se.pointerId),se.preventDefault())},ht=se=>{if(D.current!==se.pointerId||!le.current)return;const ve=se.clientX-le.current.x,Ne=se.clientY-le.current.y;le.current={x:se.clientX,y:se.clientY},ye.current+=Math.abs(ve)+Math.abs(Ne),ye.current>3&&(Se.current=!0,N||(T(!0),C(!1))),re.current={x:re.current.x+ve,y:re.current.y+Ne},oe.current===null&&(oe.current=window.requestAnimationFrame(()=>{ge(re.current,L.current),oe.current=null})),se.preventDefault()},pt=se=>{D.current===se.pointerId&&(oe.current!==null&&(window.cancelAnimationFrame(oe.current),oe.current=null,ge(re.current,L.current)),D.current=null,le.current=null,y(!1),x(re.current),se.currentTarget.releasePointerCapture(se.pointerId),se.preventDefault(),setTimeout(()=>{Se.current=!1},0))},Pe=se=>{Se.current||(n==null||n(se),i||(J(se),G(!0)))},Ge=se=>{!se||Se.current||(n==null||n(se),i||(J(se),G(!0)))},Ae=(se,ve)=>{if(!(!i||!se)){if(V.current&&window.clearTimeout(V.current),ve){const Ne=ve.clientX,Ve=ve.clientY;if(Ne>0||Ve>0)ft(Ne,Ve);else if(ae.current){const Ye=ae.current.getBoundingClientRect();ft(Ye.left+Ye.width/2,Ye.top+Ye.height/2)}}V.current=window.setTimeout(()=>{M(se)},120)}},dt=se=>{!i||!se||ft(se.clientX,se.clientY)},tt=()=>{i&&(V.current&&window.clearTimeout(V.current),V.current=window.setTimeout(()=>{H||M(null)},140))},_t=()=>{if(E){k(!1),T(!0),S(!0),m(1),x({x:0,y:0}),R("Focus is off. Pan and zoom freely."),C(!0),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>C(!1),1800),window.setTimeout(()=>S(!1),300);return}k(!0),T(!1),R("Focus is on. Map centers on active data countries."),C(!0),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>C(!1),1800)},Vt=()=>{S(!0),m(1),x({x:0,y:0}),C(!1),E&&T(!1),window.setTimeout(()=>S(!1),320)},je=Math.abs(g-1)>.001||Math.abs(b.x)>.5||Math.abs(b.y)>.5;return l.jsxs("div",{ref:ae,className:"relative h-full w-full overflow-hidden rounded-xl border border-border/60 bg-slate-50",children:[l.jsxs("div",{className:"absolute left-2 top-2 z-20 flex items-center gap-1.5 md:hidden",children:[l.jsx(Ce,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full border border-[#3c3c431f] bg-white/92 text-slate-700 shadow-sm backdrop-blur-[8px]",onClick:()=>{m(se=>Math.min(Oh,se+Wg)),T(!0),C(!1)},disabled:g>=Oh-.001,"aria-label":"Zoom in",children:l.jsx(oS,{className:"h-3.5 w-3.5"})}),l.jsx(Ce,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full border border-[#3c3c431f] bg-white/92 text-slate-700 shadow-sm backdrop-blur-[8px]",onClick:()=>{m(se=>Math.max(Ah,se-Wg)),T(!0),C(!1)},disabled:g<=Ah+.001,"aria-label":"Zoom out",children:l.jsx(i0,{className:"h-3.5 w-3.5"})}),l.jsxs(Ce,{size:"icon",variant:"secondary",className:"relative h-8 w-8 rounded-full border border-[#ffbd59] bg-[#ffbd59] text-slate-900 shadow-sm backdrop-blur-[8px] hover:border-[#ffbd59] hover:bg-[#ffbd59] active:border-[#ffbd59] active:bg-[#ffbd59]",onClick:_t,"aria-pressed":E,"aria-label":E?"Disable focus":"Enable focus",children:[l.jsx(ZA,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:`absolute bottom-1.5 right-1.5 h-1.5 w-1.5 rounded-full ${E?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":"true"})]}),je&&l.jsx(Ce,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full border border-[#3c3c431f] bg-white/92 text-slate-700 shadow-sm backdrop-blur-[8px]",onClick:Vt,"aria-label":"Reset zoom and position",children:l.jsx(wx,{className:"h-3.5 w-3.5"})})]}),l.jsxs("div",{className:"absolute right-3 top-3 z-20 hidden flex-col gap-2 md:flex",children:[l.jsxs(Qh,{delayDuration:120,children:[l.jsx(Zh,{asChild:!0,children:l.jsx(Ce,{size:"icon",variant:"secondary",className:"h-10 w-10 rounded-full border border-[#3c3c431f] bg-white/92 text-slate-700 shadow-sm backdrop-blur-[10px]",onClick:()=>{m(se=>Math.min(Oh,se+Wg)),T(!0),C(!1)},disabled:g>=Oh-.001,"aria-label":"Zoom in",children:l.jsx(oS,{className:"h-4 w-4"})})}),l.jsx(dd,{side:"left",className:"bg-white text-xs text-slate-700",children:"Zoom in"})]}),l.jsxs(Qh,{delayDuration:120,children:[l.jsx(Zh,{asChild:!0,children:l.jsx(Ce,{size:"icon",variant:"secondary",className:"h-10 w-10 rounded-full border border-[#3c3c431f] bg-white/92 text-slate-700 shadow-sm backdrop-blur-[10px]",onClick:()=>{m(se=>Math.max(Ah,se-Wg)),T(!0),C(!1)},disabled:g<=Ah+.001,"aria-label":"Zoom out",children:l.jsx(i0,{className:"h-4 w-4"})})}),l.jsx(dd,{side:"left",className:"bg-white text-xs text-slate-700",children:"Zoom out"})]}),l.jsxs(Qh,{delayDuration:120,children:[l.jsx(Zh,{asChild:!0,children:l.jsxs(Ce,{size:"icon",variant:"secondary",className:"relative h-10 w-10 rounded-full border border-[#ffbd59] bg-[#ffbd59] text-slate-900 shadow-sm backdrop-blur-[10px] hover:border-[#ffbd59] hover:bg-[#ffbd59] active:border-[#ffbd59] active:bg-[#ffbd59]",onClick:_t,"aria-pressed":E,"aria-label":E?"Disable focus":"Enable focus",children:[l.jsx(ZA,{className:"h-4 w-4"}),l.jsx("span",{className:`absolute bottom-2 right-2 h-1.5 w-1.5 rounded-full ${E?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":"true"})]})}),l.jsx(dd,{side:"left",className:"bg-white text-xs text-slate-700",children:"Focus data countries"})]}),je&&l.jsxs(Qh,{delayDuration:120,children:[l.jsx(Zh,{asChild:!0,children:l.jsx(Ce,{size:"icon",variant:"secondary",className:"h-10 w-10 rounded-full border border-[#3c3c431f] bg-white/92 text-slate-700 shadow-sm backdrop-blur-[10px]",onClick:Vt,"aria-label":"Reset zoom and position",children:l.jsx(wx,{className:"h-4 w-4"})})}),l.jsx(dd,{side:"left",className:"bg-white text-xs text-slate-700",children:"Reset view"})]})]}),l.jsxs("svg",{ref:B,viewBox:`0 0 ${mi.width} ${mi.height}`,className:"h-full w-full touch-none select-none",preserveAspectRatio:"xMidYMid meet",onPointerDown:ce,onPointerMove:ht,onPointerUp:pt,onPointerCancel:pt,style:{cursor:v?"grabbing":"grab",touchAction:"none"},children:[l.jsx("rect",{width:mi.width,height:mi.height,fill:"#F8FAFC"}),l.jsxs("g",{ref:z,transform:be,style:{transition:_?"transform 420ms ease":"none",willChange:"transform"},children:[at.map(se=>l.jsx("path",{d:se.path,fill:se.fill,stroke:"#F8FAFC",strokeWidth:"0.65",className:se.code?"cursor-pointer transition-opacity hover:opacity-95":"opacity-95",role:se.code?"button":"img",tabIndex:se.code?0:-1,"aria-label":se.code?`View ${pe.get(se.code.toUpperCase())??se.code}`:"Country",onClick:()=>Ge(se.code),onMouseEnter:ve=>Ae(se.code,ve),onMouseMove:dt,onMouseLeave:tt,onFocus:ve=>Ae(se.code,ve),onBlur:tt,onKeyDown:ve=>{se.code&&(ve.key==="Enter"||ve.key===" ")&&(ve.preventDefault(),Ge(se.code))}},se.key)),nt.map(se=>{const ve=a===se.code,Ne=se.label.length>2?16:15;return l.jsxs("g",{className:`origo-marker ${se.customerStatus==="mixed"?"is-mixed":se.customerStatus==="new"?"is-new":"is-existing"} ${ve?"is-active":""}`,onClick:()=>Pe(se.code),onMouseEnter:Ve=>st(se.code,Ve),onMouseLeave:wt,children:[l.jsx("circle",{className:"origo-marker-hit",cx:se.x,cy:se.y,r:Math.max(24,Ne+8)}),se.customerStatus==="new"&&l.jsx("circle",{className:"origo-marker-glow",cx:se.x,cy:se.y,r:Ne+2}),l.jsx("circle",{className:"origo-marker-pill",cx:se.x,cy:se.y,r:Ne}),l.jsx("text",{className:"origo-marker-text",x:se.x,y:se.y,children:se.label}),l.jsxs("title",{children:[se.name,": ",se.customers," customers"]})]},`marker-${se.code}`)})]})]}),i&&xt&&Ft&&l.jsx("div",{className:"absolute z-30",style:{left:Ft.left,top:Ft.top},onMouseEnter:Wt,onMouseLeave:Ct,children:l.jsx(wP,{country:xt,dateRangeLabel:s,onViewCustomers:()=>o==null?void 0:o(xt.code)})}),A&&l.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-2 flex justify-center",children:l.jsx("span",{className:"rounded-full bg-white/90 px-3 py-1 text-xs text-muted-foreground shadow-sm",children:j})}),!i&&Z&&l.jsx(JB,{open:P,onOpenChange:G,children:l.jsxs(ZB,{children:[l.jsx(e7,{children:l.jsx(t7,{children:"Country Details"})}),l.jsx("div",{className:"px-4 pb-4",children:l.jsx(wP,{country:ze(Z),dateRangeLabel:s,onViewCustomers:()=>{o==null||o(Z),G(!1)}})})]})}),l.jsxs("div",{className:"sr-only",children:[t,": ",r(e.reduce((se,ve)=>se+ve.metricValue,0))]})]})}function $oe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var jN="ScrollArea",[r7,DBe]=_a(jN),[Foe,ws]=r7(jN),n7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[o,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(null),[m,v]=w.useState(null),[y,b]=w.useState(0),[x,_]=w.useState(0),[S,E]=w.useState(!1),[k,N]=w.useState(!1),T=It(t,C=>c(C)),A=Am(a);return l.jsx(Foe,{scope:r,type:n,dir:A,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:N,onCornerWidthChange:b,onCornerHeightChange:_,children:l.jsx(rt.div,{dir:A,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});n7.displayName=jN;var a7="ScrollAreaViewport",s7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=ws(a7,r),o=w.useRef(null),c=It(t,o,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});s7.displayName=a7;var Wi="ScrollAreaScrollbar",AN=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ws(Wi,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,o=e.orientation==="horizontal";return w.useEffect(()=>(o?s(!0):i(!0),()=>{o?s(!1):i(!1)}),[o,s,i]),a.type==="hover"?l.jsx(Loe,{...n,ref:t,forceMount:r}):a.type==="scroll"?l.jsx(Boe,{...n,ref:t,forceMount:r}):a.type==="auto"?l.jsx(i7,{...n,ref:t,forceMount:r}):a.type==="always"?l.jsx(ON,{...n,ref:t}):null});AN.displayName=Wi;var Loe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ws(Wi,e.__scopeScrollArea),[s,i]=w.useState(!1);return w.useEffect(()=>{const o=a.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(_n,{present:r||s,children:l.jsx(i7,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Boe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ws(Wi,e.__scopeScrollArea),s=e.orientation==="horizontal",i=ob(()=>c("SCROLL_END"),100),[o,c]=$oe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),l.jsx(_n,{present:r||o!=="hidden",children:l.jsx(ON,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),i7=w.forwardRef((e,t)=>{const r=ws(Wi,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=w.useState(!1),o=e.orientation==="horizontal",c=ob(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(o?u:d)}},10);return sf(r.viewport,c),sf(r.content,c),l.jsx(_n,{present:n||s,children:l.jsx(ON,{"data-state":s?"visible":"hidden",...a,ref:t})})}),ON=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ws(Wi,e.__scopeScrollArea),s=w.useRef(null),i=w.useRef(0),[o,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=d7(o.viewport,o.content),d={...n,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return Goe(h,i.current,o,p)}return r==="horizontal"?l.jsx(Uoe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,p=EP(h,o,a.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?l.jsx(zoe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,p=EP(h,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Uoe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ws(Wi,e.__scopeScrollArea),[i,o]=w.useState(),c=w.useRef(null),u=It(t,c,s.onScrollbarXChange);return w.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(l7,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ib(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),h7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zx(i.paddingLeft),paddingEnd:zx(i.paddingRight)}})}})}),zoe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ws(Wi,e.__scopeScrollArea),[i,o]=w.useState(),c=w.useRef(null),u=It(t,c,s.onScrollbarYChange);return w.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(l7,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ib(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),h7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zx(i.paddingTop),paddingEnd:zx(i.paddingBottom)}})}})}),[Woe,o7]=r7(Wi),l7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ws(Wi,r),[g,m]=w.useState(null),v=It(t,T=>m(T)),y=w.useRef(null),b=w.useRef(""),x=p.viewport,_=n.content-n.viewport,S=Br(d),E=Br(c),k=ob(f,10);function N(T){if(y.current){const A=T.clientX-y.current.left,C=T.clientY-y.current.top;u({x:A,y:C})}}return w.useEffect(()=>{const T=A=>{const C=A.target;(g==null?void 0:g.contains(C))&&S(A,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,g,_,S]),w.useEffect(E,[n,E]),sf(g,k),sf(p.content,k),l.jsx(Woe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Br(s),onThumbPointerUp:Br(i),onThumbPositionChange:E,onThumbPointerDown:Br(o),children:l.jsx(rt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:$e(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:$e(e.onPointerMove,N),onPointerUp:$e(e.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Ux="ScrollAreaThumb",c7=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=o7(Ux,e.__scopeScrollArea);return l.jsx(_n,{present:r||a.hasThumb,children:l.jsx(Hoe,{ref:t,...n})})}),Hoe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ws(Ux,r),i=o7(Ux,r),{onThumbPositionChange:o}=i,c=It(t,f=>i.onThumbChange(f)),u=w.useRef(void 0),d=ob(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const p=qoe(f,o);u.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,o]),l.jsx(rt.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$e(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;i.onThumbPointerDown({x:g,y:m})}),onPointerUp:$e(e.onPointerUp,i.onThumbPointerUp)})});c7.displayName=Ux;var PN="ScrollAreaCorner",u7=w.forwardRef((e,t)=>{const r=ws(PN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(Voe,{...e,ref:t}):null});u7.displayName=PN;var Voe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ws(PN,r),[s,i]=w.useState(0),[o,c]=w.useState(0),u=!!(s&&o);return sf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),sf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?l.jsx(rt.div,{...n,ref:t,style:{width:s,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zx(e){return e?parseInt(e,10):0}function d7(e,t){const r=e/t;return isNaN(r)?0:r}function ib(e){const t=d7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Goe(e,t,r,n="ltr"){const a=ib(r),s=a/2,i=t||s,o=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return f7([c,u],f)(e)}function EP(e,t,r="ltr"){const n=ib(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,o=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=FS(e,c);return f7([0,i],[0,o])(u)}function f7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function h7(e,t){return e>0&&e<t}var qoe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,o=r.top!==s.top;(i||o)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ob(e,t){const r=Br(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function sf(e,t){const r=Br(t);Gr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var p7=n7,Koe=s7,Xoe=u7;const m7=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(p7,{ref:n,className:me("relative overflow-hidden",e),...r,children:[l.jsx(Koe,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(g7,{}),l.jsx(Xoe,{})]}));m7.displayName=p7.displayName;const g7=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(AN,{ref:n,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(c7,{className:"relative flex-1 rounded-full bg-border"})}));g7.displayName=AN.displayName;const s_=768;function RN(){const[e,t]=w.useState(void 0);return w.useEffect(()=>{const r=window.matchMedia(`(max-width: ${s_-1}px)`),n=()=>{t(window.innerWidth<s_)};return r.addEventListener("change",n),t(window.innerWidth<s_),()=>r.removeEventListener("change",n)},[]),!!e}const Uu=e=>new Intl.NumberFormat("en-US").format(e),TP=e=>{const[t,r]=e.split("-").map(Number),n=new Date(t,r-1,1);return Number.isNaN(n.getTime())?e:n.toLocaleString("en-US",{month:"short",year:"numeric"})},Yoe=({value:e})=>{const[t,r]=w.useState(!1);if(!e)return null;const n=async()=>{try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),1200)}catch{r(!1)}};return l.jsx(Ce,{type:"button",variant:"ghost",size:"icon",onClick:n,className:"h-7 w-7","aria-label":"Copy",children:t?l.jsx(Qd,{className:"h-3.5 w-3.5"}):l.jsx(fX,{className:"h-3.5 w-3.5"})})},ci=({label:e,value:t,href:r})=>t?l.jsxs("div",{className:"flex flex-col gap-1.5 sm:flex-row sm:items-center sm:justify-between sm:gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:e}),l.jsxs("div",{className:"flex w-full min-w-0 items-start gap-1.5 sm:max-w-[72%] sm:justify-end",children:[r?l.jsx("a",{href:r,className:"min-w-0 break-all text-sm text-primary hover:underline",target:"_blank",rel:"noreferrer",children:t}):l.jsx("span",{className:"min-w-0 break-words text-sm",children:t}),l.jsx("div",{className:"shrink-0",children:l.jsx(Yoe,{value:t})})]})]}):l.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between sm:gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:e}),l.jsx("span",{className:"text-sm sm:text-right",children:""})]}),Joe=(e,t)=>{const r=["Month","Origin Country","Counterparty","Weight (KG)","Value (USD)","Shipments"],n=c=>c==null?"":`"${String(c).replace(/"/g,'""')}"`,a=[r.join(","),...e.map(c=>[c.month,c.originCountry??"",c.counterparty??"",c.weightKg,c.valueUsd??"",c.shipmentsCount??""].map(n).join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=t,o.click(),URL.revokeObjectURL(i)};function Qoe({open:e,onOpenChange:t,company:r,country:n,hsCode:a,dateRangeLabel:s,tradeHistory:i,tradeHistoryUsedFallback:o=!1,isLoading:c}){var v,y,b,x,_,S,E,k,N,T,A,C,j,R;const u=RN();w.useEffect(()=>{if(!e)return;const I=W=>{W.key==="Escape"&&t(!1)},M=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",I),()=>{document.body.style.overflow=M,window.removeEventListener("keydown",I)}},[e,t]);const d=i.length>0,f=!!r,h=n?`${NN(n.code)} ${n.name} (${n.code})`:void 0,p=!!((v=r==null?void 0:r.contacts)!=null&&v.person||(y=r==null?void 0:r.contacts)!=null&&y.email||(b=r==null?void 0:r.contacts)!=null&&b.phone||(x=r==null?void 0:r.contacts)!=null&&x.website||(_=r==null?void 0:r.contacts)!=null&&_.linkedIn),g=w.useMemo(()=>[...i].sort((I,M)=>I.month>M.month?-1:1),[i]),m=()=>{r&&Joe(g,`trade-history-${r.id}.csv`)};return e?l.jsxs("div",{className:"fixed inset-0 z-[90]",children:[l.jsx("button",{type:"button","aria-label":"Close profile",className:"absolute inset-0 bg-black/45 backdrop-blur-[1px]",onClick:()=>t(!1)}),l.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":"Company profile",className:"absolute inset-x-0 bottom-0 mx-auto flex h-[92vh] w-full flex-col rounded-t-2xl border bg-background shadow-2xl md:bottom-5 md:h-[88vh] md:max-w-5xl md:rounded-2xl",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 border-b px-5 pb-4 pt-5 text-left",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"truncate text-lg font-semibold leading-tight",children:(r==null?void 0:r.name)??"Company Profile"}),(r==null?void 0:r.buyerType)&&l.jsx(sr,{variant:"secondary",children:r.buyerType})]}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:a?`${a.product}  ${a.description} (${a.code})`:""})]}),l.jsx(Ce,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9 shrink-0",onClick:()=>t(!1),"aria-label":"Close profile",children:l.jsx(ef,{className:"h-4 w-4"})})]}),l.jsx(m7,{className:"flex-1 px-6 pb-8 pt-5",children:c?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ks,{className:"h-6 w-1/2"}),l.jsx(Ks,{className:"h-24 w-full"}),l.jsx(Ks,{className:"h-24 w-full"}),l.jsx(Ks,{className:"h-32 w-full"})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Company Identity"}),l.jsxs("div",{className:"grid gap-3 rounded-lg border bg-card p-4",children:[!f&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No profile data for this company yet."}),l.jsx(ci,{label:"Company name",value:r==null?void 0:r.name}),l.jsx(ci,{label:"Country",value:h}),l.jsx(ci,{label:"Industry",value:r==null?void 0:r.industry}),l.jsx(ci,{label:"Buyer type",value:r==null?void 0:r.buyerType}),l.jsx(ci,{label:"Website",value:r==null?void 0:r.website,href:r==null?void 0:r.website})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Contact Information"}),l.jsxs("div",{className:"grid gap-3 rounded-lg border bg-card p-4",children:[!p&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No contact details available in the current dataset."}),l.jsx(ci,{label:"Contact",value:(S=r==null?void 0:r.contacts)==null?void 0:S.person}),l.jsx(ci,{label:"Email",value:(E=r==null?void 0:r.contacts)==null?void 0:E.email,href:(k=r==null?void 0:r.contacts)!=null&&k.email?`mailto:${r.contacts.email}`:void 0}),l.jsx(ci,{label:"Phone",value:(N=r==null?void 0:r.contacts)==null?void 0:N.phone,href:(T=r==null?void 0:r.contacts)!=null&&T.phone?`tel:${r.contacts.phone}`:void 0}),l.jsx(ci,{label:"Website",value:((A=r==null?void 0:r.contacts)==null?void 0:A.website)??(r==null?void 0:r.website),href:((C=r==null?void 0:r.contacts)==null?void 0:C.website)??(r==null?void 0:r.website)}),l.jsx(ci,{label:"LinkedIn",value:(j=r==null?void 0:r.contacts)==null?void 0:j.linkedIn,href:(R=r==null?void 0:r.contacts)==null?void 0:R.linkedIn})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Trade History"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Date range: ",s]}),o&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"No records in the selected range. Showing latest available history."}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsxs(sr,{variant:"outline",className:"font-normal",children:["HS: ",(a==null?void 0:a.code)??"Not available"]}),l.jsxs(sr,{variant:"outline",className:"font-normal",children:["Date range: ",s||"Not available"]})]})]}),l.jsxs(Ce,{variant:"outline",size:"sm",onClick:m,disabled:!d,children:[l.jsx(hX,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]}),g.length===0?l.jsx("div",{className:"rounded-lg border bg-card p-6 text-center text-sm text-muted-foreground",children:"No data for this selection."}):u?l.jsx("div",{className:"space-y-2",children:g.map(I=>l.jsxs("article",{className:"rounded-lg border bg-card p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Date (Month)"}),l.jsx("p",{className:"font-medium",children:TP(I.month)})]}),l.jsxs(sr,{variant:"secondary",className:"shrink-0",children:[Uu(I.weightKg)," KG"]})]}),l.jsxs("div",{className:"mt-2 space-y-1.5 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Origin Country"}),l.jsx("p",{className:"break-words",children:I.originCountry??""})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Exporter / Counterparty"}),l.jsx("p",{className:"break-words",children:I.counterparty??""})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 rounded-md bg-secondary/50 p-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value (USD)"}),l.jsx("p",{className:"font-medium",children:I.valueUsd?Uu(I.valueUsd):""})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Shipment Count"}),l.jsx("p",{className:"font-medium",children:I.shipmentsCount?Uu(I.shipmentsCount):""})]})]})]},`${I.month}-${I.originCountry??"na"}`))}):l.jsx("div",{className:"rounded-lg border bg-card",children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{className:"bg-muted/50",children:[l.jsx(He,{children:"Date (Month)"}),l.jsx(He,{children:"Origin Country"}),l.jsx(He,{children:"Exporter / Counterparty"}),l.jsx(He,{className:"text-right",children:"Weight (KG)"}),l.jsx(He,{className:"text-right",children:"Value (USD)"}),l.jsx(He,{className:"text-right",children:"Shipment Count"})]})}),l.jsx(mn,{children:g.map(I=>l.jsxs(Tt,{children:[l.jsx(Me,{className:"font-medium",children:TP(I.month)}),l.jsx(Me,{children:I.originCountry??""}),l.jsx(Me,{children:I.counterparty??""}),l.jsx(Me,{className:"text-right",children:Uu(I.weightKg)}),l.jsx(Me,{className:"text-right",children:I.valueUsd?Uu(I.valueUsd):""}),l.jsx(Me,{className:"text-right",children:I.shipmentsCount?Uu(I.shipmentsCount):""})]},`${I.month}-${I.originCountry??"na"}`))})]})})]})]})})]})]}):null}var Zoe=Array.isArray,Ra=Zoe,ele=typeof ng=="object"&&ng&&ng.Object===Object&&ng,v7=ele,tle=v7,rle=typeof self=="object"&&self&&self.Object===Object&&self,nle=tle||rle||Function("return this")(),Hi=nle,ale=Hi,sle=ale.Symbol,Um=sle,NP=Um,x7=Object.prototype,ile=x7.hasOwnProperty,ole=x7.toString,Ph=NP?NP.toStringTag:void 0;function lle(e){var t=ile.call(e,Ph),r=e[Ph];try{e[Ph]=void 0;var n=!0}catch{}var a=ole.call(e);return n&&(t?e[Ph]=r:delete e[Ph]),a}var cle=lle,ule=Object.prototype,dle=ule.toString;function fle(e){return dle.call(e)}var hle=fle,CP=Um,ple=cle,mle=hle,gle="[object Null]",vle="[object Undefined]",jP=CP?CP.toStringTag:void 0;function xle(e){return e==null?e===void 0?vle:gle:jP&&jP in Object(e)?ple(e):mle(e)}var Ro=xle;function yle(e){return e!=null&&typeof e=="object"}var Io=yle,ble=Ro,wle=Io,_le="[object Symbol]";function Sle(e){return typeof e=="symbol"||wle(e)&&ble(e)==_le}var Kf=Sle,kle=Ra,Ele=Kf,Tle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nle=/^\w*$/;function Cle(e,t){if(kle(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ele(e)?!0:Nle.test(e)||!Tle.test(e)||t!=null&&e in Object(t)}var IN=Cle;function jle(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var tc=jle;const Xf=dr(tc);var Ale=Ro,Ole=tc,Ple="[object AsyncFunction]",Rle="[object Function]",Ile="[object GeneratorFunction]",Dle="[object Proxy]";function Mle(e){if(!Ole(e))return!1;var t=Ale(e);return t==Rle||t==Ile||t==Ple||t==Dle}var DN=Mle;const Ot=dr(DN);var $le=Hi,Fle=$le["__core-js_shared__"],Lle=Fle,i_=Lle,AP=function(){var e=/[^.]+$/.exec(i_&&i_.keys&&i_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ble(e){return!!AP&&AP in e}var Ule=Ble,zle=Function.prototype,Wle=zle.toString;function Hle(e){if(e!=null){try{return Wle.call(e)}catch{}try{return e+""}catch{}}return""}var y7=Hle,Vle=DN,Gle=Ule,qle=tc,Kle=y7,Xle=/[\\^$.*+?()[\]{}|]/g,Yle=/^\[object .+?Constructor\]$/,Jle=Function.prototype,Qle=Object.prototype,Zle=Jle.toString,ece=Qle.hasOwnProperty,tce=RegExp("^"+Zle.call(ece).replace(Xle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rce(e){if(!qle(e)||Gle(e))return!1;var t=Vle(e)?tce:Yle;return t.test(Kle(e))}var nce=rce;function ace(e,t){return e==null?void 0:e[t]}var sce=ace,ice=nce,oce=sce;function lce(e,t){var r=oce(e,t);return ice(r)?r:void 0}var bu=lce,cce=bu,uce=cce(Object,"create"),lb=uce,OP=lb;function dce(){this.__data__=OP?OP(null):{},this.size=0}var fce=dce;function hce(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pce=hce,mce=lb,gce="__lodash_hash_undefined__",vce=Object.prototype,xce=vce.hasOwnProperty;function yce(e){var t=this.__data__;if(mce){var r=t[e];return r===gce?void 0:r}return xce.call(t,e)?t[e]:void 0}var bce=yce,wce=lb,_ce=Object.prototype,Sce=_ce.hasOwnProperty;function kce(e){var t=this.__data__;return wce?t[e]!==void 0:Sce.call(t,e)}var Ece=kce,Tce=lb,Nce="__lodash_hash_undefined__";function Cce(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tce&&t===void 0?Nce:t,this}var jce=Cce,Ace=fce,Oce=pce,Pce=bce,Rce=Ece,Ice=jce;function Yf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yf.prototype.clear=Ace;Yf.prototype.delete=Oce;Yf.prototype.get=Pce;Yf.prototype.has=Rce;Yf.prototype.set=Ice;var Dce=Yf;function Mce(){this.__data__=[],this.size=0}var $ce=Mce;function Fce(e,t){return e===t||e!==e&&t!==t}var MN=Fce,Lce=MN;function Bce(e,t){for(var r=e.length;r--;)if(Lce(e[r][0],t))return r;return-1}var cb=Bce,Uce=cb,zce=Array.prototype,Wce=zce.splice;function Hce(e){var t=this.__data__,r=Uce(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Wce.call(t,r,1),--this.size,!0}var Vce=Hce,Gce=cb;function qce(e){var t=this.__data__,r=Gce(t,e);return r<0?void 0:t[r][1]}var Kce=qce,Xce=cb;function Yce(e){return Xce(this.__data__,e)>-1}var Jce=Yce,Qce=cb;function Zce(e,t){var r=this.__data__,n=Qce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eue=Zce,tue=$ce,rue=Vce,nue=Kce,aue=Jce,sue=eue;function Jf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jf.prototype.clear=tue;Jf.prototype.delete=rue;Jf.prototype.get=nue;Jf.prototype.has=aue;Jf.prototype.set=sue;var ub=Jf,iue=bu,oue=Hi,lue=iue(oue,"Map"),$N=lue,PP=Dce,cue=ub,uue=$N;function due(){this.size=0,this.__data__={hash:new PP,map:new(uue||cue),string:new PP}}var fue=due;function hue(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pue=hue,mue=pue;function gue(e,t){var r=e.__data__;return mue(t)?r[typeof t=="string"?"string":"hash"]:r.map}var db=gue,vue=db;function xue(e){var t=vue(this,e).delete(e);return this.size-=t?1:0,t}var yue=xue,bue=db;function wue(e){return bue(this,e).get(e)}var _ue=wue,Sue=db;function kue(e){return Sue(this,e).has(e)}var Eue=kue,Tue=db;function Nue(e,t){var r=Tue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Cue=Nue,jue=fue,Aue=yue,Oue=_ue,Pue=Eue,Rue=Cue;function Qf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qf.prototype.clear=jue;Qf.prototype.delete=Aue;Qf.prototype.get=Oue;Qf.prototype.has=Pue;Qf.prototype.set=Rue;var FN=Qf,b7=FN,Iue="Expected a function";function LN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Iue);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(LN.Cache||b7),r}LN.Cache=b7;var w7=LN;const Due=dr(w7);var Mue=w7,$ue=500;function Fue(e){var t=Mue(e,function(n){return r.size===$ue&&r.clear(),n}),r=t.cache;return t}var Lue=Fue,Bue=Lue,Uue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zue=/\\(\\)?/g,Wue=Bue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Uue,function(r,n,a,s){t.push(a?s.replace(zue,"$1"):n||r)}),t}),Hue=Wue;function Vue(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var BN=Vue,RP=Um,Gue=BN,que=Ra,Kue=Kf,Xue=1/0,IP=RP?RP.prototype:void 0,DP=IP?IP.toString:void 0;function _7(e){if(typeof e=="string")return e;if(que(e))return Gue(e,_7)+"";if(Kue(e))return DP?DP.call(e):"";var t=e+"";return t=="0"&&1/e==-Xue?"-0":t}var Yue=_7,Jue=Yue;function Que(e){return e==null?"":Jue(e)}var S7=Que,Zue=Ra,ede=IN,tde=Hue,rde=S7;function nde(e,t){return Zue(e)?e:ede(e,t)?[e]:tde(rde(e))}var k7=nde,ade=Kf,sde=1/0;function ide(e){if(typeof e=="string"||ade(e))return e;var t=e+"";return t=="0"&&1/e==-sde?"-0":t}var fb=ide,ode=k7,lde=fb;function cde(e,t){t=ode(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lde(t[r++])];return r&&r==n?e:void 0}var UN=cde,ude=UN;function dde(e,t,r){var n=e==null?void 0:ude(e,t);return n===void 0?r:n}var E7=dde;const ms=dr(E7);function fde(e){return e==null}var hde=fde;const Mt=dr(hde);var pde=Ro,mde=Ra,gde=Io,vde="[object String]";function xde(e){return typeof e=="string"||!mde(e)&&gde(e)&&pde(e)==vde}var yde=xde;const su=dr(yde);var T7={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN=Symbol.for("react.element"),WN=Symbol.for("react.portal"),hb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),bde=Symbol.for("react.server_context"),xb=Symbol.for("react.forward_ref"),yb=Symbol.for("react.suspense"),bb=Symbol.for("react.suspense_list"),wb=Symbol.for("react.memo"),_b=Symbol.for("react.lazy"),wde=Symbol.for("react.offscreen"),N7;N7=Symbol.for("react.module.reference");function _s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zN:switch(e=e.type,e){case hb:case mb:case pb:case yb:case bb:return e;default:switch(e=e&&e.$$typeof,e){case bde:case vb:case xb:case _b:case wb:case gb:return e;default:return t}}case WN:return t}}}or.ContextConsumer=vb;or.ContextProvider=gb;or.Element=zN;or.ForwardRef=xb;or.Fragment=hb;or.Lazy=_b;or.Memo=wb;or.Portal=WN;or.Profiler=mb;or.StrictMode=pb;or.Suspense=yb;or.SuspenseList=bb;or.isAsyncMode=function(){return!1};or.isConcurrentMode=function(){return!1};or.isContextConsumer=function(e){return _s(e)===vb};or.isContextProvider=function(e){return _s(e)===gb};or.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zN};or.isForwardRef=function(e){return _s(e)===xb};or.isFragment=function(e){return _s(e)===hb};or.isLazy=function(e){return _s(e)===_b};or.isMemo=function(e){return _s(e)===wb};or.isPortal=function(e){return _s(e)===WN};or.isProfiler=function(e){return _s(e)===mb};or.isStrictMode=function(e){return _s(e)===pb};or.isSuspense=function(e){return _s(e)===yb};or.isSuspenseList=function(e){return _s(e)===bb};or.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hb||e===mb||e===pb||e===yb||e===bb||e===wde||typeof e=="object"&&e!==null&&(e.$$typeof===_b||e.$$typeof===wb||e.$$typeof===gb||e.$$typeof===vb||e.$$typeof===xb||e.$$typeof===N7||e.getModuleId!==void 0)};or.typeOf=_s;T7.exports=or;var _de=T7.exports,Sde=Ro,kde=Io,Ede="[object Number]";function Tde(e){return typeof e=="number"||kde(e)&&Sde(e)==Ede}var C7=Tde;const Nde=dr(C7);var Cde=C7;function jde(e){return Cde(e)&&e!=+e}var Ade=jde;const Zf=dr(Ade);var Xs=function(t){return t===0?0:t>0?1:-1},jc=function(t){return su(t)&&t.indexOf("%")===t.length-1},Fe=function(t){return Nde(t)&&!Zf(t)},Ode=function(t){return Mt(t)},yn=function(t){return Fe(t)||su(t)},Pde=0,eh=function(t){var r=++Pde;return"".concat(t||"").concat(r)},iu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&!su(t))return n;var s;if(jc(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Zf(s)&&(s=n),a&&s>r&&(s=r),s},rl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Rde=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},$n=function(t,r){return Fe(t)&&Fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ms(n,t))===r})}var Ide=function(t,r){return Fe(t)&&Fe(r)?t-r:su(t)&&su(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function jd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function KS(e){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KS(e)}var Dde=["viewBox","children"],Mde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MP=["points","pathLength"],o_={svg:Dde,polygon:MP,polyline:MP},HN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Xf(n))return null;var a={};return Object.keys(n).forEach(function(s){HN.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},$de=function(t,r,n){return function(a){return t(r,n,a),null}},Vx=function(t,r,n){if(!Xf(t)||KS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];HN.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=$de(i,r,n))}),a},Fde=["children"],Lde=["children"];function $P(e,t){if(e==null)return{};var r=Bde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XS(e){"@babel/helpers - typeof";return XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XS(e)}var FP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ho=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LP=null,l_=null,VN=function e(t){if(t===LP&&Array.isArray(l_))return l_;var r=[];return w.Children.forEach(t,function(n){Mt(n)||(_de.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),l_=r,LP=t,r};function gs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ho(a)}):n=[ho(t)],VN(e).forEach(function(a){var s=ms(a,"type.displayName")||ms(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function La(e,t){var r=gs(e,t);return r&&r[0]}var BP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Fe(n)||n<=0||!Fe(a)||a<=0)},Ude=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zde=function(t){return t&&t.type&&su(t.type)&&Ude.indexOf(t.type)>=0},j7=function(t){return t&&XS(t)==="object"&&"clipDot"in t},Wde=function(t,r,n,a){var s,i=(s=o_==null?void 0:o_[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ot(t)&&(a&&i.includes(r)||Mde.includes(r))||n&&HN.includes(r)},Rt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!Xf(a))return null;var s={};return Object.keys(a).forEach(function(i){var o;Wde((o=a)===null||o===void 0?void 0:o[i],i,r,n)&&(s[i]=a[i])}),s},YS=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return UP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!UP(s,i))return!1}return!0},UP=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var n=t.props||{},a=n.children,s=$P(n,Fde),i=r.props||{},o=i.children,c=$P(i,Lde);return a&&o?jd(s,c)&&YS(a,o):!a&&!o?jd(s,c):!1}return!1},zP=function(t,r){var n=[],a={};return VN(t).forEach(function(s,i){if(zde(s))n.push(s);else if(s){var o=ho(s.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!a[o])){var f=u(s,o,i);n.push(f),a[o]=!0}}}),n},Hde=function(t){var r=t&&t.type;return r&&FP[r]?FP[r]:null},Vde=function(t,r){return VN(r).indexOf(t)},Gde=["children","width","height","viewBox","className","style","title","desc"];function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(this,arguments)}function qde(e,t){if(e==null)return{};var r=Kde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,o=e.title,c=e.desc,u=qde(e,Gde),d=a||{width:r,height:n,x:0,y:0},f=Ut("recharts-surface",s);return U.createElement("svg",JS({},Rt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,o),U.createElement("desc",null,c),t)}var Xde=["children","className"];function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(this,arguments)}function Yde(e,t){if(e==null)return{};var r=Jde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vr=U.forwardRef(function(e,t){var r=e.children,n=e.className,a=Yde(e,Xde),s=Ut("recharts-layer",n);return U.createElement("g",ZS({className:s},Rt(a,!0),{ref:t}),r)}),po=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Qde(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Zde=Qde,efe=Zde;function tfe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:efe(e,t,r)}var rfe=tfe,nfe="\\ud800-\\udfff",afe="\\u0300-\\u036f",sfe="\\ufe20-\\ufe2f",ife="\\u20d0-\\u20ff",ofe=afe+sfe+ife,lfe="\\ufe0e\\ufe0f",cfe="\\u200d",ufe=RegExp("["+cfe+nfe+ofe+lfe+"]");function dfe(e){return ufe.test(e)}var A7=dfe;function ffe(e){return e.split("")}var hfe=ffe,O7="\\ud800-\\udfff",pfe="\\u0300-\\u036f",mfe="\\ufe20-\\ufe2f",gfe="\\u20d0-\\u20ff",vfe=pfe+mfe+gfe,xfe="\\ufe0e\\ufe0f",yfe="["+O7+"]",ek="["+vfe+"]",tk="\\ud83c[\\udffb-\\udfff]",bfe="(?:"+ek+"|"+tk+")",P7="[^"+O7+"]",R7="(?:\\ud83c[\\udde6-\\uddff]){2}",I7="[\\ud800-\\udbff][\\udc00-\\udfff]",wfe="\\u200d",D7=bfe+"?",M7="["+xfe+"]?",_fe="(?:"+wfe+"(?:"+[P7,R7,I7].join("|")+")"+M7+D7+")*",Sfe=M7+D7+_fe,kfe="(?:"+[P7+ek+"?",ek,R7,I7,yfe].join("|")+")",Efe=RegExp(tk+"(?="+tk+")|"+kfe+Sfe,"g");function Tfe(e){return e.match(Efe)||[]}var Nfe=Tfe,Cfe=hfe,jfe=A7,Afe=Nfe;function Ofe(e){return jfe(e)?Afe(e):Cfe(e)}var Pfe=Ofe,Rfe=rfe,Ife=A7,Dfe=Pfe,Mfe=S7;function $fe(e){return function(t){t=Mfe(t);var r=Ife(t)?Dfe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Rfe(r,1).join(""):t.slice(1);return n[e]()+a}}var Ffe=$fe,Lfe=Ffe,Bfe=Lfe("toUpperCase"),Ufe=Bfe;const Sb=dr(Ufe);function mr(e){return function(){return e}}const $7=Math.cos,Gx=Math.sin,oi=Math.sqrt,qx=Math.PI,kb=2*qx,rk=Math.PI,nk=2*rk,yc=1e-6,zfe=nk-yc;function F7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Wfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F7;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Hfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F7:Wfe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,c=n-t,u=a-r,d=i-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>yc)if(!(Math.abs(f*c-u*d)>yc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,g=a-o,m=c*c+u*u,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),x=s*Math.tan((rk-Math.acos((m+h-v)/(2*y*b)))/2),_=x/b,S=x/y;Math.abs(_-1)>yc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yc||Math.abs(this._y1-d)>yc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%nk+nk),h>zfe?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>yc&&this._append`A${n},${n},0,${+(h>=rk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function GN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Hfe(t)}function qN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function L7(e){this._context=e}L7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eb(e){return new L7(e)}function B7(e){return e[0]}function U7(e){return e[1]}function z7(e,t){var r=mr(!0),n=null,a=Eb,s=null,i=GN(o);e=typeof e=="function"?e:e===void 0?B7:mr(e),t=typeof t=="function"?t:t===void 0?U7:mr(t);function o(c){var u,d=(c=qN(c)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:mr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:mr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mr(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),o):n},o}function Vg(e,t,r){var n=null,a=mr(!0),s=null,i=Eb,o=null,c=GN(u);e=typeof e=="function"?e:e===void 0?B7:mr(+e),t=typeof t=="function"?t:mr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?U7:mr(+r);function u(f){var h,p,g,m=(f=qN(f)).length,v,y=!1,b,x=new Array(m),_=new Array(m);for(s==null&&(o=i(b=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(x[g],_[g]);o.lineEnd(),o.areaEnd()}y&&(x[h]=+e(v,h,f),_[h]=+t(v,h,f),o.point(n?+n(v,h,f):x[h],r?+r(v,h,f):_[h]))}if(b)return o=null,b+""||null}function d(){return z7().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:mr(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),u):s},u}class W7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Vfe(e){return new W7(e,!0)}function Gfe(e){return new W7(e,!1)}const KN={draw(e,t){const r=oi(t/qx);e.moveTo(r,0),e.arc(0,0,r,0,kb)}},qfe={draw(e,t){const r=oi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},H7=oi(1/3),Kfe=H7*2,Xfe={draw(e,t){const r=oi(t/Kfe),n=r*H7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Yfe={draw(e,t){const r=oi(t),n=-r/2;e.rect(n,n,r,r)}},Jfe=.8908130915292852,V7=Gx(qx/10)/Gx(7*qx/10),Qfe=Gx(kb/10)*V7,Zfe=-$7(kb/10)*V7,ehe={draw(e,t){const r=oi(t*Jfe),n=Qfe*r,a=Zfe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=kb*s/5,o=$7(i),c=Gx(i);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},c_=oi(3),the={draw(e,t){const r=-oi(t/(c_*3));e.moveTo(0,r*2),e.lineTo(-c_*r,-r),e.lineTo(c_*r,-r),e.closePath()}},es=-.5,ts=oi(3)/2,ak=1/oi(12),rhe=(ak/2+1)*3,nhe={draw(e,t){const r=oi(t/rhe),n=r/2,a=r*ak,s=n,i=r*ak+r,o=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,c),e.lineTo(es*n-ts*a,ts*n+es*a),e.lineTo(es*s-ts*i,ts*s+es*i),e.lineTo(es*o-ts*c,ts*o+es*c),e.lineTo(es*n+ts*a,es*a-ts*n),e.lineTo(es*s+ts*i,es*i-ts*s),e.lineTo(es*o+ts*c,es*c-ts*o),e.closePath()}};function ahe(e,t){let r=null,n=GN(a);e=typeof e=="function"?e:mr(e||KN),t=typeof t=="function"?t:mr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:mr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:mr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Kx(){}function Xx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function G7(e){this._context=e}G7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function she(e){return new G7(e)}function q7(e){this._context=e}q7.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ihe(e){return new q7(e)}function K7(e){this._context=e}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ohe(e){return new K7(e)}function X7(e){this._context=e}X7.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lhe(e){return new X7(e)}function WP(e){return e<0?-1:1}function HP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(WP(s)+WP(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function VP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function u_(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function Yx(e){this._context=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u_(this,this._t0,VP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,u_(this,VP(this,r=HP(this,e,t)),r);break;default:u_(this,this._t0,r=HP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Y7(e){this._context=new J7(e)}(Y7.prototype=Object.create(Yx.prototype)).point=function(e,t){Yx.prototype.point.call(this,t,e)};function J7(e){this._context=e}J7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function che(e){return new Yx(e)}function uhe(e){return new Y7(e)}function Q7(e){this._context=e}Q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=GP(e),a=GP(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GP(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function dhe(e){return new Q7(e)}function Tb(e,t){this._context=e,this._t=t}Tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fhe(e){return new Tb(e,.5)}function hhe(e){return new Tb(e,0)}function phe(e){return new Tb(e,1)}function of(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function sk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mhe(e,t){return e[t]}function ghe(e){const t=[];return t.key=e,t}function vhe(){var e=mr([]),t=sk,r=of,n=mhe;function a(s){var i=Array.from(e.apply(this,arguments),ghe),o,c=i.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(i[o][u]=[0,+n(f,i[o].key,u,s)]).data=f;for(o=0,d=qN(t(i));o<c;++o)i[d[o]].index=o;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:mr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:mr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?sk:typeof s=="function"?s:mr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??of,a):r},a}function xhe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}of(e,t)}}function yhe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}of(e,t)}}function bhe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,c=0,u=0;o<i;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,of(e,t)}}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}var whe=["type","size","sizeType"];function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){_he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _he(e,t,r){return t=She(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e){var t=khe(e,"string");return E0(t)=="symbol"?t:t+""}function khe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ehe(e,t){if(e==null)return{};var r=The(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function The(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Z7={symbolCircle:KN,symbolCross:qfe,symbolDiamond:Xfe,symbolSquare:Yfe,symbolStar:ehe,symbolTriangle:the,symbolWye:nhe},Nhe=Math.PI/180,Che=function(t){var r="symbol".concat(Sb(t));return Z7[r]||KN},jhe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Nhe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ahe=function(t,r){Z7["symbol".concat(Sb(t))]=r},XN=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,o=i===void 0?"area":i,c=Ehe(t,whe),u=KP(KP({},c),{},{type:n,size:s,sizeType:o}),d=function(){var v=Che(n),y=ahe().type(v).size(jhe(s,o,n));return y()},f=u.className,h=u.cx,p=u.cy,g=Rt(u,!0);return h===+h&&p===+p&&s===+s?U.createElement("path",ik({},g,{className:Ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};XN.registerSymbol=Ahe;function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ok.apply(this,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ohe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){T0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Phe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tU(n.key),n)}}function Ihe(e,t,r){return t&&Rhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dhe(e,t,r){return t=Jx(t),Mhe(e,eU()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function Mhe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(e)}function $he(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function Fhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lk(e,t)}function T0(e,t,r){return t=tU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=Lhe(e,"string");return lf(t)=="symbol"?t:t+""}function Lhe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs=32,YN=function(e){function t(){return Phe(this,t),Dhe(this,t,arguments)}return Fhe(t,e),Ihe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=rs/2,i=rs/6,o=rs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:rs,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(rs,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(rs/8,"h").concat(rs,"v").concat(rs*3/4,"h").concat(-rs,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var u=Ohe({},n);return delete u.legendIcon,U.cloneElement(n.legendIcon,u)}return U.createElement(XN,{fill:c,cx:s,cy:s,size:rs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:rs,height:rs},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||c,v=Ut(T0(T0({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ot(p.value)?null:p.value;po(!Ot(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return U.createElement("li",ok({className:v,style:f,key:"legend-item-".concat(g)},Vx(n.props,p,g)),U.createElement(QS,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(w.PureComponent);T0(YN,"displayName","Legend");T0(YN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Bhe=ub;function Uhe(){this.__data__=new Bhe,this.size=0}var zhe=Uhe;function Whe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Hhe=Whe;function Vhe(e){return this.__data__.get(e)}var Ghe=Vhe;function qhe(e){return this.__data__.has(e)}var Khe=qhe,Xhe=ub,Yhe=$N,Jhe=FN,Qhe=200;function Zhe(e,t){var r=this.__data__;if(r instanceof Xhe){var n=r.__data__;if(!Yhe||n.length<Qhe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Jhe(n)}return r.set(e,t),this.size=r.size,this}var epe=Zhe,tpe=ub,rpe=zhe,npe=Hhe,ape=Ghe,spe=Khe,ipe=epe;function th(e){var t=this.__data__=new tpe(e);this.size=t.size}th.prototype.clear=rpe;th.prototype.delete=npe;th.prototype.get=ape;th.prototype.has=spe;th.prototype.set=ipe;var rU=th,ope="__lodash_hash_undefined__";function lpe(e){return this.__data__.set(e,ope),this}var cpe=lpe;function upe(e){return this.__data__.has(e)}var dpe=upe,fpe=FN,hpe=cpe,ppe=dpe;function Qx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new fpe;++t<r;)this.add(e[t])}Qx.prototype.add=Qx.prototype.push=hpe;Qx.prototype.has=ppe;var nU=Qx;function mpe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var aU=mpe;function gpe(e,t){return e.has(t)}var sU=gpe,vpe=nU,xpe=aU,ype=sU,bpe=1,wpe=2;function _pe(e,t,r,n,a,s){var i=r&bpe,o=e.length,c=t.length;if(o!=c&&!(i&&c>o))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&wpe?new vpe:void 0;for(s.set(e,t),s.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=i?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!xpe(t,function(y,b){if(!ype(p,b)&&(g===y||a(g,y,r,n,s)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var iU=_pe,Spe=Hi,kpe=Spe.Uint8Array,Epe=kpe;function Tpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Npe=Tpe;function Cpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var JN=Cpe,YP=Um,JP=Epe,jpe=MN,Ape=iU,Ope=Npe,Ppe=JN,Rpe=1,Ipe=2,Dpe="[object Boolean]",Mpe="[object Date]",$pe="[object Error]",Fpe="[object Map]",Lpe="[object Number]",Bpe="[object RegExp]",Upe="[object Set]",zpe="[object String]",Wpe="[object Symbol]",Hpe="[object ArrayBuffer]",Vpe="[object DataView]",QP=YP?YP.prototype:void 0,d_=QP?QP.valueOf:void 0;function Gpe(e,t,r,n,a,s,i){switch(r){case Vpe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Hpe:return!(e.byteLength!=t.byteLength||!s(new JP(e),new JP(t)));case Dpe:case Mpe:case Lpe:return jpe(+e,+t);case $pe:return e.name==t.name&&e.message==t.message;case Bpe:case zpe:return e==t+"";case Fpe:var o=Ope;case Upe:var c=n&Rpe;if(o||(o=Ppe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=Ipe,i.set(e,t);var d=Ape(o(e),o(t),n,a,s,i);return i.delete(e),d;case Wpe:if(d_)return d_.call(e)==d_.call(t)}return!1}var qpe=Gpe;function Kpe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var oU=Kpe,Xpe=oU,Ype=Ra;function Jpe(e,t,r){var n=t(e);return Ype(e)?n:Xpe(n,r(e))}var Qpe=Jpe;function Zpe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var e0e=Zpe;function t0e(){return[]}var r0e=t0e,n0e=e0e,a0e=r0e,s0e=Object.prototype,i0e=s0e.propertyIsEnumerable,ZP=Object.getOwnPropertySymbols,o0e=ZP?function(e){return e==null?[]:(e=Object(e),n0e(ZP(e),function(t){return i0e.call(e,t)}))}:a0e,l0e=o0e;function c0e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var u0e=c0e,d0e=Ro,f0e=Io,h0e="[object Arguments]";function p0e(e){return f0e(e)&&d0e(e)==h0e}var m0e=p0e,eR=m0e,g0e=Io,lU=Object.prototype,v0e=lU.hasOwnProperty,x0e=lU.propertyIsEnumerable,y0e=eR(function(){return arguments}())?eR:function(e){return g0e(e)&&v0e.call(e,"callee")&&!x0e.call(e,"callee")},QN=y0e,Zx={exports:{}};function b0e(){return!1}var w0e=b0e;Zx.exports;(function(e,t){var r=Hi,n=w0e,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(Zx,Zx.exports);var cU=Zx.exports,_0e=9007199254740991,S0e=/^(?:0|[1-9]\d*)$/;function k0e(e,t){var r=typeof e;return t=t??_0e,!!t&&(r=="number"||r!="symbol"&&S0e.test(e))&&e>-1&&e%1==0&&e<t}var ZN=k0e,E0e=9007199254740991;function T0e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=E0e}var eC=T0e,N0e=Ro,C0e=eC,j0e=Io,A0e="[object Arguments]",O0e="[object Array]",P0e="[object Boolean]",R0e="[object Date]",I0e="[object Error]",D0e="[object Function]",M0e="[object Map]",$0e="[object Number]",F0e="[object Object]",L0e="[object RegExp]",B0e="[object Set]",U0e="[object String]",z0e="[object WeakMap]",W0e="[object ArrayBuffer]",H0e="[object DataView]",V0e="[object Float32Array]",G0e="[object Float64Array]",q0e="[object Int8Array]",K0e="[object Int16Array]",X0e="[object Int32Array]",Y0e="[object Uint8Array]",J0e="[object Uint8ClampedArray]",Q0e="[object Uint16Array]",Z0e="[object Uint32Array]",_r={};_r[V0e]=_r[G0e]=_r[q0e]=_r[K0e]=_r[X0e]=_r[Y0e]=_r[J0e]=_r[Q0e]=_r[Z0e]=!0;_r[A0e]=_r[O0e]=_r[W0e]=_r[P0e]=_r[H0e]=_r[R0e]=_r[I0e]=_r[D0e]=_r[M0e]=_r[$0e]=_r[F0e]=_r[L0e]=_r[B0e]=_r[U0e]=_r[z0e]=!1;function eme(e){return j0e(e)&&C0e(e.length)&&!!_r[N0e(e)]}var tme=eme;function rme(e){return function(t){return e(t)}}var uU=rme,ey={exports:{}};ey.exports;(function(e,t){var r=v7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o})(ey,ey.exports);var nme=ey.exports,ame=tme,sme=uU,tR=nme,rR=tR&&tR.isTypedArray,ime=rR?sme(rR):ame,dU=ime,ome=u0e,lme=QN,cme=Ra,ume=cU,dme=ZN,fme=dU,hme=Object.prototype,pme=hme.hasOwnProperty;function mme(e,t){var r=cme(e),n=!r&&lme(e),a=!r&&!n&&ume(e),s=!r&&!n&&!a&&fme(e),i=r||n||a||s,o=i?ome(e.length,String):[],c=o.length;for(var u in e)(t||pme.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dme(u,c)))&&o.push(u);return o}var gme=mme,vme=Object.prototype;function xme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vme;return e===r}var yme=xme;function bme(e,t){return function(r){return e(t(r))}}var fU=bme,wme=fU,_me=wme(Object.keys,Object),Sme=_me,kme=yme,Eme=Sme,Tme=Object.prototype,Nme=Tme.hasOwnProperty;function Cme(e){if(!kme(e))return Eme(e);var t=[];for(var r in Object(e))Nme.call(e,r)&&r!="constructor"&&t.push(r);return t}var jme=Cme,Ame=DN,Ome=eC;function Pme(e){return e!=null&&Ome(e.length)&&!Ame(e)}var zm=Pme,Rme=gme,Ime=jme,Dme=zm;function Mme(e){return Dme(e)?Rme(e):Ime(e)}var Nb=Mme,$me=Qpe,Fme=l0e,Lme=Nb;function Bme(e){return $me(e,Lme,Fme)}var Ume=Bme,nR=Ume,zme=1,Wme=Object.prototype,Hme=Wme.hasOwnProperty;function Vme(e,t,r,n,a,s){var i=r&zme,o=nR(e),c=o.length,u=nR(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=o[f];if(!(i?h in t:Hme.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=i;++f<c;){h=o[f];var y=e[h],b=t[h];if(n)var x=i?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(x===void 0?y===b||a(y,b,r,n,s):x)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var Gme=Vme,qme=bu,Kme=Hi,Xme=qme(Kme,"DataView"),Yme=Xme,Jme=bu,Qme=Hi,Zme=Jme(Qme,"Promise"),ege=Zme,tge=bu,rge=Hi,nge=tge(rge,"Set"),hU=nge,age=bu,sge=Hi,ige=age(sge,"WeakMap"),oge=ige,ck=Yme,uk=$N,dk=ege,fk=hU,hk=oge,pU=Ro,rh=y7,aR="[object Map]",lge="[object Object]",sR="[object Promise]",iR="[object Set]",oR="[object WeakMap]",lR="[object DataView]",cge=rh(ck),uge=rh(uk),dge=rh(dk),fge=rh(fk),hge=rh(hk),bc=pU;(ck&&bc(new ck(new ArrayBuffer(1)))!=lR||uk&&bc(new uk)!=aR||dk&&bc(dk.resolve())!=sR||fk&&bc(new fk)!=iR||hk&&bc(new hk)!=oR)&&(bc=function(e){var t=pU(e),r=t==lge?e.constructor:void 0,n=r?rh(r):"";if(n)switch(n){case cge:return lR;case uge:return aR;case dge:return sR;case fge:return iR;case hge:return oR}return t});var pge=bc,f_=rU,mge=iU,gge=qpe,vge=Gme,cR=pge,uR=Ra,dR=cU,xge=dU,yge=1,fR="[object Arguments]",hR="[object Array]",Gg="[object Object]",bge=Object.prototype,pR=bge.hasOwnProperty;function wge(e,t,r,n,a,s){var i=uR(e),o=uR(t),c=i?hR:cR(e),u=o?hR:cR(t);c=c==fR?Gg:c,u=u==fR?Gg:u;var d=c==Gg,f=u==Gg,h=c==u;if(h&&dR(e)){if(!dR(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new f_),i||xge(e)?mge(e,t,r,n,a,s):gge(e,t,c,r,n,a,s);if(!(r&yge)){var p=d&&pR.call(e,"__wrapped__"),g=f&&pR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return s||(s=new f_),a(m,v,r,n,s)}}return h?(s||(s=new f_),vge(e,t,r,n,a,s)):!1}var _ge=wge,Sge=_ge,mR=Io;function mU(e,t,r,n,a){return e===t?!0:e==null||t==null||!mR(e)&&!mR(t)?e!==e&&t!==t:Sge(e,t,r,n,mU,a)}var tC=mU,kge=rU,Ege=tC,Tge=1,Nge=2;function Cge(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var o=r[a];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<s;){o=r[a];var c=o[0],u=e[c],d=o[1];if(i&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new kge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Ege(d,u,Tge|Nge,n,f):h))return!1}}return!0}var jge=Cge,Age=tc;function Oge(e){return e===e&&!Age(e)}var gU=Oge,Pge=gU,Rge=Nb;function Ige(e){for(var t=Rge(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Pge(a)]}return t}var Dge=Ige;function Mge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var vU=Mge,$ge=jge,Fge=Dge,Lge=vU;function Bge(e){var t=Fge(e);return t.length==1&&t[0][2]?Lge(t[0][0],t[0][1]):function(r){return r===e||$ge(r,e,t)}}var Uge=Bge;function zge(e,t){return e!=null&&t in Object(e)}var Wge=zge,Hge=k7,Vge=QN,Gge=Ra,qge=ZN,Kge=eC,Xge=fb;function Yge(e,t,r){t=Hge(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=Xge(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Kge(a)&&qge(i,a)&&(Gge(e)||Vge(e)))}var Jge=Yge,Qge=Wge,Zge=Jge;function eve(e,t){return e!=null&&Zge(e,t,Qge)}var tve=eve,rve=tC,nve=E7,ave=tve,sve=IN,ive=gU,ove=vU,lve=fb,cve=1,uve=2;function dve(e,t){return sve(e)&&ive(t)?ove(lve(e),t):function(r){var n=nve(r,e);return n===void 0&&n===t?ave(r,e):rve(t,n,cve|uve)}}var fve=dve;function hve(e){return e}var nh=hve;function pve(e){return function(t){return t==null?void 0:t[e]}}var mve=pve,gve=UN;function vve(e){return function(t){return gve(t,e)}}var xve=vve,yve=mve,bve=xve,wve=IN,_ve=fb;function Sve(e){return wve(e)?yve(_ve(e)):bve(e)}var kve=Sve,Eve=Uge,Tve=fve,Nve=nh,Cve=Ra,jve=kve;function Ave(e){return typeof e=="function"?e:e==null?Nve:typeof e=="object"?Cve(e)?Tve(e[0],e[1]):Eve(e):jve(e)}var rc=Ave;function Ove(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var xU=Ove;function Pve(e){return e!==e}var Rve=Pve;function Ive(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Dve=Ive,Mve=xU,$ve=Rve,Fve=Dve;function Lve(e,t,r){return t===t?Fve(e,t,r):Mve(e,$ve,r)}var Bve=Lve,Uve=Bve;function zve(e,t){var r=e==null?0:e.length;return!!r&&Uve(e,t,0)>-1}var Wve=zve;function Hve(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Vve=Hve;function Gve(){}var qve=Gve,h_=hU,Kve=qve,Xve=JN,Yve=1/0,Jve=h_&&1/Xve(new h_([,-0]))[1]==Yve?function(e){return new h_(e)}:Kve,Qve=Jve,Zve=nU,exe=Wve,txe=Vve,rxe=sU,nxe=Qve,axe=JN,sxe=200;function ixe(e,t,r){var n=-1,a=exe,s=e.length,i=!0,o=[],c=o;if(r)i=!1,a=txe;else if(s>=sxe){var u=t?null:nxe(e);if(u)return axe(u);i=!1,a=rxe,c=new Zve}else c=t?[]:o;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(d)}else a(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var oxe=ixe,lxe=rc,cxe=oxe;function uxe(e,t){return e&&e.length?cxe(e,lxe(t)):[]}var dxe=uxe;const gR=dr(dxe);function yU(e,t,r){return t===!0?gR(e,r):Ot(t)?gR(e,t):e}function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}var fxe=["ref"];function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){Cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wU(n.key),n)}}function pxe(e,t,r){return t&&xR(e.prototype,t),r&&xR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxe(e,t,r){return t=ty(t),gxe(e,bU()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function gxe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vxe(e)}function vxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bU=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function xxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(e,t)}function Cb(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=yxe(e,"string");return cf(t)=="symbol"?t:t+""}function yxe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bxe(e,t){if(e==null)return{};var r=wxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _xe(e){return e.value}function Sxe(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var r=bxe(t,fxe);return U.createElement(YN,r)}var yR=1,Ad=function(e){function t(){var r;hxe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mxe(this,t,[].concat(a)),Cb(r,"lastBoundingBox",{width:-1,height:-1}),r}return xxe(t,e),pxe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yR||Math.abs(a.height-this.lastBoundingBox.height)>yR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ji({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ji(Ji({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ji(Ji({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Sxe(s,Ji(Ji({},this.props),{},{payload:yU(d,u,_xe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ji(Ji({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&Fe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);Cb(Ad,"displayName","Legend");Cb(Ad,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bR=Um,kxe=QN,Exe=Ra,wR=bR?bR.isConcatSpreadable:void 0;function Txe(e){return Exe(e)||kxe(e)||!!(wR&&e&&e[wR])}var Nxe=Txe,Cxe=oU,jxe=Nxe;function _U(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=jxe),a||(a=[]);++s<i;){var o=e[s];t>0&&r(o)?t>1?_U(o,t-1,r,n,a):Cxe(a,o):n||(a[a.length]=o)}return a}var SU=_U;function Axe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var c=i[e?o:++a];if(r(s[c],c,s)===!1)break}return t}}var Oxe=Axe,Pxe=Oxe,Rxe=Pxe(),Ixe=Rxe,Dxe=Ixe,Mxe=Nb;function $xe(e,t){return e&&Dxe(e,t,Mxe)}var kU=$xe,Fxe=zm;function Lxe(e,t){return function(r,n){if(r==null)return r;if(!Fxe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var Bxe=Lxe,Uxe=kU,zxe=Bxe,Wxe=zxe(Uxe),rC=Wxe,Hxe=rC,Vxe=zm;function Gxe(e,t){var r=-1,n=Vxe(e)?Array(e.length):[];return Hxe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var EU=Gxe;function qxe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Kxe=qxe,_R=Kf;function Xxe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=_R(e),i=t!==void 0,o=t===null,c=t===t,u=_R(t);if(!o&&!u&&!s&&e>t||s&&i&&c&&!o&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||o&&r&&a||!i&&a||!c)return-1}return 0}var Yxe=Xxe,Jxe=Yxe;function Qxe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,o=r.length;++n<i;){var c=Jxe(a[n],s[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Zxe=Qxe,p_=BN,eye=UN,tye=rc,rye=EU,nye=Kxe,aye=uU,sye=Zxe,iye=nh,oye=Ra;function lye(e,t,r){t.length?t=p_(t,function(s){return oye(s)?function(i){return eye(i,s.length===1?s[0]:s)}:s}):t=[iye];var n=-1;t=p_(t,aye(tye));var a=rye(e,function(s,i,o){var c=p_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return nye(a,function(s,i){return sye(s,i,r)})}var cye=lye;function uye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var dye=uye,fye=dye,SR=Math.max;function hye(e,t,r){return t=SR(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=SR(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(i),fye(e,this,o)}}var pye=hye;function mye(e){return function(){return e}}var gye=mye,vye=bu,xye=function(){try{var e=vye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TU=xye,yye=gye,kR=TU,bye=nh,wye=kR?function(e,t){return kR(e,"toString",{configurable:!0,enumerable:!1,value:yye(t),writable:!0})}:bye,_ye=wye,Sye=800,kye=16,Eye=Date.now;function Tye(e){var t=0,r=0;return function(){var n=Eye(),a=kye-(n-r);if(r=n,a>0){if(++t>=Sye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Nye=Tye,Cye=_ye,jye=Nye,Aye=jye(Cye),Oye=Aye,Pye=nh,Rye=pye,Iye=Oye;function Dye(e,t){return Iye(Rye(e,t,Pye),e+"")}var Mye=Dye,$ye=MN,Fye=zm,Lye=ZN,Bye=tc;function Uye(e,t,r){if(!Bye(r))return!1;var n=typeof t;return(n=="number"?Fye(r)&&Lye(t,r.length):n=="string"&&t in r)?$ye(r[t],e):!1}var jb=Uye,zye=SU,Wye=cye,Hye=Mye,ER=jb,Vye=Hye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ER(e,t[0],t[1])?t=[]:r>2&&ER(t[0],t[1],t[2])&&(t=[t[0]]),Wye(e,zye(t,1),[])}),Gye=Vye;const nC=dr(Gye);function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mk.apply(this,arguments)}function qye(e,t){return Jye(e)||Yye(e,t)||Xye(e,t)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(e,t){if(e){if(typeof e=="string")return TR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(e,t)}}function TR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function Jye(e){if(Array.isArray(e))return e}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){Qye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qye(e,t,r){return t=Zye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zye(e){var t=e1e(e,"string");return N0(t)=="symbol"?t:t+""}function e1e(e,t){if(N0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t1e(e){return Array.isArray(e)&&yn(e[0])&&yn(e[1])?e.join(" ~ "):e}var r1e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,o=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(d&&d.length){var j={padding:0,margin:0},R=(h?nC(d,h):d).map(function(I,M){if(I.type==="none")return null;var W=m_({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},o),K=I.formatter||f||t1e,H=I.value,O=I.name,Z=H,J=O;if(K&&Z!=null&&J!=null){var P=K(H,O,I,M,d);if(Array.isArray(P)){var G=qye(P,2);Z=G[0],J=G[1]}else Z=P}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:W},yn(J)?U.createElement("span",{className:"recharts-tooltip-item-name"},J):null,yn(J)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},Z),U.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:j},R)}return null},_=m_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=m_({margin:0},u),E=!Mt(m),k=E?m:"",N=Ut("recharts-default-tooltip",p),T=Ut("recharts-tooltip-label",g);E&&v&&d!==void 0&&d!==null&&(k=v(m,d));var A=b?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",mk({className:N,style:_},A),U.createElement("p",{className:T,style:S},U.isValidElement(k)?k:"".concat(k)),x())};function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function qg(e,t,r){return t=n1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1e(e){var t=a1e(e,"string");return C0(t)=="symbol"?t:t+""}function a1e(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rh="recharts-tooltip-wrapper",s1e={visibility:"hidden"};function i1e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ut(Rh,qg(qg(qg(qg({},"".concat(Rh,"-right"),Fe(r)&&t&&Fe(t.x)&&r>=t.x),"".concat(Rh,"-left"),Fe(r)&&t&&Fe(t.x)&&r<t.x),"".concat(Rh,"-bottom"),Fe(n)&&t&&Fe(t.y)&&n>=t.y),"".concat(Rh,"-top"),Fe(n)&&t&&Fe(t.y)&&n<t.y))}function CR(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Fe(s[n]))return s[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+o,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function o1e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function l1e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=CR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=CR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=o1e({translateX:d,translateY:f,useTranslate3d:o})):u=s1e,{cssProperties:u,cssClasses:i1e({translateX:d,translateY:f,coordinate:r})}}function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CU(n.key),n)}}function d1e(e,t,r){return t&&u1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f1e(e,t,r){return t=ry(t),h1e(e,NU()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function h1e(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(e)}function p1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NU=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function m1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gk(e,t)}function vk(e,t,r){return t=CU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=g1e(e,"string");return uf(t)=="symbol"?t:t+""}function g1e(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OR=1,v1e=function(e){function t(){var r;c1e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=f1e(this,t,[].concat(a)),vk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),vk(r,"handleKeyDown",function(i){if(i.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return m1e(t,e),d1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>OR||Math.abs(n.height-this.state.lastBoundingBox.height)>OR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,x=l1e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=x.cssClasses,S=x.cssProperties,E=AR(AR({transition:h&&s?"transform ".concat(o,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return U.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(N){n.wrapperNode=N}},u)}}])}(w.PureComponent),x1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ci={isSsr:x1e(),get:function(t){return Ci[t]},set:function(t,r){if(typeof t=="string")Ci[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ci[a]=t[a]})}}};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){aC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AU(n.key),n)}}function w1e(e,t,r){return t&&b1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _1e(e,t,r){return t=ny(t),S1e(e,jU()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function S1e(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(e)}function k1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function E1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(e,t)}function aC(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=T1e(e,"string");return df(t)=="symbol"?t:t+""}function T1e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1e(e){return e.dataKey}function C1e(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(r1e,t)}var Ba=function(e){function t(){return y1e(this,t),_1e(this,t,arguments)}return E1e(t,e),w1e(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=yU(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,N1e));var E=S.length>0;return U.createElement(v1e,{allowEscapeViewBox:i,animationDuration:o,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:E,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:_},C1e(u,RR(RR({},this.props),{},{payload:S})))}}])}(w.PureComponent);aC(Ba,"displayName","Tooltip");aC(Ba,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ci.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var j1e=Hi,A1e=function(){return j1e.Date.now()},O1e=A1e,P1e=/\s/;function R1e(e){for(var t=e.length;t--&&P1e.test(e.charAt(t)););return t}var I1e=R1e,D1e=I1e,M1e=/^\s+/;function $1e(e){return e&&e.slice(0,D1e(e)+1).replace(M1e,"")}var F1e=$1e,L1e=F1e,IR=tc,B1e=Kf,DR=NaN,U1e=/^[-+]0x[0-9a-f]+$/i,z1e=/^0b[01]+$/i,W1e=/^0o[0-7]+$/i,H1e=parseInt;function V1e(e){if(typeof e=="number")return e;if(B1e(e))return DR;if(IR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=IR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=L1e(e);var r=z1e.test(e);return r||W1e.test(e)?H1e(e.slice(2),r?2:8):U1e.test(e)?DR:+e}var OU=V1e,G1e=tc,g_=O1e,MR=OU,q1e="Expected a function",K1e=Math.max,X1e=Math.min;function Y1e(e,t,r){var n,a,s,i,o,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(q1e);t=MR(t)||0,G1e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?K1e(MR(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(E){var k=n,N=a;return n=a=void 0,u=E,i=e.apply(N,k),i}function g(E){return u=E,o=setTimeout(y,t),d?p(E):i}function m(E){var k=E-c,N=E-u,T=t-k;return f?X1e(T,s-N):T}function v(E){var k=E-c,N=E-u;return c===void 0||k>=t||k<0||f&&N>=s}function y(){var E=g_();if(v(E))return b(E);o=setTimeout(y,m(E))}function b(E){return o=void 0,h&&n?p(E):(n=a=void 0,i)}function x(){o!==void 0&&clearTimeout(o),u=0,n=c=a=o=void 0}function _(){return o===void 0?i:b(g_())}function S(){var E=g_(),k=v(E);if(n=arguments,a=this,c=E,k){if(o===void 0)return g(c);if(f)return clearTimeout(o),o=setTimeout(y,t),p(c)}return o===void 0&&(o=setTimeout(y,t)),i}return S.cancel=x,S.flush=_,S}var J1e=Y1e,Q1e=J1e,Z1e=tc,ebe="Expected a function";function tbe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ebe);return Z1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Q1e(e,t,{leading:n,maxWait:t,trailing:a})}var rbe=tbe;const PU=dr(rbe);function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t,r){return t=abe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=sbe(e,"string");return j0(t)=="symbol"?t:t+""}function sbe(e,t){if(j0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ibe(e,t){return ube(e)||cbe(e,t)||lbe(e,t)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(e,t){if(e){if(typeof e=="string")return FR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FR(e,t)}}function FR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function ube(e){if(Array.isArray(e))return e}var ay=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,x=e.style,_=x===void 0?{}:x,S=w.useRef(null),E=w.useRef();E.current=b,w.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=w.useState({containerWidth:a.width,containerHeight:a.height}),N=ibe(k,2),T=N[0],A=N[1],C=w.useCallback(function(R,I){A(function(M){var W=Math.round(R),K=Math.round(I);return M.containerWidth===W&&M.containerHeight===K?M:{containerWidth:W,containerHeight:K}})},[]);w.useEffect(function(){var R=function(O){var Z,J=O[0].contentRect,P=J.width,G=J.height;C(P,G),(Z=E.current)===null||Z===void 0||Z.call(E,P,G)};m>0&&(R=PU(R,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(R),M=S.current.getBoundingClientRect(),W=M.width,K=M.height;return C(W,K),I.observe(S.current),function(){I.disconnect()}},[C,m]);var j=w.useMemo(function(){var R=T.containerWidth,I=T.containerHeight;if(R<0||I<0)return null;po(jc(i)||jc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),po(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=jc(i)?R:i,W=jc(c)?I:c;r&&r>0&&(M?W=M/r:W&&(M=W*r),h&&W>h&&(W=h)),po(M>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,W,i,c,d,f,r);var K=!Array.isArray(p)&&ho(p.type).endsWith("Chart");return U.Children.map(p,function(H){return U.isValidElement(H)?w.cloneElement(H,Kg({width:M,height:W},K?{style:Kg({height:"100%",width:"100%",maxHeight:W,maxWidth:M},H.props.style)}:{})):H})},[r,p,c,h,f,d,T,i]);return U.createElement("div",{id:v?"".concat(v):void 0,className:Ut("recharts-responsive-container",y),style:Kg(Kg({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},j)}),RU=function(t){return null};RU.displayName="Cell";function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dbe(e,t,r){return t=fbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fbe(e){var t=hbe(e,"string");return A0(t)=="symbol"?t:t+""}function hbe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu={widthCache:{},cacheCount:0},pbe=2e3,mbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BR="recharts_measurement_span";function gbe(e){var t=yk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var kp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ci.isSsr)return{width:0,height:0};var n=gbe(r),a=JSON.stringify({text:t,copyStyle:n});if(zu.widthCache[a])return zu.widthCache[a];try{var s=document.getElementById(BR);s||(s=document.createElement("span"),s.setAttribute("id",BR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=yk(yk({},mbe),n);Object.assign(s.style,i),s.textContent="".concat(t);var o=s.getBoundingClientRect(),c={width:o.width,height:o.height};return zu.widthCache[a]=c,++zu.cacheCount>pbe&&(zu.cacheCount=0,zu.widthCache={}),c}catch{return{width:0,height:0}}},vbe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function sy(e,t){return wbe(e)||bbe(e,t)||ybe(e,t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(e,t){if(e){if(typeof e=="string")return UR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UR(e,t)}}function UR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function wbe(e){if(Array.isArray(e))return e}function _be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kbe(n.key),n)}}function Sbe(e,t,r){return t&&zR(e.prototype,t),r&&zR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kbe(e){var t=Ebe(e,"string");return O0(t)=="symbol"?t:t+""}function Ebe(e,t){if(O0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cbe=Object.keys(IU),hd="NaN";function jbe(e,t){return e*IU[t]}var Xg=function(){function e(t,r){_be(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Tbe.test(r)&&(this.num=NaN,this.unit=""),Cbe.includes(r)&&(this.num=jbe(t,r),this.unit="px")}return Sbe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Nbe.exec(r))!==null&&n!==void 0?n:[],s=sy(a,3),i=s[1],o=s[2];return new e(parseFloat(i),o??"")}}])}();function DU(e){if(e.includes(hd))return hd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=WR.exec(t))!==null&&r!==void 0?r:[],a=sy(n,4),s=a[1],i=a[2],o=a[3],c=Xg.parse(s??""),u=Xg.parse(o??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return hd;t=t.replace(WR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=HR.exec(t))!==null&&f!==void 0?f:[],p=sy(h,4),g=p[1],m=p[2],v=p[3],y=Xg.parse(g??""),b=Xg.parse(v??""),x=m==="+"?y.add(b):y.subtract(b);if(x.isNaN())return hd;t=t.replace(HR,x.toString())}return t}var VR=/\(([^()]*)\)/;function Abe(e){for(var t=e;t.includes("(");){var r=VR.exec(t),n=sy(r,2),a=n[1];t=t.replace(VR,DU(a))}return t}function Obe(e){var t=e.replace(/\s+/g,"");return t=Abe(t),t=DU(t),t}function Pbe(e){try{return Obe(e)}catch{return hd}}function v_(e){var t=Pbe(e.slice(5,-1));return t===hd?"":t}var Rbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ibe=["dx","dy","angle","className","breakAll"];function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}function GR(e,t){if(e==null)return{};var r=Dbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qR(e,t){return Lbe(e)||Fbe(e,t)||$be(e,t)||Mbe()}function Mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $be(e,t){if(e){if(typeof e=="string")return KR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KR(e,t)}}function KR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function Lbe(e){if(Array.isArray(e))return e}var MU=/[ \f\n\r\t\v\u2028\u2029]+/,$U=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Mt(r)||(n?s=r.toString().split(""):s=r.toString().split(MU));var i=s.map(function(c){return{word:c,width:kp(c,a).width}}),o=n?0:kp("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Bbe=function(t,r,n,a,s){var i=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=Fe(i),f=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(W,K){var H=K.word,O=K.width,Z=W[W.length-1];if(Z&&(a==null||s||Z.width+O+n<Number(a)))Z.words.push(H),Z.width+=O+n;else{var J={words:[H],width:O};W.push(J)}return W},[])},p=h(r),g=function(M){return M.reduce(function(W,K){return W.width>K.width?W:K})};if(!d)return p;for(var m="",v=function(M){var W=f.slice(0,M),K=$U({breakAll:u,style:c,children:W+m}).wordsWithComputedWidth,H=h(K),O=H.length>i||g(H).width>Number(a);return[O,H]},y=0,b=f.length-1,x=0,_;y<=b&&x<=f.length-1;){var S=Math.floor((y+b)/2),E=S-1,k=v(E),N=qR(k,2),T=N[0],A=N[1],C=v(S),j=qR(C,1),R=j[0];if(!T&&!R&&(y=S+1),T&&R&&(b=S-1),!T&&R){_=A;break}x++}return _||p},XR=function(t){var r=Mt(t)?[]:t.toString().split(MU);return[{words:r}]},Ube=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,o=t.maxLines;if((r||n)&&!Ci.isSsr){var c,u,d=$U({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return XR(a);return Bbe({breakAll:i,children:a,maxLines:o,style:s},c,u,r,n)}return XR(a)},YR="#808080",iy=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,o=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?YR:v,b=GR(t,Rbe),x=w.useMemo(function(){return Ube({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,E=b.angle,k=b.className,N=b.breakAll,T=GR(b,Ibe);if(!yn(n)||!yn(s))return null;var A=n+(Fe(_)?_:0),C=s+(Fe(S)?S:0),j;switch(m){case"start":j=v_("calc(".concat(u,")"));break;case"middle":j=v_("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:j=v_("calc(".concat(x.length-1," * -").concat(o,")"));break}var R=[];if(f){var I=x[0].width,M=b.width;R.push("scale(".concat((Fe(M)?M/I:1)/I,")"))}return E&&R.push("rotate(".concat(E,", ").concat(A,", ").concat(C,")")),R.length&&(T.transform=R.join(" ")),U.createElement("text",bk({},Rt(T,!0),{x:A,y:C,className:Ut("recharts-text",k),textAnchor:p,fill:y.includes("url")?YR:y}),x.map(function(W,K){var H=W.words.join(N?"":" ");return U.createElement("tspan",{x:A,dy:K===0?j:o,key:"".concat(H,"-").concat(K)},H)}))};function Al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sC(e){let t,r,n;e.length!==2?(t=Al,r=(o,c)=>Al(e(o),c),n=(o,c)=>e(o)-c):(t=e===Al||e===zbe?e:Wbe,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:i,right:s}}function Wbe(){return 0}function FU(e){return e===null?NaN:+e}function*Hbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Vbe=sC(Al),Wm=Vbe.right;sC(FU).center;class JR extends Map{constructor(t,r=Kbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(QR(this,t))}has(t){return super.has(QR(this,t))}set(t,r){return super.set(Gbe(this,t),r)}delete(t){return super.delete(qbe(this,t))}}function QR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Gbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Kbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xbe(e=Al){if(e===Al)return LU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function LU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ybe=Math.sqrt(50),Jbe=Math.sqrt(10),Qbe=Math.sqrt(2);function oy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=Ybe?10:s>=Jbe?5:s>=Qbe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/i,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?oy(e,t,r*2):[o,c,u]}function wk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?oy(t,e,r):oy(e,t,r);if(!(s>=a))return[];const o=s-a+1,c=new Array(o);if(n)if(i<0)for(let u=0;u<o;++u)c[u]=(s-u)/-i;else for(let u=0;u<o;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<o;++u)c[u]=(a+u)/-i;else for(let u=0;u<o;++u)c[u]=(a+u)*i;return c}function _k(e,t,r){return t=+t,e=+e,r=+r,oy(e,t,r)[2]}function Sk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?_k(t,e,r):_k(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ZR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function e4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BU(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?LU:Xbe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));BU(e,t,p,g,a)}const s=e[t];let i=r,o=n;for(Ih(e,r,t),a(e[n],s)>0&&Ih(e,r,n);i<o;){for(Ih(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?Ih(e,r,o):(++o,Ih(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ih(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Zbe(e,t,r){if(e=Float64Array.from(Hbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return e4(e);if(t>=1)return ZR(e);var n,a=(n-1)*t,s=Math.floor(a),i=ZR(BU(e,s).subarray(0,s+1)),o=e4(e.subarray(s+1));return i+(o-i)*(a-s)}}function ewe(e,t,r=FU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function twe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ss(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Do(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kk=Symbol("implicit");function iC(){var e=new JR,t=[],r=[],n=kk;function a(s){let i=e.get(s);if(i===void 0){if(n!==kk)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new JR;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return iC(t,r).unknown(n)},Ss.apply(a,arguments),a}function P0(){var e=iC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;s=(m-g)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*d,i=s*(1-c),o&&(g=Math.round(g),i=Math.round(i));var v=twe(h).map(function(y){return g+s*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return P0(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Ss.apply(f(),arguments)}function UU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UU(t())},e}function Ep(){return UU(P0.apply(null,arguments).paddingInner(1))}function oC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hm(){}var R0=.7,ly=1/R0,Od="\\s*([+-]?\\d+)\\s*",I0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rwe=/^#([0-9a-f]{3,8})$/,nwe=new RegExp(`^rgb\\(${Od},${Od},${Od}\\)$`),awe=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),swe=new RegExp(`^rgba\\(${Od},${Od},${Od},${I0}\\)$`),iwe=new RegExp(`^rgba\\(${ji},${ji},${ji},${I0}\\)$`),owe=new RegExp(`^hsl\\(${I0},${ji},${ji}\\)$`),lwe=new RegExp(`^hsla\\(${I0},${ji},${ji},${I0}\\)$`),t4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oC(Hm,D0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:r4,formatHex:r4,formatHex8:cwe,formatHsl:uwe,formatRgb:n4,toString:n4});function r4(){return this.rgb().formatHex()}function cwe(){return this.rgb().formatHex8()}function uwe(){return WU(this).formatHsl()}function n4(){return this.rgb().formatRgb()}function D0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?a4(t):r===3?new Ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nwe.exec(e))?new Ca(t[1],t[2],t[3],1):(t=awe.exec(e))?new Ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=swe.exec(e))?Yg(t[1],t[2],t[3],t[4]):(t=iwe.exec(e))?Yg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=owe.exec(e))?o4(t[1],t[2]/100,t[3]/100,1):(t=lwe.exec(e))?o4(t[1],t[2]/100,t[3]/100,t[4]):t4.hasOwnProperty(e)?a4(t4[e]):e==="transparent"?new Ca(NaN,NaN,NaN,0):null}function a4(e){return new Ca(e>>16&255,e>>8&255,e&255,1)}function Yg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ca(e,t,r,n)}function dwe(e){return e instanceof Hm||(e=D0(e)),e?(e=e.rgb(),new Ca(e.r,e.g,e.b,e.opacity)):new Ca}function Ek(e,t,r,n){return arguments.length===1?dwe(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}oC(Ca,Ek,zU(Hm,{brighter(e){return e=e==null?ly:Math.pow(ly,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?R0:Math.pow(R0,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ca(Vc(this.r),Vc(this.g),Vc(this.b),cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s4,formatHex:s4,formatHex8:fwe,formatRgb:i4,toString:i4}));function s4(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function fwe(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function i4(){const e=cy(this.opacity);return`${e===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${e===1?")":`, ${e})`}`}function cy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ac(e){return e=Vc(e),(e<16?"0":"")+e.toString(16)}function o4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gs(e,t,r,n)}function WU(e){if(e instanceof Gs)return new Gs(e.h,e.s,e.l,e.opacity);if(e instanceof Hm||(e=D0(e)),!e)return new Gs;if(e instanceof Gs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,c=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=c<.5?s+a:2-s-a,i*=60):o=c>0&&c<1?0:i,new Gs(i,o,c,e.opacity)}function hwe(e,t,r,n){return arguments.length===1?WU(e):new Gs(e,t,r,n??1)}function Gs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}oC(Gs,hwe,zU(Hm,{brighter(e){return e=e==null?ly:Math.pow(ly,e),new Gs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?R0:Math.pow(R0,e),new Gs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ca(x_(e>=240?e-240:e+120,a,n),x_(e,a,n),x_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Gs(l4(this.h),Jg(this.s),Jg(this.l),cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cy(this.opacity);return`${e===1?"hsl(":"hsla("}${l4(this.h)}, ${Jg(this.s)*100}%, ${Jg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l4(e){return e=(e||0)%360,e<0?e+360:e}function Jg(e){return Math.max(0,Math.min(1,e||0))}function x_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lC=e=>()=>e;function pwe(e,t){return function(r){return e+r*t}}function mwe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gwe(e){return(e=+e)==1?HU:function(t,r){return r-t?mwe(t,r,e):lC(isNaN(t)?r:t)}}function HU(e,t){var r=t-e;return r?pwe(e,r):lC(isNaN(e)?t:e)}const c4=function e(t){var r=gwe(t);function n(a,s){var i=r((a=Ek(a)).r,(s=Ek(s)).r),o=r(a.g,s.g),c=r(a.b,s.b),u=HU(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function vwe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function xwe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ywe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=ah(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function bwe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wwe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ah(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Tk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y_=new RegExp(Tk.source,"g");function _we(e){return function(){return e}}function Swe(e){return function(t){return e(t)+""}}function kwe(e,t){var r=Tk.lastIndex=y_.lastIndex=0,n,a,s,i=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Tk.exec(e))&&(a=y_.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,c.push({i,x:uy(n,a)})),r=y_.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?c[0]?Swe(c[0].x):_we(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function ah(e,t){var r=typeof t,n;return t==null||r==="boolean"?lC(t):(r==="number"?uy:r==="string"?(n=D0(t))?(t=n,c4):kwe:t instanceof D0?c4:t instanceof Date?bwe:xwe(t)?vwe:Array.isArray(t)?ywe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wwe:uy)(e,t)}function cC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ewe(e,t){t===void 0&&(t=e,e=ah);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function Twe(e){return function(){return e}}function dy(e){return+e}var u4=[0,1];function pa(e){return e}function Nk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Twe(isNaN(t)?NaN:.5)}function Nwe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Cwe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Nk(a,n),s=r(i,s)):(n=Nk(n,a),s=r(s,i)),function(o){return s(n(o))}}function jwe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Nk(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var c=Wm(e,o,1,n)-1;return s[c](a[c](o))}}function Vm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ab(){var e=u4,t=u4,r=ah,n,a,s,i=pa,o,c,u;function d(){var h=Math.min(e.length,t.length);return i!==pa&&(i=Nwe(e[0],e[h-1])),o=h>2?jwe:Cwe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=o(t,e.map(n),uy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,dy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=cC,d()},f.clamp=function(h){return arguments.length?(i=h?!0:pa,d()):i!==pa},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function uC(){return Ab()(pa,pa)}function Awe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ff(e){return e=fy(Math.abs(e)),e?e[1]:NaN}function Owe(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function Pwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Rwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M0(e){if(!(t=Rwe.exec(e)))throw new Error("invalid format: "+e);var t;return new dC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}M0.prototype=dC.prototype;function dC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iwe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var VU;function Dwe(e,t){var r=fy(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(VU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fy(e,Math.max(0,t+s-1))[0]}function d4(e,t){var r=fy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const f4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Awe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>d4(e*100,t),r:d4,s:Dwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function h4(e){return e}var p4=Array.prototype.map,m4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mwe(e){var t=e.grouping===void 0||e.thousands===void 0?h4:Owe(p4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?h4:Pwe(p4.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=M0(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,x=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):f4[S]||(x===void 0&&(x=12),_=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var E=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=m==="$"?n:/[%p]/.test(S)?i:"",N=f4[S],T=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function A(C){var j=E,R=k,I,M,W;if(S==="c")R=N(C)+R,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?c:N(Math.abs(C),x),_&&(C=Iwe(C)),K&&+C==0&&g!=="+"&&(K=!1),j=(K?g==="("?g:o:g==="-"||g==="("?"":g)+j,R=(S==="s"?m4[8+VU/3]:"")+R+(K&&g==="("?")":""),T){for(I=-1,M=C.length;++I<M;)if(W=C.charCodeAt(I),48>W||W>57){R=(W===46?a+C.slice(I+1):C.slice(I))+R,C=C.slice(0,I);break}}}b&&!v&&(C=t(C,1/0));var H=j.length+C.length+R.length,O=H<y?new Array(y-H+1).join(h):"";switch(b&&v&&(C=t(O+C,O.length?y-R.length:1/0),O=""),p){case"<":C=j+C+R+O;break;case"=":C=j+O+C+R;break;case"^":C=O.slice(0,H=O.length>>1)+j+C+R+O.slice(H);break;default:C=O+j+C+R;break}return s(C)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=M0(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ff(h)/3)))*3,m=Math.pow(10,-g),v=m4[8+g/3];return function(y){return p(m*y)+v}}return{format:u,formatPrefix:d}}var Qg,fC,GU;$we({thousands:",",grouping:[3],currency:["$",""]});function $we(e){return Qg=Mwe(e),fC=Qg.format,GU=Qg.formatPrefix,Qg}function Fwe(e){return Math.max(0,-ff(Math.abs(e)))}function Lwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ff(t)/3)))*3-ff(Math.abs(e)))}function Bwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ff(t)-ff(e))+1}function qU(e,t,r,n){var a=Sk(e,t,r),s;switch(n=M0(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Lwe(a,i))&&(n.precision=s),GU(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Bwe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Fwe(a))&&(n.precision=s-(n.type==="%")*2);break}}return fC(n)}function nc(e){var t=e.domain;return e.ticks=function(r){var n=t();return wk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return qU(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],c,u,d=10;for(o<i&&(u=i,i=o,o=u,u=a,a=s,s=u);d-- >0;){if(u=_k(i,o,r),u===c)return n[a]=i,n[s]=o,t(n);if(u>0)i=Math.floor(i/u)*u,o=Math.ceil(o/u)*u;else if(u<0)i=Math.ceil(i*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function hy(){var e=uC();return e.copy=function(){return Vm(e,hy())},Ss.apply(e,arguments),nc(e)}function KU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,dy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KU(e).unknown(t)},e=arguments.length?Array.from(e,dy):[0,1],nc(r)}function XU(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function g4(e){return Math.log(e)}function v4(e){return Math.exp(e)}function Uwe(e){return-Math.log(-e)}function zwe(e){return-Math.exp(-e)}function Wwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hwe(e){return e===10?Wwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x4(e){return(t,r)=>-e(-t,r)}function hC(e){const t=e(g4,v4),r=t.domain;let n=10,a,s;function i(){return a=Vwe(n),s=Hwe(n),r()[0]<0?(a=x4(a),s=x4(s),e(Uwe,zwe)):e(g4,v4),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<v&&(y=wk(u,d,v))}else y=wk(h,p,Math.min(p-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=M0(c)).precision==null&&(c.trim=!0),c=fC(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(XU(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function YU(){const e=hC(Ab()).domain([1,10]);return e.copy=()=>Vm(e,YU()).base(e.base()),Ss.apply(e,arguments),e}function y4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function b4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pC(e){var t=1,r=e(y4(t),b4(t));return r.constant=function(n){return arguments.length?e(y4(t=+n),b4(t)):t},nc(r)}function JU(){var e=pC(Ab());return e.copy=function(){return Vm(e,JU()).constant(e.constant())},Ss.apply(e,arguments)}function w4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gwe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qwe(e){return e<0?-e*e:e*e}function mC(e){var t=e(pa,pa),r=1;function n(){return r===1?e(pa,pa):r===.5?e(Gwe,qwe):e(w4(r),w4(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},nc(t)}function gC(){var e=mC(Ab());return e.copy=function(){return Vm(e,gC()).exponent(e.exponent())},Ss.apply(e,arguments),e}function Kwe(){return gC.apply(null,arguments).exponent(.5)}function _4(e){return Math.sign(e)*e*e}function Xwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QU(){var e=uC(),t=[0,1],r=!1,n;function a(s){var i=Xwe(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(_4(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,dy)).map(_4)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return QU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ss.apply(a,arguments),nc(a)}function ZU(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=ewe(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Wm(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Al),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return ZU().domain(e).range(t).unknown(n)},Ss.apply(s,arguments)}function e9(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Wm(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return e9().domain([e,t]).range(a).unknown(s)},Ss.apply(nc(i),arguments)}function t9(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Wm(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return t9().domain(e).range(t).unknown(r)},Ss.apply(a,arguments)}const b_=new Date,w_=new Date;function Sn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const c=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return c;let u;do c.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<i);return c},a.filter=s=>Sn(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(b_.setTime(+s),w_.setTime(+i),e(b_),e(w_),Math.floor(r(b_,w_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const py=Sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);py.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):py);py.range;const io=1e3,ds=io*60,oo=ds*60,ko=oo*24,vC=ko*7,S4=ko*30,__=ko*365,Oc=Sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCSeconds());Oc.range;const xC=Sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io)},(e,t)=>{e.setTime(+e+t*ds)},(e,t)=>(t-e)/ds,e=>e.getMinutes());xC.range;const yC=Sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ds)},(e,t)=>(t-e)/ds,e=>e.getUTCMinutes());yC.range;const bC=Sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io-e.getMinutes()*ds)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getHours());bC.range;const wC=Sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCHours());wC.range;const Gm=Sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ds)/ko,e=>e.getDate()-1);Gm.range;const Ob=Sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ko,e=>e.getUTCDate()-1);Ob.range;const r9=Sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ko,e=>Math.floor(e/ko));r9.range;function wu(e){return Sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ds)/vC)}const Pb=wu(0),my=wu(1),Ywe=wu(2),Jwe=wu(3),hf=wu(4),Qwe=wu(5),Zwe=wu(6);Pb.range;my.range;Ywe.range;Jwe.range;hf.range;Qwe.range;Zwe.range;function _u(e){return Sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vC)}const Rb=_u(0),gy=_u(1),e_e=_u(2),t_e=_u(3),pf=_u(4),r_e=_u(5),n_e=_u(6);Rb.range;gy.range;e_e.range;t_e.range;pf.range;r_e.range;n_e.range;const _C=Sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_C.range;const SC=Sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SC.range;const Eo=Sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Eo.range;const To=Sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});To.range;function n9(e,t,r,n,a,s){const i=[[Oc,1,io],[Oc,5,5*io],[Oc,15,15*io],[Oc,30,30*io],[s,1,ds],[s,5,5*ds],[s,15,15*ds],[s,30,30*ds],[a,1,oo],[a,3,3*oo],[a,6,6*oo],[a,12,12*oo],[n,1,ko],[n,2,2*ko],[r,1,vC],[t,1,S4],[t,3,3*S4],[e,1,__]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=sC(([,,v])=>v).right(i,h);if(p===i.length)return e.every(Sk(u/__,d/__,f));if(p===0)return py.every(Math.max(Sk(u,d,f),1));const[g,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return g.every(m)}return[o,c]}const[a_e,s_e]=n9(To,SC,Rb,r9,wC,yC),[i_e,o_e]=n9(Eo,_C,Pb,Gm,bC,xC);function S_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function k_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function l_e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,c=e.shortMonths,u=Mh(a),d=$h(a),f=Mh(s),h=$h(s),p=Mh(i),g=$h(i),m=Mh(o),v=$h(o),y=Mh(c),b=$h(c),x={a:K,A:H,b:O,B:Z,c:null,d:j4,e:j4,f:O_e,g:U_e,G:W_e,H:C_e,I:j_e,j:A_e,L:a9,m:P_e,M:R_e,p:J,q:P,Q:P4,s:R4,S:I_e,u:D_e,U:M_e,V:$_e,w:F_e,W:L_e,x:null,X:null,y:B_e,Y:z_e,Z:H_e,"%":O4},_={a:G,A:B,b:z,B:ae,c:null,d:A4,e:A4,f:K_e,g:a2e,G:i2e,H:V_e,I:G_e,j:q_e,L:i9,m:X_e,M:Y_e,p:V,q:ie,Q:P4,s:R4,S:J_e,u:Q_e,U:Z_e,V:e2e,w:t2e,W:r2e,x:null,X:null,y:n2e,Y:s2e,Z:o2e,"%":O4},S={a:A,A:C,b:j,B:R,c:I,d:N4,e:N4,f:k_e,g:T4,G:E4,H:C4,I:C4,j:b_e,L:S_e,m:y_e,M:w_e,p:T,q:x_e,Q:T_e,s:N_e,S:__e,u:h_e,U:p_e,V:m_e,w:f_e,W:g_e,x:M,X:W,y:T4,Y:E4,Z:v_e,"%":E_e};x.x=E(r,x),x.X=E(n,x),x.c=E(t,x),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(re,L){return function(oe){var D=[],le=-1,ye=0,Se=re.length,_e,pe,Le;for(oe instanceof Date||(oe=new Date(+oe));++le<Se;)re.charCodeAt(le)===37&&(D.push(re.slice(ye,le)),(pe=k4[_e=re.charAt(++le)])!=null?_e=re.charAt(++le):pe=_e==="e"?" ":"0",(Le=L[_e])&&(_e=Le(oe,pe)),D.push(_e),ye=le+1);return D.push(re.slice(ye,le)),D.join("")}}function k(re,L){return function(oe){var D=Dh(1900,void 0,1),le=N(D,re,oe+="",0),ye,Se;if(le!=oe.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(L&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(ye=k_(Dh(D.y,0,1)),Se=ye.getUTCDay(),ye=Se>4||Se===0?gy.ceil(ye):gy(ye),ye=Ob.offset(ye,(D.V-1)*7),D.y=ye.getUTCFullYear(),D.m=ye.getUTCMonth(),D.d=ye.getUTCDate()+(D.w+6)%7):(ye=S_(Dh(D.y,0,1)),Se=ye.getDay(),ye=Se>4||Se===0?my.ceil(ye):my(ye),ye=Gm.offset(ye,(D.V-1)*7),D.y=ye.getFullYear(),D.m=ye.getMonth(),D.d=ye.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),Se="Z"in D?k_(Dh(D.y,0,1)).getUTCDay():S_(Dh(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(Se+5)%7:D.w+D.U*7-(Se+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,k_(D)):S_(D)}}function N(re,L,oe,D){for(var le=0,ye=L.length,Se=oe.length,_e,pe;le<ye;){if(D>=Se)return-1;if(_e=L.charCodeAt(le++),_e===37){if(_e=L.charAt(le++),pe=S[_e in k4?L.charAt(le++):_e],!pe||(D=pe(re,oe,D))<0)return-1}else if(_e!=oe.charCodeAt(D++))return-1}return D}function T(re,L,oe){var D=u.exec(L.slice(oe));return D?(re.p=d.get(D[0].toLowerCase()),oe+D[0].length):-1}function A(re,L,oe){var D=p.exec(L.slice(oe));return D?(re.w=g.get(D[0].toLowerCase()),oe+D[0].length):-1}function C(re,L,oe){var D=f.exec(L.slice(oe));return D?(re.w=h.get(D[0].toLowerCase()),oe+D[0].length):-1}function j(re,L,oe){var D=y.exec(L.slice(oe));return D?(re.m=b.get(D[0].toLowerCase()),oe+D[0].length):-1}function R(re,L,oe){var D=m.exec(L.slice(oe));return D?(re.m=v.get(D[0].toLowerCase()),oe+D[0].length):-1}function I(re,L,oe){return N(re,t,L,oe)}function M(re,L,oe){return N(re,r,L,oe)}function W(re,L,oe){return N(re,n,L,oe)}function K(re){return i[re.getDay()]}function H(re){return s[re.getDay()]}function O(re){return c[re.getMonth()]}function Z(re){return o[re.getMonth()]}function J(re){return a[+(re.getHours()>=12)]}function P(re){return 1+~~(re.getMonth()/3)}function G(re){return i[re.getUTCDay()]}function B(re){return s[re.getUTCDay()]}function z(re){return c[re.getUTCMonth()]}function ae(re){return o[re.getUTCMonth()]}function V(re){return a[+(re.getUTCHours()>=12)]}function ie(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var L=E(re+="",x);return L.toString=function(){return re},L},parse:function(re){var L=k(re+="",!1);return L.toString=function(){return re},L},utcFormat:function(re){var L=E(re+="",_);return L.toString=function(){return re},L},utcParse:function(re){var L=k(re+="",!0);return L.toString=function(){return re},L}}}var k4={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,c_e=/^%/,u_e=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function d_e(e){return e.replace(u_e,"\\$&")}function Mh(e){return new RegExp("^(?:"+e.map(d_e).join("|")+")","i")}function $h(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function f_e(e,t,r){var n=jn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function h_e(e,t,r){var n=jn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function p_e(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function m_e(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function g_e(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function E4(e,t,r){var n=jn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T4(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function v_e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function x_e(e,t,r){var n=jn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function y_e(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function N4(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function b_e(e,t,r){var n=jn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function C4(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function w_e(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function __e(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function S_e(e,t,r){var n=jn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function k_e(e,t,r){var n=jn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E_e(e,t,r){var n=c_e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function T_e(e,t,r){var n=jn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function N_e(e,t,r){var n=jn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function j4(e,t){return Zt(e.getDate(),t,2)}function C_e(e,t){return Zt(e.getHours(),t,2)}function j_e(e,t){return Zt(e.getHours()%12||12,t,2)}function A_e(e,t){return Zt(1+Gm.count(Eo(e),e),t,3)}function a9(e,t){return Zt(e.getMilliseconds(),t,3)}function O_e(e,t){return a9(e,t)+"000"}function P_e(e,t){return Zt(e.getMonth()+1,t,2)}function R_e(e,t){return Zt(e.getMinutes(),t,2)}function I_e(e,t){return Zt(e.getSeconds(),t,2)}function D_e(e){var t=e.getDay();return t===0?7:t}function M_e(e,t){return Zt(Pb.count(Eo(e)-1,e),t,2)}function s9(e){var t=e.getDay();return t>=4||t===0?hf(e):hf.ceil(e)}function $_e(e,t){return e=s9(e),Zt(hf.count(Eo(e),e)+(Eo(e).getDay()===4),t,2)}function F_e(e){return e.getDay()}function L_e(e,t){return Zt(my.count(Eo(e)-1,e),t,2)}function B_e(e,t){return Zt(e.getFullYear()%100,t,2)}function U_e(e,t){return e=s9(e),Zt(e.getFullYear()%100,t,2)}function z_e(e,t){return Zt(e.getFullYear()%1e4,t,4)}function W_e(e,t){var r=e.getDay();return e=r>=4||r===0?hf(e):hf.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function H_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function A4(e,t){return Zt(e.getUTCDate(),t,2)}function V_e(e,t){return Zt(e.getUTCHours(),t,2)}function G_e(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function q_e(e,t){return Zt(1+Ob.count(To(e),e),t,3)}function i9(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function K_e(e,t){return i9(e,t)+"000"}function X_e(e,t){return Zt(e.getUTCMonth()+1,t,2)}function Y_e(e,t){return Zt(e.getUTCMinutes(),t,2)}function J_e(e,t){return Zt(e.getUTCSeconds(),t,2)}function Q_e(e){var t=e.getUTCDay();return t===0?7:t}function Z_e(e,t){return Zt(Rb.count(To(e)-1,e),t,2)}function o9(e){var t=e.getUTCDay();return t>=4||t===0?pf(e):pf.ceil(e)}function e2e(e,t){return e=o9(e),Zt(pf.count(To(e),e)+(To(e).getUTCDay()===4),t,2)}function t2e(e){return e.getUTCDay()}function r2e(e,t){return Zt(gy.count(To(e)-1,e),t,2)}function n2e(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function a2e(e,t){return e=o9(e),Zt(e.getUTCFullYear()%100,t,2)}function s2e(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function i2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pf(e):pf.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function o2e(){return"+0000"}function O4(){return"%"}function P4(e){return+e}function R4(e){return Math.floor(+e/1e3)}var Wu,l9,c9;l2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l2e(e){return Wu=l_e(e),l9=Wu.format,Wu.parse,c9=Wu.utcFormat,Wu.utcParse,Wu}function c2e(e){return new Date(e)}function u2e(e){return e instanceof Date?+e:+new Date(+e)}function kC(e,t,r,n,a,s,i,o,c,u){var d=uC(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),x=u("%B"),_=u("%Y");function S(E){return(c(E)<E?p:o(E)<E?g:i(E)<E?m:s(E)<E?v:n(E)<E?a(E)<E?y:b:r(E)<E?x:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,u2e)):h().map(c2e)},d.ticks=function(E){var k=h();return e(k[0],k[k.length-1],E??10)},d.tickFormat=function(E,k){return k==null?S:u(k)},d.nice=function(E){var k=h();return(!E||typeof E.range!="function")&&(E=t(k[0],k[k.length-1],E??10)),E?h(XU(k,E)):d},d.copy=function(){return Vm(d,kC(e,t,r,n,a,s,i,o,c,u))},d}function d2e(){return Ss.apply(kC(i_e,o_e,Eo,_C,Pb,Gm,bC,xC,Oc,l9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f2e(){return Ss.apply(kC(a_e,s_e,To,SC,Rb,Ob,wC,yC,Oc,c9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ib(){var e=0,t=1,r,n,a,s,i=pa,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,i=f(p,g),u):[i(0),i(1)]}}return u.range=d(ah),u.rangeRound=d(cC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u9(){var e=nc(Ib()(pa));return e.copy=function(){return ac(e,u9())},Do.apply(e,arguments)}function d9(){var e=hC(Ib()).domain([1,10]);return e.copy=function(){return ac(e,d9()).base(e.base())},Do.apply(e,arguments)}function f9(){var e=pC(Ib());return e.copy=function(){return ac(e,f9()).constant(e.constant())},Do.apply(e,arguments)}function EC(){var e=mC(Ib());return e.copy=function(){return ac(e,EC()).exponent(e.exponent())},Do.apply(e,arguments)}function h2e(){return EC.apply(null,arguments).exponent(.5)}function h9(){var e=[],t=pa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Wm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Al),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Zbe(e,s/n))},r.copy=function(){return h9(t).domain(e)},Do.apply(r,arguments)}function Db(){var e=0,t=.5,r=1,n=1,a,s,i,o,c,u=pa,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?o:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),s=d(t=+t),i=d(r=+r),o=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,u=Ewe(m,[y,b,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(ah),p.rangeRound=g(cC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),s=m(t),i=m(r),o=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function p9(){var e=nc(Db()(pa));return e.copy=function(){return ac(e,p9())},Do.apply(e,arguments)}function m9(){var e=hC(Db()).domain([.1,1,10]);return e.copy=function(){return ac(e,m9()).base(e.base())},Do.apply(e,arguments)}function g9(){var e=pC(Db());return e.copy=function(){return ac(e,g9()).constant(e.constant())},Do.apply(e,arguments)}function TC(){var e=mC(Db());return e.copy=function(){return ac(e,TC()).exponent(e.exponent())},Do.apply(e,arguments)}function p2e(){return TC.apply(null,arguments).exponent(.5)}const I4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:P0,scaleDiverging:p9,scaleDivergingLog:m9,scaleDivergingPow:TC,scaleDivergingSqrt:p2e,scaleDivergingSymlog:g9,scaleIdentity:KU,scaleImplicit:kk,scaleLinear:hy,scaleLog:YU,scaleOrdinal:iC,scalePoint:Ep,scalePow:gC,scaleQuantile:ZU,scaleQuantize:e9,scaleRadial:QU,scaleSequential:u9,scaleSequentialLog:d9,scaleSequentialPow:EC,scaleSequentialQuantile:h9,scaleSequentialSqrt:h2e,scaleSequentialSymlog:f9,scaleSqrt:Kwe,scaleSymlog:JU,scaleThreshold:t9,scaleTime:d2e,scaleUtc:f2e,tickFormat:qU},Symbol.toStringTag,{value:"Module"}));var m2e=Kf;function g2e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(o===void 0?i===i&&!m2e(i):r(i,o)))var o=i,c=s}return c}var v9=g2e;function v2e(e,t){return e>t}var x2e=v2e,y2e=v9,b2e=x2e,w2e=nh;function _2e(e){return e&&e.length?y2e(e,w2e,b2e):void 0}var S2e=_2e;const ml=dr(S2e);function k2e(e,t){return e<t}var E2e=k2e,T2e=v9,N2e=E2e,C2e=nh;function j2e(e){return e&&e.length?T2e(e,C2e,N2e):void 0}var A2e=j2e;const Mb=dr(A2e);var O2e=BN,P2e=rc,R2e=EU,I2e=Ra;function D2e(e,t){var r=I2e(e)?O2e:R2e;return r(e,P2e(t))}var M2e=D2e,$2e=SU,F2e=M2e;function L2e(e,t){return $2e(F2e(e,t),1)}var B2e=L2e;const U2e=dr(B2e);var z2e=tC;function W2e(e,t){return z2e(e,t)}var H2e=W2e;const mf=dr(H2e);var sh=1e9,V2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CC,Nr=!0,ys="[DecimalError] ",Gc=ys+"Invalid argument: ",NC=ys+"Exponent out of range: ",ih=Math.floor,wc=Math.pow,G2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,kn=1e7,Sr=7,x9=9007199254740991,vy=ih(x9/Sr),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(e){return mo(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,r=t.constructor;return fr(mo(t,new r(e),0,1),r.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return rn(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ha))throw Error(ys+"NaN");if(r.s<1)throw Error(ys+(r.s?"NaN":"-Infinity"));return r.eq(Ha)?new n(0):(Nr=!1,t=mo($0(r,s),$0(e,s),s),Nr=!0,fr(t,a))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w9(t,e):y9(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ys+"NaN");return r.s?(Nr=!1,t=mo(r,e,0,1).times(e),Nr=!0,r.minus(t)):fr(new n(r),a)};Ze.naturalExponential=Ze.exp=function(){return b9(this)};Ze.naturalLogarithm=Ze.ln=function(){return $0(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y9(t,e):w9(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gc+e);if(t=rn(a)+1,n=a.d.length-1,r=n*Sr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ze.squareRoot=Ze.sqrt=function(){var e,t,r,n,a,s,i,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ys+"NaN")}for(e=rn(o),Nr=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=_i(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ih((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(mo(o,s,i+2)).times(.5),_i(s.d).slice(0,i)===(t=_i(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(fr(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Nr=!0,fr(n,r)};Ze.times=Ze.mul=function(e){var t,r,n,a,s,i,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%kn|0,t=o/kn|0;s[a]=(s[a]+t)%kn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Nr?fr(e,f.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Mi(e,0,sh),t===void 0?t=n.rounding:Mi(t,0,8),fr(r,e+rn(r)+1,t))};Ze.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ou(n,!0):(Mi(e,0,sh),t===void 0?t=a.rounding:Mi(t,0,8),n=fr(new a(n),e+1,t),r=ou(n,!0,e+1)),r};Ze.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ou(a):(Mi(e,0,sh),t===void 0?t=s.rounding:Mi(t,0,8),n=fr(new s(a),e+rn(a)+1,t),r=ou(n.abs(),!1,e+rn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return fr(new t(e),rn(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,r,n,a,s,i,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ha);if(o=new c(o),!o.s){if(e.s<1)throw Error(ys+"Infinity");return o}if(o.eq(Ha))return o;if(n=c.precision,e.eq(Ha))return fr(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=d<0?-d:d)<=x9){for(a=new c(Ha),t=Math.ceil(n/Sr+4),Nr=!1;r%2&&(a=a.times(o),M4(a.d,t)),r=ih(r/2),r!==0;)o=o.times(o),M4(o.d,t);return Nr=!0,e.s<0?new c(Ha).div(a):fr(a,n)}}else if(s<0)throw Error(ys+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Nr=!1,a=e.times($0(o,n+u)),Nr=!0,a=b9(a),a.s=s,a};Ze.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=rn(a),n=ou(a,r<=s.toExpNeg||r>=s.toExpPos)):(Mi(e,1,sh),t===void 0?t=s.rounding:Mi(t,0,8),a=fr(new s(a),e,t),r=rn(a),n=ou(a,e<=r||r<=s.toExpNeg,e)),n};Ze.toSignificantDigits=Ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Mi(e,1,sh),t===void 0?t=n.rounding:Mi(t,0,8)),fr(new n(r),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rn(e),r=e.constructor;return ou(e,t<=r.toExpNeg||t>=r.toExpPos)};function y9(e,t){var r,n,a,s,i,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Nr?fr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,a=i,o=c.length),i=Math.ceil(f/Sr),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/kn|0,c[s]%=kn;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Nr?fr(t,f):t}function Mi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gc+e)}function _i(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Sr-n.length,r&&(s+=Xo(r)),s+=n;i=e[t],n=i+"",r=Sr-n.length,r&&(s+=Xo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var mo=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%kn|0,i=s/kn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,c;if(s!=i)c=s>i?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*kn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,c,u,d,f,h,p,g,m,v,y,b,x,_,S,E,k,N,T=n.constructor,A=n.s==a.s?1:-1,C=n.d,j=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(ys+"Division by zero");for(c=n.e-a.e,k=j.length,S=C.length,p=new T(A),g=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--c,s==null?b=s=T.precision:i?b=s+(rn(n)-rn(a))+1:b=s,b<0)return new T(0);if(b=b/Sr+2|0,u=0,k==1)for(d=0,j=j[0],b++;(u<S||d)&&b--;u++)x=d*kn+(C[u]||0),g[u]=x/j|0,d=x%j|0;else{for(d=kn/(j[0]+1)|0,d>1&&(j=e(j,d),C=e(C,d),k=j.length,S=C.length),_=k,m=C.slice(0,k),v=m.length;v<k;)m[v++]=0;N=j.slice(),N.unshift(0),E=j[0],j[1]>=kn/2&&++E;do d=0,o=t(j,m,k,v),o<0?(y=m[0],k!=v&&(y=y*kn+(m[1]||0)),d=y/E|0,d>1?(d>=kn&&(d=kn-1),f=e(j,d),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(d--,r(f,k<h?N:j,h))):(d==0&&(o=d=1),f=j.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(j,m,k,v),o<1&&(d++,r(m,k<v?N:j,v))),v=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[v++]=C[_]||0:(m=[C[_]],v=1);while((_++<S||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,fr(p,i?s+rn(p)+1:s)}}();function b9(e,t){var r,n,a,s,i,o,c=0,u=0,d=e.constructor,f=d.precision;if(rn(e)>16)throw Error(NC+rn(e));if(!e.s)return new d(Ha);for(t==null?(Nr=!1,o=f):o=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(wc(2,u))/Math.LN10*2+5|0,o+=n,r=a=s=new d(Ha),d.precision=o;;){if(a=fr(a.times(e),o),r=r.times(++c),i=s.plus(mo(a,r,o)),_i(i.d).slice(0,o)===_i(s.d).slice(0,o)){for(;u--;)s=fr(s.times(s),o);return d.precision=f,t==null?(Nr=!0,fr(s,f)):s}s=i}}function rn(e){for(var t=e.e*Sr,r=e.d[0];r>=10;r/=10)t++;return t}function E_(e,t,r){if(t>e.LN10.sd())throw Nr=!0,r&&(e.precision=r),Error(ys+"LN10 precision limit exceeded");return fr(new e(e.LN10),t)}function Xo(e){for(var t="";e--;)t+="0";return t}function $0(e,t){var r,n,a,s,i,o,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(ys+(p.s?"NaN":"-Infinity"));if(p.eq(Ha))return new m(0);if(t==null?(Nr=!1,u=v):u=t,p.eq(10))return t==null&&(Nr=!0),E_(m,u);if(u+=h,m.precision=u,r=_i(g),n=r.charAt(0),s=rn(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=_i(p.d),n=r.charAt(0),f++;s=rn(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=E_(m,u+2,v).times(s+""),p=$0(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Nr=!0,fr(p,v)):p;for(o=i=p=mo(p.minus(Ha),p.plus(Ha),u),d=fr(p.times(p),u),a=3;;){if(i=fr(i.times(d),u),c=o.plus(mo(i,new m(a),u)),_i(c.d).slice(0,u)===_i(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(E_(m,u+2,v).times(s+""))),o=mo(o,new m(f),u),m.precision=v,t==null?(Nr=!0,fr(o,v)):o;o=c,a+=2}}function D4(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ih(r/Sr),e.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Sr;n<a;)e.d.push(+t.slice(n,n+=Sr));t=t.slice(n),n=Sr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Nr&&(e.e>vy||e.e<-vy))throw Error(NC+r)}else e.s=0,e.e=0,e.d=[0];return e}function fr(e,t,r){var n,a,s,i,o,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Sr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Sr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Sr,a=n-Sr+i}if(r!==void 0&&(s=wc(10,i-a-1),o=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/wc(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=rn(e),f.length=1,t=t-s-1,f[0]=wc(10,(Sr-t%Sr)%Sr),e.e=ih(-t/Sr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=wc(10,Sr-n),f[d]=a>0?(u/wc(10,i-a)%wc(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==kn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=kn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Nr&&(e.e>vy||e.e<-vy))throw Error(NC+rn(e));return e}function w9(e,t){var r,n,a,s,i,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Nr?fr(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/Sr),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=kn-1;--c[s],c[a]+=kn}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Nr?fr(t,p):t):new h(0)}function ou(e,t,r){var n,a=rn(e),s=_i(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Xo(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Xo(-a-1)+s,r&&(n=r-i)>0&&(s+=Xo(n))):a>=i?(s+=Xo(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Xo(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Xo(n))),e.s<0?"-"+s:s}function M4(e,t){if(e.length>t)return e.length=t,!0}function _9(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Gc+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return D4(i,s.toString())}else if(typeof s!="string")throw Error(Gc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,G2e.test(s))D4(i,s);else throw Error(Gc+s)}if(a.prototype=Ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_9,a.config=a.set=q2e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function q2e(e){if(!e||typeof e!="object")throw Error(ys+"Object expected");var t,r,n,a=["precision",1,sh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ih(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Gc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gc+r+": "+n);return this}var CC=_9(V2e);Ha=new CC(1);const ur=CC;function K2e(e){return Q2e(e)||J2e(e)||Y2e(e)||X2e()}function X2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(e,t){if(e){if(typeof e=="string")return Ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ck(e,t)}}function J2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Q2e(e){if(Array.isArray(e))return Ck(e)}function Ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z2e=function(t){return t},S9={"@@functional/placeholder":!0},k9=function(t){return t===S9},$4=function(t){return function r(){return arguments.length===0||arguments.length===1&&k9(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},eSe=function e(t,r){return t===1?r:$4(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(o){return o!==S9}).length;return i>=t?r.apply(void 0,a):e(t-i,$4(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=a.map(function(f){return k9(f)?c.shift():f});return r.apply(void 0,K2e(d).concat(c))}))})},$b=function(t){return eSe(t.length,t)},jk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},tSe=$b(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),rSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Z2e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(o,c){return c(o)},s.apply(void 0,arguments))}},Ak=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},E9=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(o,c){return o===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function nSe(e){var t;return e===0?t=1:t=Math.floor(new ur(e).abs().log(10).toNumber())+1,t}function aSe(e,t,r){for(var n=new ur(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var sSe=$b(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),iSe=$b(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),oSe=$b(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Fb={rangeStep:aSe,getDigitCount:nSe,interpolateNumber:sSe,uninterpolateNumber:iSe,uninterpolateTruncation:oSe};function Ok(e){return uSe(e)||cSe(e)||T9(e)||lSe()}function lSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uSe(e){if(Array.isArray(e))return Pk(e)}function F0(e,t){return hSe(e)||fSe(e,t)||T9(e,t)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fSe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),o;!(n=(o=i.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function hSe(e){if(Array.isArray(e))return e}function N9(e){var t=F0(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function C9(e,t,r){if(e.lte(0))return new ur(0);var n=Fb.getDigitCount(e.toNumber()),a=new ur(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new ur(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=o.mul(a);return t?c:new ur(Math.ceil(c))}function pSe(e,t,r){var n=1,a=new ur(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ur(10).pow(Fb.getDigitCount(e)-1),a=new ur(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ur(Math.floor(e)))}else e===0?a=new ur(Math.floor((t-1)/2)):r||(a=new ur(Math.floor(e)));var i=Math.floor((t-1)/2),o=rSe(tSe(function(c){return a.add(new ur(c-i).mul(n)).toNumber()}),jk);return o(0,t)}function j9(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ur(0),tickMin:new ur(0),tickMax:new ur(0)};var s=C9(new ur(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new ur(0):(i=new ur(e).add(t).div(2),i=i.sub(new ur(i).mod(s)));var o=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new ur(t).sub(i).div(s).toNumber()),u=o+c+1;return u>r?j9(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:s,tickMin:i.sub(new ur(o).mul(s)),tickMax:i.add(new ur(c).mul(s))})}function mSe(e){var t=F0(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),o=N9([r,n]),c=F0(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ok(jk(0,a-1).map(function(){return 1/0}))):[].concat(Ok(jk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Ak(f):f}if(u===d)return pSe(u,a,s);var h=j9(u,d,i,s),p=h.step,g=h.tickMin,m=h.tickMax,v=Fb.rangeStep(g,m.add(new ur(.1).mul(p)),p);return r>n?Ak(v):v}function gSe(e,t){var r=F0(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=N9([n,a]),o=F0(i,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=C9(new ur(u).sub(c).div(d-1),s,0),h=[].concat(Ok(Fb.rangeStep(new ur(c),new ur(u).sub(new ur(.99).mul(f)),f)),[u]);return n>a?Ak(h):h}var vSe=E9(mSe),xSe=E9(gSe),ySe="Invariant failed";function lu(e,t){throw new Error(ySe)}var bSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function wSe(e,t){return ESe(e)||kSe(e,t)||SSe(e,t)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(e,t){if(e){if(typeof e=="string")return F4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(e,t)}}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function ESe(e){if(Array.isArray(e))return e}function TSe(e,t){if(e==null)return{};var r=NSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P9(n.key),n)}}function ASe(e,t,r){return t&&jSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OSe(e,t,r){return t=yy(t),PSe(e,A9()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function PSe(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RSe(e)}function RSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A9=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function ISe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}function Rk(e,t){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rk(e,t)}function O9(e,t,r){return t=P9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=DSe(e,"string");return gf(t)=="symbol"?t:t+""}function DSe(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=function(e){function t(){return CSe(this,t),OSe(this,t,arguments)}return ISe(t,e),ASe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=TSe(n,bSe),p=Rt(h,!1);this.props.direction==="x"&&d.type!=="number"&&lu();var g=c.map(function(m){var v=u(m,o),y=v.x,b=v.y,x=v.value,_=v.errorVal;if(!_)return null;var S=[],E,k;if(Array.isArray(_)){var N=wSe(_,2);E=N[0],k=N[1]}else E=k=_;if(s==="vertical"){var T=d.scale,A=b+a,C=A+i,j=A-i,R=T(x-E),I=T(x+k);S.push({x1:I,y1:C,x2:I,y2:j}),S.push({x1:R,y1:A,x2:I,y2:A}),S.push({x1:R,y1:C,x2:R,y2:j})}else if(s==="horizontal"){var M=f.scale,W=y+a,K=W-i,H=W+i,O=M(x-E),Z=M(x+k);S.push({x1:K,y1:Z,x2:H,y2:Z}),S.push({x1:W,y1:O,x2:W,y2:Z}),S.push({x1:K,y1:O,x2:H,y2:O})}return U.createElement(vr,xy({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),S.map(function(J){return U.createElement("line",xy({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return U.createElement(vr,{className:"recharts-errorBars"},g)}}])}(U.Component);O9(qm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});O9(qm,"displayName","ErrorBar");function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function L4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(r),!0).forEach(function(n){MSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MSe(e,t,r){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Se(e){var t=FSe(e,"string");return L0(t)=="symbol"?t:t+""}function FSe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R9=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=La(r,Ad);if(!i)return null;var o=Ad.defaultProps,c=o!==void 0?fc(fc({},o),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?fc(fc({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:jC(f),value:m||g,payload:p}}),fc(fc(fc({},c),Ad.getWithHeight(i,a)),{},{payload:u,item:i})};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function B4(e){return zSe(e)||USe(e)||BSe(e)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BSe(e,t){if(e){if(typeof e=="string")return Ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ik(e,t)}}function USe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zSe(e){if(Array.isArray(e))return Ik(e)}function Ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){Pd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pd(e,t,r){return t=WSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WSe(e){var t=HSe(e,"string");return B0(t)=="symbol"?t:t+""}function HSe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(e,t,r){return Mt(e)||Mt(t)?r:yn(t)?ms(e,t,r):Ot(t)?t(e):r}function Tp(e,t,r,n){var a=U2e(e,function(o){return xa(o,t)});if(r==="number"){var s=a.filter(function(o){return Fe(o)||parseFloat(o)});return s.length?[Mb(s),ml(s)]:[1/0,-1/0]}var i=n?a.filter(function(o){return!Mt(o)}):a;return i.map(function(o){return yn(o)||o instanceof Date?o:""})}var VSe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Xs(f-d)!==Xs(h-f)){var g=[];if(Xs(h-f)===Xs(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){i=a[u].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){i=a[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},jC=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,i=s.stroke,o=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:o;break;default:c=o;break}return c},GSe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},o=Object.keys(s),c=0,u=o.length;c<u;c++)for(var d=s[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(k){return ho(k.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?Fr(Fr({},b),y[0].props):y[0].props,_=x.barSize,S=x[v];i[S]||(i[S]=[]);var E=Mt(_)?r:_;i[S].push({item:y[0],stackList:y.slice(1),barSize:Mt(E)?void 0:iu(E,n,0)})}}return i},qSe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,o=t.maxBarSize,c=i.length;if(c<1)return null;var u=iu(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/c,g=i.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=i.reduce(function(_,S){var E={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},k=[].concat(B4(_),[E]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){k.push({item:N,position:v})}),k},f)}else{var y=iu(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;d=i.reduce(function(_,S,E){var k=[].concat(B4(_),[{item:S.item,position:{offset:y+(b+u)*E+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){k.push({item:N,position:k[k.length-1].position})}),k},f)}return d},KSe=function(t,r,n,a){var s=n.children,i=n.width,o=n.margin,c=i-(o.left||0)-(o.right||0),u=R9({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Fe(t[p]))return Fr(Fr({},t),{},Pd({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Fe(t[g]))return Fr(Fr({},t),{},Pd({},g,t[g]+(h||0)))}return t},XSe=function(t,r,n){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},I9=function(t,r,n,a,s){var i=r.props.children,o=gs(i,qm).filter(function(u){return XSe(a,s,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xa(d,n);if(Mt(f))return u;var h=Array.isArray(f)?[Mb(f),ml(f)]:[f,f],p=c.reduce(function(g,m){var v=xa(d,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},YSe=function(t,r,n,a,s){var i=r.map(function(o){return I9(t,o,n,s,a)}).filter(function(o){return!Mt(o)});return i&&i.length?i.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},D9=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&I9(t,c,u,a)||Tp(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},M9=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$9=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,o=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||o.push(r),i||o.push(n),o},lo=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,o=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Xs(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Zf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},T_=new WeakMap,Zg=function(t,r){if(typeof r!="function")return t;T_.has(t)||T_.set(t,new WeakMap);var n=T_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},JSe=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,o=t.axisType;if(a==="auto")return i==="radial"&&o==="radiusAxis"?{scale:P0(),realScaleType:"band"}:i==="radial"&&o==="angleAxis"?{scale:hy(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ep(),realScaleType:"point"}:s==="category"?{scale:P0(),realScaleType:"band"}:{scale:hy(),realScaleType:"linear"};if(su(a)){var c="scale".concat(Sb(a));return{scale:(I4[c]||Ep)(),realScaleType:I4[c]?c:"point"}}return Ot(a)?{scale:a}:{scale:Ep(),realScaleType:"point"}},z4=1e-4,QSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-z4,i=Math.max(a[0],a[1])+z4,o=t(r[0]),c=t(r[n-1]);(o<s||o>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},ZSe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},eke=function(t,r){if(!r||r.length!==2||!Fe(r[0])||!Fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Fe(t[0])||t[0]<n)&&(s[0]=n),(!Fe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},tke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,o=0;o<r;++o){var c=Zf(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1]):(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1])}},rke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var o=Zf(t[i][n][1])?t[i][n][0]:t[i][n][1];o>=0?(t[i][n][0]=s,t[i][n][1]=s+o,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},nke={sign:tke,expand:xhe,none:of,silhouette:yhe,wiggle:bhe,positive:rke},ake=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),s=nke[n],i=vhe().keys(a).value(function(o,c){return+xa(o,c,0)}).order(sk).offset(s);return i(t)},ske=function(t,r,n,a,s,i){if(!t)return null;var o=i?r.reverse():r,c={},u=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Fr(Fr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(yn(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[eh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Fr(Fr({},f),{},Pd({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return Fr(Fr({},m),{},Pd({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:ake(t,y.items,s)}))},g)}return Fr(Fr({},f),{},Pd({},h,p))},d)},ike=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=vSe(u,s,o);return t.domain([Mb(d),ml(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=xSe(f,s,o);return{niceTicks:h}}return null};function by(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(a[t.dataKey])){var o=Wx(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=xa(a,Mt(i)?t.dataKey:i);return Mt(c)?null:t.scale(c)}var W4=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=xa(i,r.dataKey,r.domain[o]);return Mt(c)?null:r.scale(c)-s/2+a},oke=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},lke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(yn(s)){var i=r[s];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},cke=function(t){return t.reduce(function(r,n){return[Mb(n.concat([r[0]]).filter(Fe)),ml(n.concat([r[1]]).filter(Fe))]},[1/0,-1/0])},F9=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],o=i.stackedData,c=o.reduce(function(u,d){var f=cke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},H4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dk=function(t,r,n){if(Ot(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(H4.test(t[0])){var s=+H4.exec(t[0])[1];a[0]=r[0]-s}else Ot(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(V4.test(t[1])){var i=+V4.exec(t[1])[1];a[1]=r[1]+i}else Ot(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},wy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=nC(r,function(f){return f.coordinate}),i=1/0,o=1,c=s.length;o<c;o++){var u=s[o],d=s[o-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},G4=function(t,r,n){return!t||!t.length||mf(t,ms(n,"type.defaultProps.domain"))?r:t},L9=function(t,r){var n=t.type.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Fr(Fr({},Rt(t,!1)),{},{dataKey:a,unit:i,formatter:o,name:s||a,color:jC(t),value:xa(r,a),type:c,payload:r,chartType:u,hide:d})};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){uke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uke(e,t,r){return t=dke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dke(e){var t=fke(e,"string");return U0(t)=="symbol"?t:t+""}function fke(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _y=Math.PI/180,hke=function(t){return t*180/Math.PI},Fn=function(t,r,n,a){return{x:t+Math.cos(-_y*a)*n,y:r+Math.sin(-_y*a)*n}},pke=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},mke=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,o=pke({x:n,y:a},{x:s,y:i});if(o<=0)return{radius:o};var c=(n-s)/o,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:o,angle:hke(u),angleInRadian:u}},gke=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},vke=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return t+o*360},X4=function(t,r){var n=t.x,a=t.y,s=mke({x:n,y:a},r),i=s.radius,o=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=gke(r),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?K4(K4({},r),{},{radius:i,angle:vke(p,r)}):null};function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var xke=["offset"];function yke(e){return Ske(e)||_ke(e)||wke(e)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wke(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function _ke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ske(e){if(Array.isArray(e))return Mk(e)}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kke(e,t){if(e==null)return{};var r=Eke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(n){Tke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tke(e,t,r){return t=Nke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nke(e){var t=Cke(e,"string");return z0(t)=="symbol"?t:t+""}function Cke(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}var jke=function(t){var r=t.value,n=t.formatter,a=Mt(t.children)?r:t.children;return Ot(n)?n(a):a},Ake=function(t,r){var n=Xs(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Oke=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,o=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,y=Ake(p,g),b=y>=0?1:-1,x,_;a==="insideStart"?(x=p+b*i,_=m):a==="insideEnd"?(x=g-b*i,_=!m):a==="end"&&(x=g+b*i,_=m),_=y<=0?_:!_;var S=Fn(u,d,v,x),E=Fn(u,d,v,x+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),N=Mt(t.id)?eh("recharts-radial-line-"):t.id;return U.createElement("text",W0({},n,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",o)}),U.createElement("defs",null,U.createElement("path",{id:N,d:k})),U.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Pke=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,o=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var p=Fn(i,o,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Fn(i,o,v,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Rke=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,o=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,y=m>0?"end":"start",b=m>0?"start":"end";if(s==="top"){var x={x:o+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return on(on({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return on(on({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:o-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return on(on({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var E={x:o+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return on(on({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return s==="insideLeft"?on({x:o+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideRight"?on({x:o+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},k):s==="insideTop"?on({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):s==="insideBottom"?on({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?on({x:o+v,y:c+h,textAnchor:b,verticalAnchor:g},k):s==="insideTopRight"?on({x:o+u-v,y:c+h,textAnchor:y,verticalAnchor:g},k):s==="insideBottomLeft"?on({x:o+v,y:c+d-h,textAnchor:b,verticalAnchor:p},k):s==="insideBottomRight"?on({x:o+u-v,y:c+d-h,textAnchor:y,verticalAnchor:p},k):Xf(s)&&(Fe(s.x)||jc(s.x))&&(Fe(s.y)||jc(s.y))?on({x:o+iu(s.x,u),y:c+iu(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):on({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Ike=function(t){return"cx"in t&&Fe(t.cx)};function Jn(e){var t=e.offset,r=t===void 0?5:t,n=kke(e,xke),a=on({offset:r},n),s=a.viewBox,i=a.position,o=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Mt(o)&&Mt(c)&&!w.isValidElement(u)&&!Ot(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(Ot(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=jke(a);var g=Ike(s),m=Rt(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Oke(a,p,m);var v=g?Pke(a):Rke(a);return U.createElement(iy,W0({className:Ut("recharts-label",f)},m,v,{breakAll:h}),p)}Jn.displayName="Label";var B9=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Fe(m)&&Fe(v)){if(Fe(f)&&Fe(h))return{x:f,y:h,width:m,height:v};if(Fe(p)&&Fe(g))return{x:p,y:g,width:m,height:v}}return Fe(f)&&Fe(h)?{x:f,y:h,width:0,height:0}:Fe(r)&&Fe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},Dke=function(t,r){return t?t===!0?U.createElement(Jn,{key:"label-implicit",viewBox:r}):yn(t)?U.createElement(Jn,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Jn?w.cloneElement(t,{key:"label-implicit",viewBox:r}):U.createElement(Jn,{key:"label-implicit",content:t,viewBox:r}):Ot(t)?U.createElement(Jn,{key:"label-implicit",content:t,viewBox:r}):Xf(t)?U.createElement(Jn,W0({viewBox:r},t,{key:"label-implicit"})):null:null},Mke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=B9(t),i=gs(a,Jn).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var o=Dke(t.label,r||s);return[o].concat(yke(i))};Jn.parseViewBox=B9;Jn.renderCallByParent=Mke;function $ke(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Fke=$ke;const Lke=dr(Fke);function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}var Bke=["valueAccessor"],Uke=["data","dataKey","clockWise","id","textBreakAll"];function zke(e){return Gke(e)||Vke(e)||Hke(e)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hke(e,t){if(e){if(typeof e=="string")return $k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(e,t)}}function Vke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gke(e){if(Array.isArray(e))return $k(e)}function $k(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qke(e,t,r){return t=Kke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kke(e){var t=Xke(e,"string");return H0(t)=="symbol"?t:t+""}function Xke(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z4(e,t){if(e==null)return{};var r=Yke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jke=function(t){return Array.isArray(t.value)?Lke(t.value):t.value};function Ai(e){var t=e.valueAccessor,r=t===void 0?Jke:t,n=Z4(e,Bke),a=n.data,s=n.dataKey,i=n.clockWise,o=n.id,c=n.textBreakAll,u=Z4(n,Uke);return!a||!a.length?null:U.createElement(vr,{className:"recharts-label-list"},a.map(function(d,f){var h=Mt(s)?r(d,f):xa(d&&d.payload,s),p=Mt(o)?{}:{id:"".concat(o,"-").concat(f)};return U.createElement(Jn,Sy({},Rt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Jn.parseViewBox(Mt(i)?d:Q4(Q4({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ai.displayName="LabelList";function Qke(e,t){return e?e===!0?U.createElement(Ai,{key:"labelList-implicit",data:t}):U.isValidElement(e)||Ot(e)?U.createElement(Ai,{key:"labelList-implicit",data:t,content:e}):Xf(e)?U.createElement(Ai,Sy({data:t},e,{key:"labelList-implicit"})):null:null}function Zke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=gs(n,Ai).map(function(i,o){return w.cloneElement(i,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var s=Qke(e.label,t);return[s].concat(zke(a))}Ai.renderCallByParent=Zke;function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fk.apply(this,arguments)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){eEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eEe(e,t,r){return t=tEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tEe(e){var t=rEe(e,"string");return V0(t)=="symbol"?t:t+""}function rEe(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nEe=function(t,r){var n=Xs(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ev=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+a,f=Math.asin(c/d)/_y,h=u?s:s+i*f,p=Fn(r,n,d,h),g=Fn(r,n,a,h),m=u?s-i*f:s,v=Fn(r,n,d*Math.cos(f*_y),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},U9=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,o=t.endAngle,c=nEe(i,o),u=i+c,d=Fn(r,n,s,i),f=Fn(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Fn(r,n,a,i),g=Fn(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},aEe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xs(d-u),h=ev({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=ev({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,x=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-x;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):U9({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var E=ev({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=E.circleTangency,N=E.lineTangency,T=E.theta,A=ev({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),C=A.circleTangency,j=A.lineTangency,R=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-T-R;if(I<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},sEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z9=function(t){var r=t3(t3({},sEe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var p=Ut("recharts-sector",h),g=i-s,m=iu(o,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=aEe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=U9({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),U.createElement("path",Fk({},Rt(r,!0),{className:p,d:v,role:"img"}))};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){iEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iEe(e,t,r){return t=oEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oEe(e){var t=lEe(e,"string");return G0(t)=="symbol"?t:t+""}function lEe(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3={curveBasisClosed:ihe,curveBasisOpen:ohe,curveBasis:she,curveBumpX:Vfe,curveBumpY:Gfe,curveLinearClosed:lhe,curveLinear:Eb,curveMonotoneX:che,curveMonotoneY:uhe,curveNatural:dhe,curveStep:fhe,curveStepAfter:phe,curveStepBefore:hhe},tv=function(t){return t.x===+t.x&&t.y===+t.y},Fh=function(t){return t.x},Lh=function(t){return t.y},cEe=function(t,r){if(Ot(t))return t;var n="curve".concat(Sb(t));return(n==="curveMonotone"||n==="curveBump")&&r?a3["".concat(n).concat(r==="vertical"?"Y":"X")]:a3[n]||Eb},uEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=cEe(n,o),f=u?s.filter(function(m){return tv(m)}):s,h;if(Array.isArray(i)){var p=u?i.filter(function(m){return tv(m)}):i,g=f.map(function(m,v){return n3(n3({},m),{},{base:p[v]})});return o==="vertical"?h=Vg().y(Lh).x1(Fh).x0(function(m){return m.base.x}):h=Vg().x(Fh).y1(Lh).y0(function(m){return m.base.y}),h.defined(tv).curve(d),h(g)}return o==="vertical"&&Fe(i)?h=Vg().y(Lh).x1(Fh).x0(i):Fe(i)?h=Vg().x(Fh).y1(Lh).y0(i):h=z7().x(Fh).y(Lh),h.defined(tv).curve(d),h(f)},Rd=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?uEe(t):a;return w.createElement("path",Lk({},Rt(t,!1),Hx(t),{className:Ut("recharts-curve",r),d:i,ref:s}))},W9={exports:{}},dEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fEe=dEe,hEe=fEe;function H9(){}function V9(){}V9.resetWarningCache=H9;var pEe=function(){function e(n,a,s,i,o,c){if(c!==hEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:V9,resetWarningCache:H9};return r.PropTypes=r,r};W9.exports=pEe();var mEe=W9.exports;const nr=dr(mEe);var gEe=Object.getOwnPropertyNames,vEe=Object.getOwnPropertySymbols,xEe=Object.prototype.hasOwnProperty;function s3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function rv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),o=s.get(n);if(i&&o)return i===n&&o===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function i3(e){return gEe(e).concat(vEe(e))}var yEe=Object.hasOwn||function(e,t){return xEe.call(e,t)};function Su(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var bEe="__v",wEe="__o",_Ee="_owner",o3=Object.getOwnPropertyDescriptor,l3=Object.keys;function SEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function kEe(e,t){return Su(e.getTime(),t.getTime())}function EEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function TEe(e,t){return e===t}function c3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,o,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var h=i.value,p=o.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var NEe=Su;function CEe(e,t,r){var n=l3(e),a=n.length;if(l3(t).length!==a)return!1;for(;a-- >0;)if(!G9(e,t,r,n[a]))return!1;return!0}function Bh(e,t,r){var n=i3(e),a=n.length;if(i3(t).length!==a)return!1;for(var s,i,o;a-- >0;)if(s=n[a],!G9(e,t,r,s)||(i=o3(e,s),o=o3(t,s),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable)))return!1;return!0}function jEe(e,t){return Su(e.valueOf(),t.valueOf())}function AEe(e,t){return e.source===t.source&&e.flags===t.flags}function u3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,o;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!a[d]&&r.equals(i.value,o.value,i.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function OEe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function PEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G9(e,t,r,n){return(n===_Ee||n===wEe||n===bEe)&&(e.$$typeof||t.$$typeof)?!0:yEe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var REe="[object Arguments]",IEe="[object Boolean]",DEe="[object Date]",MEe="[object Error]",$Ee="[object Map]",FEe="[object Number]",LEe="[object Object]",BEe="[object RegExp]",UEe="[object Set]",zEe="[object String]",WEe="[object URL]",HEe=Array.isArray,d3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,f3=Object.assign,VEe=Object.prototype.toString.call.bind(Object.prototype.toString);function GEe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?i(g,m,v):y==="function"?a(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,v);if(HEe(g))return t(g,m,v);if(d3!=null&&d3(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return u(g,m,v);if(b===Map)return s(g,m,v);if(b===Set)return d(g,m,v);var x=VEe(g);return x===DEe?r(g,m,v):x===BEe?u(g,m,v):x===$Ee?s(g,m,v):x===UEe?d(g,m,v):x===LEe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):x===WEe?h(g,m,v):x===MEe?n(g,m,v):x===REe?o(g,m,v):x===IEe||x===FEe||x===zEe?c(g,m,v):!1}}function qEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Bh:SEe,areDatesEqual:kEe,areErrorsEqual:EEe,areFunctionsEqual:TEe,areMapsEqual:n?s3(c3,Bh):c3,areNumbersEqual:NEe,areObjectsEqual:n?Bh:CEe,arePrimitiveWrappersEqual:jEe,areRegExpsEqual:AEe,areSetsEqual:n?s3(u3,Bh):u3,areTypedArraysEqual:n?Bh:OEe,areUrlsEqual:PEe};if(r&&(a=f3({},a,r(a))),t){var s=rv(a.areArraysEqual),i=rv(a.areMapsEqual),o=rv(a.areObjectsEqual),c=rv(a.areSetsEqual);a=f3({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:c})}return a}function KEe(e){return function(t,r,n,a,s,i,o){return e(t,r,o)}}function XEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var YEe=sc();sc({strict:!0});sc({circular:!0});sc({circular:!0,strict:!0});sc({createInternalComparator:function(){return Su}});sc({strict:!0,createInternalComparator:function(){return Su}});sc({circular:!0,createInternalComparator:function(){return Su}});sc({circular:!0,createInternalComparator:function(){return Su},strict:!0});function sc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,o=qEe(e),c=GEe(o),u=n?n(c):KEe(c);return XEe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function JEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function h3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):JEe(a)};requestAnimationFrame(n)}function Bk(e){"@babel/helpers - typeof";return Bk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bk(e)}function QEe(e){return rTe(e)||tTe(e)||eTe(e)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eTe(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rTe(e){if(Array.isArray(e))return e}function nTe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,o=QEe(i),c=o[0],u=o.slice(1);if(typeof c=="number"){h3(a.bind(null,u),c);return}a(c),h3(a.bind(null,u));return}Bk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return t=aTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aTe(e){var t=sTe(e,"string");return q0(t)==="symbol"?t:String(t)}function sTe(e,t){if(q0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iTe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},oTe=function(t){return t},lTe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Np=function(t,r){return Object.keys(r).reduce(function(n,a){return g3(g3({},n),{},q9({},a,t(a,r[a])))},{})},v3=function(t,r,n){return t.map(function(a){return"".concat(lTe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function cTe(e,t){return fTe(e)||dTe(e,t)||K9(e,t)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function fTe(e){if(Array.isArray(e))return e}function hTe(e){return gTe(e)||mTe(e)||K9(e)||pTe()}function pTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9(e,t){if(e){if(typeof e=="string")return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(e,t)}}function mTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gTe(e){if(Array.isArray(e))return Uk(e)}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ky=1e-4,X9=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Y9=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},x3=function(t,r){return function(n){var a=X9(t,r);return Y9(a,n)}},vTe=function(t,r){return function(n){var a=X9(t,r),s=[].concat(hTe(a.map(function(i,o){return i*o}).slice(1)),[0]);return Y9(s,n)}},y3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,o=1;break;case"ease":a=.25,s=.1,i=.25,o=1;break;case"ease-in":a=.42,s=0,i=1,o=1;break;case"ease-out":a=.42,s=0,i=.58,o=1;break;case"ease-in-out":a=0,s=0,i=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=cTe(u,4);a=d[0],s=d[1],i=d[2],o=d[3]}}}var f=x3(a,i),h=x3(s,o),p=vTe(a,i),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,x=b,_=0;_<8;++_){var S=f(x)-b,E=p(x);if(Math.abs(S-b)<ky||E<ky)return h(x);x=g(x-S/E)}return h(x)};return m.isStepper=!1,m},xTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,o=i===void 0?17:i,c=function(d,f,h){var p=-(d-f)*n,g=h*s,m=h+(p-g)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<ky&&Math.abs(m)<ky?[f,0]:[v,m]};return c.isStepper=!0,c.dt=o,c},yTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return y3(a);case"spring":return xTe();default:if(a.split("(")[0]==="cubic-bezier")return y3(a)}return typeof a=="function"?a:null};function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function b3(e){return _Te(e)||wTe(e)||J9(e)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Te(e){if(Array.isArray(e))return Wk(e)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){zk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zk(e,t,r){return t=STe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function STe(e){var t=kTe(e,"string");return K0(t)==="symbol"?t:String(t)}function kTe(e,t){if(K0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e,t){return CTe(e)||NTe(e,t)||J9(e,t)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(e,t){if(e){if(typeof e=="string")return Wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(e,t)}}function Wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function CTe(e){if(Array.isArray(e))return e}var Ey=function(t,r,n){return t+(r-t)*n},Hk=function(t){var r=t.from,n=t.to;return r!==n},jTe=function e(t,r,n){var a=Np(function(s,i){if(Hk(i)){var o=t(i.from,i.to,i.velocity),c=ETe(o,2),u=c[0],d=c[1];return In(In({},i),{},{from:u,velocity:d})}return i},r);return n<1?Np(function(s,i){return Hk(i)?In(In({},i),{},{velocity:Ey(i.velocity,a[s].velocity,n),from:Ey(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const ATe=function(e,t,r,n,a){var s=iTe(e,t),i=s.reduce(function(v,y){return In(In({},v),{},zk({},y,[e[y],t[y]]))},{}),o=s.reduce(function(v,y){return In(In({},v),{},zk({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Np(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(Hk).length},g=function(y){u||(u=y);var b=y-u,x=b/r.dt;o=jTe(r,o,x),a(In(In(In({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var b=(y-d)/n,x=Np(function(S,E){return Ey.apply(void 0,b3(E).concat([r(b)]))},i);if(a(In(In(In({},e),t),x)),b<1)c=requestAnimationFrame(f);else{var _=Np(function(S,E){return Ey.apply(void 0,b3(E).concat([r(1)]))},i);a(In(In(In({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}var OTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function PTe(e,t){if(e==null)return{};var r=RTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function N_(e){return $Te(e)||MTe(e)||DTe(e)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(e,t){if(e){if(typeof e=="string")return Vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(e,t)}}function MTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Te(e){if(Array.isArray(e))return Vk(e)}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ap(e,t,r){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q9(n.key),n)}}function BTe(e,t,r){return t&&LTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q9(e){var t=UTe(e,"string");return vf(t)==="symbol"?t:String(t)}function UTe(e,t){if(vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gk(e,t)}function WTe(e){var t=HTe();return function(){var n=Ty(e),a;if(t){var s=Ty(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return qk(this,a)}}function qk(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kk(e)}function Kk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}var $i=function(e){zTe(r,e);var t=WTe(r);function r(n,a){var s;FTe(this,r),s=t.call(this,n,a);var i=s.props,o=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Kk(s)),s.changeStyle=s.changeStyle.bind(Kk(s)),!o||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),qk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},qk(s);s.state={style:c?ap({},c,u):u}}else s.state={style:{}};return s}return BTe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,o=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!i){var p={style:c?ap({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(YEe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var v={style:c?ap({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Ns(Ns({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,o=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=ATe(i,o,yTe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,o=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,x=v.easing,_=x===void 0?"ease":x,S=v.style,E=v.properties,k=v.onAnimationEnd,N=y>0?i[y-1]:v,T=E||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(N_(m),[s.runJSAnimation.bind(s,{from:N.style,to:S,duration:b,easing:_}),b]);var A=v3(T,b,_),C=Ns(Ns(Ns({},N.style),S),{},{transition:A});return[].concat(N_(m),[C,b,k]).filter(oTe)};return this.manager.start([c].concat(N_(i.reduce(p,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=nTe());var s=a.begin,i=a.duration,o=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?ap({},o,c):c,v=v3(Object.keys(m),i,u);g.start([d,s,Ns(Ns({},m),{},{transition:v}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=PTe(a,OTe),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||i<=0)return s;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=w.cloneElement(p,Ns(Ns({},c),{},{style:Ns(Ns({},v),d),className:y}));return b};return u===1?f(w.Children.only(s)):U.createElement("div",null,w.Children.map(s,function(h){return f(h)}))}}]),r}(w.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:nr.oneOfType([nr.object,nr.string]),to:nr.oneOfType([nr.object,nr.string]),attributeName:nr.string,duration:nr.number,begin:nr.number,easing:nr.oneOfType([nr.string,nr.func]),steps:nr.arrayOf(nr.shape({duration:nr.number.isRequired,style:nr.object.isRequired,easing:nr.oneOfType([nr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nr.func]),properties:nr.arrayOf("string"),onAnimationEnd:nr.func})),children:nr.oneOfType([nr.node,nr.func]),isActive:nr.bool,canBegin:nr.bool,onAnimationEnd:nr.func,shouldReAnimate:nr.bool,onAnimationStart:nr.func,onAnimationReStart:nr.func};function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function VTe(e,t){return XTe(e)||KTe(e,t)||qTe(e,t)||GTe()}function GTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qTe(e,t){if(e){if(typeof e=="string")return S3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S3(e,t)}}function S3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function XTe(e){if(Array.isArray(e))return e}function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){YTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t,r){return t=JTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JTe(e){var t=QTe(e,"string");return X0(t)=="symbol"?t:t+""}function QTe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T3=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ZTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},eNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AC=function(t){var r=E3(E3({},eNe),t),n=w.useRef(),a=w.useState(-1),s=VTe(a,2),i=s[0],o=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Ut("recharts-rectangle",p);return b?U.createElement($i,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(_){var S=_.width,E=_.height,k=_.x,N=_.y;return U.createElement($i,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},U.createElement("path",Ny({},Rt(r,!0),{className:x,d:T3(k,N,S,E,h),ref:n})))}):U.createElement("path",Ny({},Rt(r,!0),{className:x,d:T3(c,u,d,f,h)}))};function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xk.apply(this,arguments)}var Lb=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Ut("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",Xk({},Rt(t,!1),Hx(t),{className:i,cx:r,cy:n,r:a})):null};function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var tNe=["x","y","top","left","width","height","className"];function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yk.apply(this,arguments)}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){nNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nNe(e,t,r){return t=aNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aNe(e){var t=sNe(e,"string");return Y0(t)=="symbol"?t:t+""}function sNe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iNe(e,t){if(e==null)return{};var r=oNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lNe=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},cNe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,o=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=iNe(t,tNe),v=rNe({x:n,y:s,top:o,left:u,width:f,height:p},m);return!Fe(n)||!Fe(s)||!Fe(f)||!Fe(p)||!Fe(o)||!Fe(u)?null:U.createElement("path",Yk({},Rt(v,!0),{className:Ut("recharts-cross",g),d:lNe(n,s,f,p,o,u)}))},uNe=fU,dNe=uNe(Object.getPrototypeOf,Object),fNe=dNe,hNe=Ro,pNe=fNe,mNe=Io,gNe="[object Object]",vNe=Function.prototype,xNe=Object.prototype,Z9=vNe.toString,yNe=xNe.hasOwnProperty,bNe=Z9.call(Object);function wNe(e){if(!mNe(e)||hNe(e)!=gNe)return!1;var t=pNe(e);if(t===null)return!0;var r=yNe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Z9.call(r)==bNe}var _Ne=wNe;const SNe=dr(_Ne);var kNe=Ro,ENe=Io,TNe="[object Boolean]";function NNe(e){return e===!0||e===!1||ENe(e)&&kNe(e)==TNe}var CNe=NNe;const jNe=dr(CNe);function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function ANe(e,t){return INe(e)||RNe(e,t)||PNe(e,t)||ONe()}function ONe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(e,t){if(e){if(typeof e=="string")return C3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C3(e,t)}}function C3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function INe(e){if(Array.isArray(e))return e}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){DNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DNe(e,t,r){return t=MNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MNe(e){var t=$Ne(e,"string");return J0(t)=="symbol"?t:t+""}function $Ne(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O3=function(t,r,n,a,s){var i=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-i/2,",").concat(r+s),o+="L ".concat(t+n-i/2-a,",").concat(r+s),o+="L ".concat(t,",").concat(r," Z"),o},FNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LNe=function(t){var r=A3(A3({},FNe),t),n=w.useRef(),a=w.useState(-1),s=ANe(a,2),i=s[0],o=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&o(x)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ut("recharts-trapezoid",p);return y?U.createElement($i,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(x){var _=x.upperWidth,S=x.lowerWidth,E=x.height,k=x.x,N=x.y;return U.createElement($i,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},U.createElement("path",Cy({},Rt(r,!0),{className:b,d:O3(k,N,_,S,E),ref:n})))}):U.createElement("g",null,U.createElement("path",Cy({},Rt(r,!0),{className:b,d:O3(c,u,d,f,h)})))},BNe=["option","shapeType","propTransformer","activeClassName","isActive"];function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function UNe(e,t){if(e==null)return{};var r=zNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){WNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WNe(e,t,r){return t=HNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HNe(e){var t=VNe(e,"string");return Q0(t)=="symbol"?t:t+""}function VNe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GNe(e,t){return jy(jy({},t),e)}function qNe(e,t){return e==="symbols"}function R3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return U.createElement(AC,r);case"trapezoid":return U.createElement(LNe,r);case"sector":return U.createElement(z9,r);case"symbols":if(qNe(t))return U.createElement(XN,r);break;default:return null}}function KNe(e){return w.isValidElement(e)?e.props:e}function XNe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?GNe:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,o=e.isActive,c=UNe(e,BNe),u;if(w.isValidElement(t))u=w.cloneElement(t,jy(jy({},c),KNe(t)));else if(Ot(t))u=t(c);else if(SNe(t)&&!jNe(t)){var d=a(t,c);u=U.createElement(R3,{shapeType:r,elementProps:d})}else{var f=c;u=U.createElement(R3,{shapeType:r,elementProps:f})}return o?U.createElement(vr,{className:i},u):u}function Bb(e,t){return t!=null&&"trapezoids"in e.props}function Ub(e,t){return t!=null&&"sectors"in e.props}function Z0(e,t){return t!=null&&"points"in e.props}function YNe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function JNe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function QNe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ZNe(e,t){var r;return Bb(e,t)?r=YNe:Ub(e,t)?r=JNe:Z0(e,t)&&(r=QNe),r}function eCe(e,t){var r;return Bb(e,t)?r="trapezoids":Ub(e,t)?r="sectors":Z0(e,t)&&(r="points"),r}function tCe(e,t){if(Bb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ub(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Z0(e,t)?t.payload:{}}function rCe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=eCe(r,t),s=tCe(r,t),i=n.filter(function(c,u){var d=mf(s,c),f=r.props[a].filter(function(g){var m=ZNe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(i[i.length-1]);return o}var nCe=Math.ceil,aCe=Math.max;function sCe(e,t,r,n){for(var a=-1,s=aCe(nCe((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var iCe=sCe,oCe=OU,I3=1/0,lCe=17976931348623157e292;function cCe(e){if(!e)return e===0?e:0;if(e=oCe(e),e===I3||e===-I3){var t=e<0?-1:1;return t*lCe}return e===e?e:0}var ez=cCe,uCe=iCe,dCe=jb,C_=ez;function fCe(e){return function(t,r,n){return n&&typeof n!="number"&&dCe(t,r,n)&&(r=n=void 0),t=C_(t),r===void 0?(r=t,t=0):r=C_(r),n=n===void 0?t<r?1:-1:C_(n),uCe(t,r,n,e)}}var hCe=fCe,pCe=hCe,mCe=pCe(),gCe=mCe;const Ay=dr(gCe);function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){tz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tz(e,t,r){return t=vCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vCe(e){var t=xCe(e,"string");return em(t)=="symbol"?t:t+""}function xCe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yCe=["Webkit","Moz","O","ms"],bCe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=yCe.reduce(function(s,i){return M3(M3({},s),{},tz({},i+n,r))},{});return a[t]=r,a};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){$a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nz(n.key),n)}}function _Ce(e,t,r){return t&&F3(e.prototype,t),r&&F3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SCe(e,t,r){return t=Py(t),kCe(e,rz()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function kCe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ECe(e)}function ECe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function TCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jk(e,t)}function Jk(e,t){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jk(e,t)}function $a(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=NCe(e,"string");return xf(t)=="symbol"?t:t+""}function NCe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CCe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ep().domain(Ay(0,c)).range([s,s+i-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},L3=function(t){return t.changedTouches&&!!t.changedTouches.length},yf=function(e){function t(r){var n;return wCe(this,t),n=SCe(this,t,[r]),$a(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),$a(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),$a(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,o=a.startIndex;i==null||i({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),$a(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$a(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$a(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$a(n,"handleSlideDragStart",function(a){var s=L3(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return TCe(t,e),_Ce(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(i,f),g=t.getIndexInRange(i,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,o=a.dataKey,c=xa(s[n],o,n);return Ot(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,o=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-o,u+d-f-i):m<0&&(m=Math.max(m,u-i,u-o));var v=this.getIndex({startX:i+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:i+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=L3(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),y[i]=u+b;var x=this.getIndex(y),_=x.startIndex,S=x.endIndex,E=function(){var N=v.length-1;return i==="startX"&&(o>c?_%m===0:S%m===0)||o<c&&S===N||i==="endX"&&(o>c?S%m===0:_%m===0)||o>c&&S===N};this.setState($a($a({},i,u+b),"brushMoveStartX",n.pageX),function(){g&&E()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,o=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState($a({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,o=n.height,c=n.fill,u=n.stroke;return U.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?U.cloneElement(f,{x:a,y:s,width:i,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=j_(j_({},Rt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),x=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return U.createElement(vr,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,o=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return U.createElement(vr,{className:"recharts-brush-texts"},U.createElement(iy,Oy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+o/2},g),this.getTextOfTick(a)),U.createElement(iy,Oy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:i+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Fe(o)||!Fe(c)||!Fe(u)||!Fe(d)||u<=0||d<=0)return null;var x=Ut("recharts-brush",s),_=U.Children.count(i)===1,S=bCe("userSelect","none");return U.createElement(vr,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,o=n.height,c=n.stroke,u=Math.floor(s+o/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:s,width:i,height:o,fill:c,stroke:"none"}),U.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return U.isValidElement(n)?s=U.cloneElement(n,a):Ot(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return j_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:i},s&&s.length?CCe({data:s,width:i,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+i-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,o=s-1;o-i>1;){var c=Math.floor((i+o)/2);n[c]>a?o=c:i=c}return a>=n[o]?o:i}}])}(w.PureComponent);$a(yf,"displayName","Brush");$a(yf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jCe=rC;function ACe(e,t){var r;return jCe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var OCe=ACe,PCe=aU,RCe=rc,ICe=OCe,DCe=Ra,MCe=jb;function $Ce(e,t,r){var n=DCe(e)?PCe:ICe;return r&&MCe(e,t,r)&&(t=void 0),n(e,RCe(t))}var FCe=$Ce;const LCe=dr(FCe);var Oi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},B3=TU;function BCe(e,t,r){t=="__proto__"&&B3?B3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var UCe=BCe,zCe=UCe,WCe=kU,HCe=rc;function VCe(e,t){var r={};return t=HCe(t),WCe(e,function(n,a,s){zCe(r,a,t(n,a,s))}),r}var GCe=VCe;const qCe=dr(GCe);function KCe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var XCe=KCe,YCe=rC;function JCe(e,t){var r=!0;return YCe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var QCe=JCe,ZCe=XCe,eje=QCe,tje=rc,rje=Ra,nje=jb;function aje(e,t,r){var n=rje(e)?ZCe:eje;return r&&nje(e,t,r)&&(t=void 0),n(e,tje(t))}var sje=aje;const az=dr(sje);var ije=["x","y"];function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(this,arguments)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){oje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oje(e,t,r){return t=lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lje(e){var t=cje(e,"string");return tm(t)=="symbol"?t:t+""}function cje(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uje(e,t){if(e==null)return{};var r=dje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fje(e,t){var r=e.x,n=e.y,a=uje(e,ije),s="".concat(r),i=parseInt(s,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Uh(Uh(Uh(Uh(Uh({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function z3(e){return U.createElement(XNe,Qk({shapeType:"rectangle",propTransformer:fje,activeClassName:"recharts-active-bar"},e))}var hje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Fe(n)||Ode(n);return s?t(n,a):(s||lu(),r)}},pje=["value","background"],sz;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function mje(e,t){if(e==null)return{};var r=gje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oz(n.key),n)}}function xje(e,t,r){return t&&H3(e.prototype,t),r&&H3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yje(e,t,r){return t=Iy(t),bje(e,iz()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function bje(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wje(e)}function wje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function _je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zk(e,t)}function Zk(e,t){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zk(e,t)}function gl(e,t,r){return t=oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=Sje(e,"string");return bf(t)=="symbol"?t:t+""}function Sje(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wl=function(e){function t(){var r;vje(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=yje(this,t,[].concat(a)),gl(r,"state",{isAnimationFinished:!1}),gl(r,"id",eh("recharts-bar-")),gl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),gl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return _je(t,e),xje(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,o=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Rt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:i,m=Xr(Xr(Xr({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return U.createElement(vr,Ry({className:"recharts-bar-rectangle"},Vx(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(z3,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,o=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return U.createElement($i,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,y){var b=h&&h[y];if(b){var x=$n(b.x,v.x),_=$n(b.y,v.y),S=$n(b.width,v.width),E=$n(b.height,v.height);return Xr(Xr({},v),{},{x:x(g),y:_(g),width:S(g),height:E(g)})}if(i==="horizontal"){var k=$n(0,v.height),N=k(g);return Xr(Xr({},v),{},{y:v.y+v.height-N,height:N})}var T=$n(0,v.width),A=T(g);return Xr(Xr({},v),{},{width:A})});return U.createElement(vr,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!mf(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,o=a.activeIndex,c=Rt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=mje(u,pje);if(!f)return null;var p=Xr(Xr(Xr(Xr(Xr({},h),{},{fill:"#eee"},f),c),Vx(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(z3,Ry({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=gs(d,qm);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:xa(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(vr,g,f.map(function(m){return U.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:i,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Ut("recharts-bar",i),b=o&&o.allowDataOverflow,x=c&&c.allowDataOverflow,_=b||x,S=Mt(m)?this.id:m;return U.createElement(vr,{className:y},b||x?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:b?u:u-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,U.createElement(vr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||v)&&Ai.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);sz=Wl;gl(Wl,"displayName","Bar");gl(Wl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ci.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gl(Wl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=ZSe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Xr(Xr({},m),r.props):r.props,y=v.dataKey,b=v.children,x=v.minPointSize,_=g==="horizontal"?i:s,S=u?_.scale.domain():null,E=oke({numericAxis:_}),k=gs(b,RU),N=f.map(function(T,A){var C,j,R,I,M,W;u?C=eke(u[d+A],S):(C=xa(T,y),Array.isArray(C)||(C=[E,C]));var K=hje(x,sz.defaultProps.minPointSize)(C[1],A);if(g==="horizontal"){var H,O=[i.scale(C[0]),i.scale(C[1])],Z=O[0],J=O[1];j=W4({axis:s,ticks:o,bandSize:a,offset:p.offset,entry:T,index:A}),R=(H=J??Z)!==null&&H!==void 0?H:void 0,I=p.size;var P=Z-J;if(M=Number.isNaN(P)?0:P,W={x:j,y:i.y,width:I,height:i.height},Math.abs(K)>0&&Math.abs(M)<Math.abs(K)){var G=Xs(M||K)*(Math.abs(K)-Math.abs(M));R-=G,M+=G}}else{var B=[s.scale(C[0]),s.scale(C[1])],z=B[0],ae=B[1];if(j=z,R=W4({axis:i,ticks:c,bandSize:a,offset:p.offset,entry:T,index:A}),I=ae-z,M=p.size,W={x:s.x,y:R,width:s.width,height:M},Math.abs(K)>0&&Math.abs(I)<Math.abs(K)){var V=Xs(I||K)*(Math.abs(K)-Math.abs(I));I+=V}}return Xr(Xr(Xr({},T),{},{x:j,y:R,width:I,height:M,value:u?C:C[1],payload:T,background:W},k&&k[A]&&k[A].props),{},{tooltipPayload:[L9(r,T)],tooltipPosition:{x:j+I/2,y:R+M/2}})});return Xr({data:N,layout:g},h)});function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function kje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lz(n.key),n)}}function Eje(e,t,r){return t&&V3(e.prototype,t),r&&V3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){zb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zb(e,t,r){return t=lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=Tje(e,"string");return rm(t)=="symbol"?t:t+""}function Tje(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OC=function(t,r,n,a,s){var i=t.width,o=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!La(u,Wl);return d.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,x=b===void 0?{}:b,_=m.mirror,S=m.reversed,E="".concat(v).concat(_?"Mirror":""),k,N,T,A,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var j=y[1]-y[0],R=1/0,I=m.categoricalDomain.sort(Ide);if(I.forEach(function(B,z){z>0&&(R=Math.min((B||0)-(I[z-1]||0),R))}),Number.isFinite(R)){var M=R/j,W=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=M*W/2),m.padding==="no-gap"){var K=iu(t.barCategoryGap,M*W),H=M*W/2;k=H-K-(H-K)/W*K}}}a==="xAxis"?N=[n.left+(x.left||0)+(k||0),n.left+n.width-(x.right||0)-(k||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(k||0),n.top+n.height-(x.bottom||0)-(k||0)]:N=m.range,S&&(N=[N[1],N[0]]);var O=JSe(m,s,h),Z=O.scale,J=O.realScaleType;Z.domain(y).range(N),QSe(Z);var P=ike(Z,Bs(Bs({},m),{},{realScaleType:J}));a==="xAxis"?(C=v==="top"&&!_||v==="bottom"&&_,T=n.left,A=f[E]-C*m.height):a==="yAxis"&&(C=v==="left"&&!_||v==="right"&&_,T=f[E]-C*m.width,A=n.top);var G=Bs(Bs(Bs({},m),P),{},{realScaleType:J,x:T,y:A,scale:Z,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return G.bandSize=wy(G,P),!m.hide&&a==="xAxis"?f[E]+=(C?-1:1)*G.height:m.hide||(f[E]+=(C?-1:1)*G.width),Bs(Bs({},p),{},zb({},g,G))},{})},cz=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},Nje=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return cz({x:r,y:n},{x:a,y:s})},uz=function(){function e(t){kje(this,e),this.scale=t}return Eje(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();zb(uz,"EPS",1e-4);var PC=function(t){var r=Object.keys(t).reduce(function(n,a){return Bs(Bs({},n),{},zb({},a,uz.create(t[a])))},{});return Bs(Bs({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,o=s.position;return qCe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:o})})},isInRange:function(a){return az(a,function(s,i){return r[i].isInRange(s)})}})};function Cje(e){return(e%180+180)%180}var jje=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Cje(a),i=s*Math.PI/180,o=Math.atan(n/r),c=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},Aje=rc,Oje=zm,Pje=Nb;function Rje(e){return function(t,r,n){var a=Object(t);if(!Oje(t)){var s=Aje(r);t=Pje(t),r=function(o){return s(a[o],o,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var Ije=Rje,Dje=ez;function Mje(e){var t=Dje(e),r=t%1;return t===t?r?t-r:t:0}var $je=Mje,Fje=xU,Lje=rc,Bje=$je,Uje=Math.max;function zje(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Bje(r);return a<0&&(a=Uje(n+a,0)),Fje(e,Lje(t),a)}var Wje=zje,Hje=Ije,Vje=Wje,Gje=Hje(Vje),qje=Gje;const Kje=dr(qje);var Xje=Due(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),RC=w.createContext(void 0),IC=w.createContext(void 0),dz=w.createContext(void 0),fz=w.createContext({}),hz=w.createContext(void 0),pz=w.createContext(0),mz=w.createContext(0),q3=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,o=t.children,c=t.width,u=t.height,d=Xje(s);return U.createElement(RC.Provider,{value:n},U.createElement(IC.Provider,{value:a},U.createElement(fz.Provider,{value:s},U.createElement(dz.Provider,{value:d},U.createElement(hz.Provider,{value:i},U.createElement(pz.Provider,{value:u},U.createElement(mz.Provider,{value:c},o)))))))},Yje=function(){return w.useContext(hz)},gz=function(t){var r=w.useContext(RC);r==null&&lu();var n=r[t];return n==null&&lu(),n},Jje=function(){var t=w.useContext(RC);return rl(t)},Qje=function(){var t=w.useContext(IC),r=Kje(t,function(n){return az(n.domain,Number.isFinite)});return r||rl(t)},vz=function(t){var r=w.useContext(IC);r==null&&lu();var n=r[t];return n==null&&lu(),n},Zje=function(){var t=w.useContext(dz);return t},eAe=function(){return w.useContext(fz)},DC=function(){return w.useContext(mz)},MC=function(){return w.useContext(pz)};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function tAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yz(n.key),n)}}function nAe(e,t,r){return t&&rAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aAe(e,t,r){return t=Dy(t),sAe(e,xz()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function sAe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iAe(e)}function iAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xz=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function oAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eE(e,t)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){$C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $C(e,t,r){return t=yz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=lAe(e,"string");return wf(t)=="symbol"?t:t+""}function lAe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cAe(e,t){return hAe(e)||fAe(e,t)||dAe(e,t)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(e,t){if(e){if(typeof e=="string")return Y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(e,t)}}function Y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function hAe(e){if(Array.isArray(e))return e}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tE.apply(this,arguments)}var pAe=function(t,r){var n;return U.isValidElement(t)?n=U.cloneElement(t,r):Ot(t)?n=t(r):n=U.createElement("line",tE({},r,{className:"recharts-reference-line-line"})),n},mAe=function(t,r,n,a,s,i,o,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=u.y,m=t.y.apply(g,{position:i});if(Oi(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:i});if(Oi(u,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?x.reverse():x}if(a){var _=u.segment,S=_.map(function(E){return t.apply(E,{position:i})});return Oi(u,"discard")&&LCe(S,function(E){return!t.isInRange(E)})?null:S}return null};function gAe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,o=e.className,c=e.alwaysShow,u=Yje(),d=gz(a),f=vz(s),h=Zje();if(!u||!h)return null;po(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=PC({x:d.scale,y:f.scale}),g=yn(t),m=yn(r),v=n&&n.length===2,y=mAe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=cAe(y,2),x=b[0],_=x.x,S=x.y,E=b[1],k=E.x,N=E.y,T=Oi(e,"hidden")?"url(#".concat(u,")"):void 0,A=X3(X3({clipPath:T},Rt(e,!0)),{},{x1:_,y1:S,x2:k,y2:N});return U.createElement(vr,{className:Ut("recharts-reference-line",o)},pAe(i,A),Jn.renderCallByParent(e,Nje({x1:_,y1:S,x2:k,y2:N})))}var FC=function(e){function t(){return tAe(this,t),aAe(this,t,arguments)}return oAe(t,e),nAe(t,[{key:"render",value:function(){return U.createElement(gAe,this.props)}}])}(U.Component);$C(FC,"displayName","ReferenceLine");$C(FC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(n){Wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wz(n.key),n)}}function yAe(e,t,r){return t&&xAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bAe(e,t,r){return t=My(t),wAe(e,bz()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function wAe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(e)}function _Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bz=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function SAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function Wb(e,t,r){return t=wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=kAe(e,"string");return _f(t)=="symbol"?t:t+""}function kAe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EAe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=PC({x:a.scale,y:s.scale}),o=i.apply({x:r,y:n},{bandAware:!0});return Oi(t,"discard")&&!i.isInRange(o)?null:o},Hb=function(e){function t(){return vAe(this,t),bAe(this,t,arguments)}return SAe(t,e),yAe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,o=n.alwaysShow,c=n.clipPathId,u=yn(a),d=yn(s);if(po(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=EAe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=Oi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=Q3(Q3({clipPath:y},Rt(this.props,!0)),{},{cx:h,cy:p});return U.createElement(vr,{className:Ut("recharts-reference-dot",v)},t.renderDot(m,b),Jn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(U.Component);Wb(Hb,"displayName","ReferenceDot");Wb(Hb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wb(Hb,"renderDot",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):Ot(e)?r=e(t):r=U.createElement(Lb,rE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){Vb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sz(n.key),n)}}function CAe(e,t,r){return t&&NAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jAe(e,t,r){return t=$y(t),AAe(e,_z()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function AAe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OAe(e)}function OAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function PAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sE(e,t)}function sE(e,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sE(e,t)}function Vb(e,t,r){return t=Sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=RAe(e,"string");return Sf(t)=="symbol"?t:t+""}function RAe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IAe=function(t,r,n,a,s){var i=s.x1,o=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=PC({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Oi(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:cz(p,g)},Gb=function(e){function t(){return TAe(this,t),jAe(this,t,arguments)}return PAe(t,e),CAe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;po(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yn(a),h=yn(s),p=yn(i),g=yn(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=IAe(f,h,p,g,this.props);if(!v&&!m)return null;var y=Oi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(vr,{className:Ut("recharts-reference-area",c)},t.renderRect(m,eI(eI({clipPath:y},Rt(this.props,!0)),v)),Jn.renderCallByParent(this.props,v))}}])}(U.Component);Vb(Gb,"displayName","ReferenceArea");Vb(Gb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vb(Gb,"renderRect",function(e,t){var r;return U.isValidElement(e)?r=U.cloneElement(e,t):Ot(e)?r=e(t):r=U.createElement(AC,aE({},t,{className:"recharts-reference-area-rect"})),r});function kz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function DAe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jje(n,r)}function MAe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,o=e.height;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function Fy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function $Ae(e,t){return kz(e,t+1)}function FAe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,o=t.end,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:kz(n,u)};var m=c,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,x=c===0||Fy(e,b,y,d,o);x||(c=0,d=i,u+=1),x&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){LAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LAe(e,t,r){return t=BAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BAe(e){var t=UAe(e,"string");return nm(t)=="symbol"?t:t+""}function UAe(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zAe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,o=t.start,c=t.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===i-1){var v=e*(p.coordinate+e*m()/2-c);s[h]=p=Kn(Kn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=Kn(Kn({},p),{},{tickCoord:p.coordinate});var y=Fy(e,p.tickCoord,m,o,c);y&&(c=p.tickCoord-e*(m()/2+a),s[h]=Kn(Kn({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function WAe(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,c=t.start,u=t.end;if(s){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);i[o-1]=d=Kn(Kn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Fy(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),i[o-1]=Kn(Kn({},d),{},{isShow:!0}))}for(var g=s?o-1:o,m=function(b){var x=i[b],_,S=function(){return _===void 0&&(_=r(x,b)),_};if(b===0){var E=e*(x.coordinate-e*S()/2-c);i[b]=x=Kn(Kn({},x),{},{tickCoord:E<0?x.coordinate-E*e:x.coordinate})}else i[b]=x=Kn(Kn({},x),{},{tickCoord:x.coordinate});var k=Fy(e,x.tickCoord,S,c,u);k&&(c=x.tickCoord+e*(S()/2+a),i[b]=Kn(Kn({},x),{},{isShow:!0}))},v=0;v<g;v++)m(v);return i}function LC(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Fe(c)||Ci.isSsr)return $Ae(a,typeof c=="number"&&Fe(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?kp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,_){var S=Ot(u)?u(x.value,_):x.value;return p==="width"?DAe(kp(S,{fontSize:t,letterSpacing:r}),g,f):kp(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Xs(a[1].coordinate-a[0].coordinate):1,y=MAe(s,v,p);return c==="equidistantPreserveStart"?FAe(v,y,m,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=WAe(v,y,m,a,i,c==="preserveStartEnd"):h=zAe(v,y,m,a,i),h.filter(function(b){return b.isShow}))}var HAe=["viewBox"],VAe=["viewBox"],GAe=["ticks"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){BC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A_(e,t){if(e==null)return{};var r=qAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tz(n.key),n)}}function XAe(e,t,r){return t&&nI(e.prototype,t),r&&nI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YAe(e,t,r){return t=Ly(t),JAe(e,Ez()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function JAe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QAe(e)}function QAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function ZAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function BC(e,t,r){return t=Tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=eOe(e,"string");return kf(t)=="symbol"?t:t+""}function eOe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oh=function(e){function t(r){var n;return KAe(this,t),n=YAe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ZAe(t,e),XAe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=A_(n,HAe),o=this.props,c=o.viewBox,u=A_(o,VAe);return!jd(s,c)||!jd(i,u)||!jd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,y,b,x=f?-1:1,_=n.tickSize||d,S=Fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=i+ +!f*c,m=v-x*_,b=m-x*h,y=S;break;case"left":m=v=n.coordinate,g=s+ +!f*o,p=g-x*_,y=p-x*h,b=S;break;case"right":m=v=n.coordinate,g=s+ +f*o,p=g+x*_,y=p+x*h,b=S;break;default:p=g=n.coordinate,v=i+ +f*c,m=v+x*_,b=m+x*h,y=S;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=nn(nn(nn({},Rt(this.props,!1)),Rt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=nn(nn({},f),{},{x1:a,y1:s+h*o,x2:a+i,y2:s+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=nn(nn({},f),{},{x1:a+p*i,y1:s,x2:a+p*i,y2:s+o})}return U.createElement("line",pd({},f,{className:Ut("recharts-cartesian-axis-line",ms(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=LC(nn(nn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Rt(this.props,!1),y=Rt(d,!1),b=nn(nn({},v),{},{fill:"none"},Rt(c,!1)),x=p.map(function(_,S){var E=i.getTickLineCoord(_),k=E.line,N=E.tick,T=nn(nn(nn(nn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),N),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return U.createElement(vr,pd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Vx(i.props,_,S)),c&&U.createElement("line",pd({},b,k,{className:Ut("recharts-cartesian-axis-tick-line",ms(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(Ot(f)?f(_.value,S):_.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,o=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=A_(f,GAe),g=h;return Ot(c)&&(g=h&&h.length>0?c(this.props):c(p)),i<=0||o<=0||!g||!g.length?null:U.createElement(vr,{className:Ut("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,o=Ut(a.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(n)?i=U.cloneElement(n,nn(nn({},a),{},{className:o})):Ot(n)?i=n(nn(nn({},a),{},{className:o})):i=U.createElement(iy,pd({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(w.Component);BC(oh,"displayName","CartesianAxis");BC(oh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tOe=["x1","y1","x2","y2","key"],rOe=["offset"];function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){nOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nOe(e,t,r){return t=aOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aOe(e){var t=sOe(e,"string");return cu(t)=="symbol"?t:t+""}function sOe(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}function sI(e,t){if(e==null)return{};var r=iOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oOe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,o=t.height,c=t.ry;return U.createElement("rect",{x:a,y:s,ry:c,width:i,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Nz(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(Ot(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,o=t.key,c=sI(t,tOe),u=Rt(c,!1);u.offset;var d=sI(u,rOe);r=U.createElement("line",Pc({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:o}))}return r}function lOe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(o,c){var u=Qn(Qn({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return Nz(a,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function cOe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(o,c){var u=Qn(Qn({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return Nz(a,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function uOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+i-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return U.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dOe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return U.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fOe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return $9(LC(Qn(Qn(Qn({},oh.defaultProps),n),{},{ticks:lo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},hOe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return $9(LC(Qn(Qn(Qn({},oh.defaultProps),n),{},{ticks:lo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},Hu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oE(e){var t,r,n,a,s,i,o=DC(),c=MC(),u=eAe(),d=Qn(Qn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hu.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Hu.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Hu.verticalFill,x:Fe(e.x)?e.x:u.left,y:Fe(e.y)?e.y:u.top,width:Fe(e.width)?e.width:u.width,height:Fe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=Jje(),x=Qje();if(!Fe(p)||p<=0||!Fe(g)||g<=0||!Fe(f)||f!==+f||!Fe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||fOe,S=d.horizontalCoordinatesGenerator||hOe,E=d.horizontalPoints,k=d.verticalPoints;if((!E||!E.length)&&Ot(S)){var N=v&&v.length,T=S({yAxis:x?Qn(Qn({},x),{},{ticks:N?v:x.ticks}):void 0,width:o,height:c,offset:u},N?!0:m);po(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cu(T),"]")),Array.isArray(T)&&(E=T)}if((!k||!k.length)&&Ot(_)){var A=y&&y.length,C=_({xAxis:b?Qn(Qn({},b),{},{ticks:A?y:b.ticks}):void 0,width:o,height:c,offset:u},A?!0:m);po(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cu(C),"]")),Array.isArray(C)&&(k=C)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(oOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(lOe,Pc({},d,{offset:u,horizontalPoints:E,xAxis:b,yAxis:x})),U.createElement(cOe,Pc({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:x})),U.createElement(uOe,Pc({},d,{horizontalPoints:E})),U.createElement(dOe,Pc({},d,{verticalPoints:k})))}oE.displayName="CartesianGrid";var pOe=["type","layout","connectNulls","ref"],mOe=["key"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function iI(e,t){if(e==null)return{};var r=gOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(this,arguments)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){Us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vu(e){return bOe(e)||yOe(e)||xOe(e)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xOe(e,t){if(e){if(typeof e=="string")return lE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(e,t)}}function yOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bOe(e){if(Array.isArray(e))return lE(e)}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jz(n.key),n)}}function _Oe(e,t,r){return t&&lI(e.prototype,t),r&&lI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SOe(e,t,r){return t=By(t),kOe(e,Cz()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function kOe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EOe(e)}function EOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function TOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cE(e,t)}function Us(e,t,r){return t=jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=NOe(e,"string");return Ef(t)=="symbol"?t:t+""}function NOe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Km=function(e){function t(){var r;wOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=SOe(this,t,[].concat(a)),Us(r,"state",{isAnimationFinished:!0,totalLength:0}),Us(r,"generateSimpleStrokeDasharray",function(i,o){return"".concat(o,"px ").concat(i-o,"px")}),Us(r,"getStrokeDasharray",function(i,o,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(o,i);for(var d=Math.floor(i/u),f=i%u,h=o-i,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Vu(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Vu(t.repeat(c,d)),Vu(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Us(r,"id",eh("recharts-line-")),Us(r,"pathRef",function(i){r.mainCurve=i}),Us(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Us(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return TOe(t,e),_Oe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=gs(d,qm);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:xa(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(vr,p,f.map(function(g){return U.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:i,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,f=Rt(this.props,!1),h=Rt(c,!0),p=u.map(function(m,v){var y=Ma(Ma(Ma({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return U.createElement(vr,Cp({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,s,i){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=iI(o,pOe),h=Ma(Ma(Ma({},Rt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return U.createElement(Rd,Cp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,o=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=i.animateNewValues,m=i.width,v=i.height,y=this.state,b=y.prevPoints,x=y.totalLength;return U.createElement($i,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(b){var E=b.length/o.length,k=o.map(function(j,R){var I=Math.floor(R*E);if(b[I]){var M=b[I],W=$n(M.x,j.x),K=$n(M.y,j.y);return Ma(Ma({},j),{},{x:W(S),y:K(S)})}if(g){var H=$n(m*2,j.x),O=$n(v/2,j.y);return Ma(Ma({},j),{},{x:H(S),y:O(S)})}return Ma(Ma({},j),{},{x:j.x,y:j.y})});return s.renderCurveStatically(k,n,a)}var N=$n(0,x),T=N(S),A;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});A=s.getStrokeDasharray(T,x,C)}else A=s.generateSimpleStrokeDasharray(x,T);return s.renderCurveStatically(o,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,o=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&i&&i.length&&(!u&&d>0||!mf(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,o=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=Ut("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,E=_||S,k=Mt(v)?this.id:v,N=(n=Rt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=N.r,A=T===void 0?3:T,C=N.strokeWidth,j=C===void 0?2:C,R=j7(i)?i:{},I=R.clipDot,M=I===void 0?!0:I,W=A*2+j;return U.createElement(vr,{className:x},_||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(k)},U.createElement("rect",{x:_?h:h-p/2,y:S?f:f-g/2,width:_?p:p*2,height:S?g:g*2})),!M&&U.createElement("clipPath",{id:"clipPath-dots-".concat(k)},U.createElement("rect",{x:h-W/2,y:f-W/2,width:p+W,height:g+W}))):null,!b&&this.renderCurve(E,k),this.renderErrorBar(E,k),(b||i)&&this.renderDots(E,M,k),(!m||y)&&Ai.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Vu(n),[0]):n,i=[],o=0;o<a;++o)i=[].concat(Vu(i),Vu(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(U.isValidElement(n))s=U.cloneElement(n,a);else if(Ot(n))s=n(a);else{var i=a.key,o=iI(a,mOe),c=Ut("recharts-line-dot",typeof n!="boolean"?n.className:"");s=U.createElement(Lb,Cp({key:i},o,{className:c}))}return s}}])}(w.PureComponent);Us(Km,"displayName","Line");Us(Km,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ci.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Us(Km,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=xa(h,i);return d==="horizontal"?{x:by({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Mt(g)?null:n.scale(g),value:g,payload:h}:{x:Mt(g)?null:r.scale(g),y:by({axis:n,ticks:s,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Ma({points:f,layout:d},u)});var COe=["layout","type","stroke","connectNulls","isRange","ref"],jOe=["key"],Az;function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Oz(e,t){if(e==null)return{};var r=AOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){Si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rz(n.key),n)}}function POe(e,t,r){return t&&uI(e.prototype,t),r&&uI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ROe(e,t,r){return t=Uy(t),IOe(e,Pz()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function IOe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DOe(e)}function DOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function MOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uE(e,t)}function uE(e,t){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uE(e,t)}function Si(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=$Oe(e,"string");return Tf(t)=="symbol"?t:t+""}function $Oe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ic=function(e){function t(){var r;OOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=ROe(this,t,[].concat(a)),Si(r,"state",{isAnimationFinished:!0}),Si(r,"id",eh("recharts-area-")),Si(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ot(i)&&i()}),Si(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ot(i)&&i()}),r}return MOe(t,e),POe(t,[{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Rt(this.props,!1),p=Rt(u,!0),g=d.map(function(v,y){var b=Wo(Wo(Wo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return U.createElement(vr,Rc({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,i=a.points,o=a.strokeWidth,c=i[0].x,u=i[i.length-1].x,d=n*Math.abs(c-u),f=ml(i.map(function(h){return h.y||0}));return Fe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ml(s.map(function(h){return h.y||0})),f)),Fe(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,i=a.points,o=a.strokeWidth,c=i[0].y,u=i[i.length-1].y,d=n*Math.abs(c-u),f=ml(i.map(function(h){return h.x||0}));return Fe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ml(s.map(function(h){return h.x||0})),f)),Fe(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,i){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=Oz(o,COe);return U.createElement(vr,{clipPath:s?"url(#clipPath-".concat(i,")"):null},U.createElement(Rd,Rc({},Rt(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(Rd,Rc({},Rt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&U.createElement(Rd,Rc({},Rt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,i=this.props,o=i.points,c=i.baseLine,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return U.createElement($i,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var x=m.length/o.length,_=o.map(function(N,T){var A=Math.floor(T*x);if(m[A]){var C=m[A],j=$n(C.x,N.x),R=$n(C.y,N.y);return Wo(Wo({},N),{},{x:j(b),y:R(b)})}return N}),S;if(Fe(c)&&typeof c=="number"){var E=$n(v,c);S=E(b)}else if(Mt(c)||Zf(c)){var k=$n(v,0);S=k(b)}else S=c.map(function(N,T){var A=Math.floor(T*x);if(v[A]){var C=v[A],j=$n(C.x,N.x),R=$n(C.y,N.y);return Wo(Wo({},N),{},{x:j(b),y:R(b)})}return N});return s.renderAreaStatically(_,S,n,a)}return U.createElement(vr,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(b))),U.createElement(vr,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(o,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,i=s.points,o=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&i&&i.length&&(!d&&h>0||!mf(d,i)||!mf(f,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,o=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=Ut("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,E=_||S,k=Mt(v)?this.id:v,N=(n=Rt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=N.r,A=T===void 0?3:T,C=N.strokeWidth,j=C===void 0?2:C,R=j7(i)?i:{},I=R.clipDot,M=I===void 0?!0:I,W=A*2+j;return U.createElement(vr,{className:x},_||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(k)},U.createElement("rect",{x:_?d:d-p/2,y:S?u:u-g/2,width:_?p:p*2,height:S?g:g*2})),!M&&U.createElement("clipPath",{id:"clipPath-dots-".concat(k)},U.createElement("rect",{x:d-W/2,y:u-W/2,width:p+W,height:g+W}))):null,b?null:this.renderArea(E,k),(i||b)&&this.renderDots(E,M,k),(!m||y)&&Ai.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);Az=ic;Si(ic,"displayName","Area");Si(ic,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ci.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Si(ic,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,i=t.props.baseValue,o=i??s;if(Fe(o)&&typeof o=="number")return o;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Si(ic,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=Az.getBaseValue(t,r,n,a),v=p==="horizontal",y=!1,b=f.map(function(_,S){var E;g?E=u[d+S]:(E=xa(_,c),Array.isArray(E)?y=!0:E=[m,E]);var k=E[1]==null||g&&xa(_,c)==null;return v?{x:by({axis:n,ticks:s,bandSize:o,entry:_,index:S}),y:k?null:a.scale(E[1]),value:E,payload:_}:{x:k?null:n.scale(E[1]),y:by({axis:a,ticks:i,bandSize:o,entry:_,index:S}),value:E,payload:_}}),x;return g||y?x=b.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):x=v?a.scale(m):n.scale(m),Wo({points:b,baseLine:x,layout:p,isRange:y},h)});Si(ic,"renderDotItem",function(e,t){var r;if(U.isValidElement(e))r=U.cloneElement(e,t);else if(Ot(e))r=e(t);else{var n=Ut("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=Oz(t,jOe);r=U.createElement(Lb,Rc({},s,{key:a,className:n}))}return r});function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function FOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mz(n.key),n)}}function BOe(e,t,r){return t&&LOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UOe(e,t,r){return t=zy(t),zOe(e,Iz()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function zOe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WOe(e)}function WOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}function HOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dE(e,t)}function Dz(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=VOe(e,"string");return Nf(t)=="symbol"?t:t+""}function VOe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fE.apply(this,arguments)}function GOe(e){var t=e.xAxisId,r=DC(),n=MC(),a=gz(t);return a==null?null:w.createElement(oh,fE({},a,{className:Ut("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return lo(i,!0)}}))}var Hl=function(e){function t(){return FOe(this,t),UOe(this,t,arguments)}return HOe(t,e),BOe(t,[{key:"render",value:function(){return w.createElement(GOe,this.props)}}])}(w.Component);Dz(Hl,"displayName","XAxis");Dz(Hl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function qOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lz(n.key),n)}}function XOe(e,t,r){return t&&KOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YOe(e,t,r){return t=Wy(t),JOe(e,$z()?Reflect.construct(t,r||[],Wy(e).constructor):t.apply(e,r))}function JOe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QOe(e)}function QOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}function ZOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}function hE(e,t){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hE(e,t)}function Fz(e,t,r){return t=Lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e){var t=ePe(e,"string");return Cf(t)=="symbol"?t:t+""}function ePe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pE.apply(this,arguments)}var tPe=function(t){var r=t.yAxisId,n=DC(),a=MC(),s=vz(r);return s==null?null:w.createElement(oh,pE({},s,{className:Ut("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return lo(o,!0)}}))},Vl=function(e){function t(){return qOe(this,t),YOe(this,t,arguments)}return ZOe(t,e),XOe(t,[{key:"render",value:function(){return w.createElement(tPe,this.props)}}])}(w.Component);Fz(Vl,"displayName","YAxis");Fz(Vl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dI(e){return sPe(e)||aPe(e)||nPe(e)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return mE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(e,t)}}function aPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sPe(e){if(Array.isArray(e))return mE(e)}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gE=function(t,r,n,a,s){var i=gs(t,FC),o=gs(t,Hb),c=[].concat(dI(i),dI(o)),u=gs(t,Gb),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Oi(v.props,"extendDomain")&&Fe(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Oi(v.props,"extendDomain")&&Fe(v.props[p])&&Fe(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return Fe(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},Bz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var _=v.length,S;for(x=0;x<_;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,f);break;case 4:v[x].fn.call(v[x].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:i(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Bz);var iPe=Bz.exports;const oPe=dr(iPe);var O_=new oPe,P_="recharts.syncMouseEvents";function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function lPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uz(n.key),n)}}function uPe(e,t,r){return t&&cPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R_(e,t,r){return t=Uz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uz(e){var t=dPe(e,"string");return am(t)=="symbol"?t:t+""}function dPe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fPe=function(){function e(){lPe(this,e),R_(this,"activeIndex",0),R_(this,"coordinateList",[]),R_(this,"layout","horizontal")}return uPe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,o=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function hPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Fe(n)&&Fe(a))return!0}return!1}function pPe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Fn(t,r,n,a),o=Fn(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function mPe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Fn(o,c,u,f),p=Fn(o,c,d,f);n=h.x,a=h.y,s=p.x,i=p.y}else return zz(t);return[{x:n,y:a},{x:s,y:i}]}function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){gPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gPe(e,t,r){return t=vPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vPe(e){var t=xPe(e,"string");return sm(t)=="symbol"?t:t+""}function xPe(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yPe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var g,m=Rd;if(h==="ScatterChart")g=i,m=cNe;else if(h==="BarChart")g=pPe(f,i,c,d),m=AC;else if(f==="radial"){var v=zz(i),y=v.cx,b=v.cy,x=v.radius,_=v.startAngle,S=v.endAngle;g={cx:y,cy:b,startAngle:_,endAngle:S,innerRadius:x,outerRadius:x},m=z9}else g={points:mPe(f,i,c)},m=Rd;var E=nv(nv(nv(nv({stroke:"#ccc",pointerEvents:"none"},c),g),Rt(p,!1)),{},{payload:o,payloadIndex:u,className:Ut("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,E):w.createElement(m,E)}var bPe=["item"],wPe=["children","className","width","height","style","compact","title","desc"];function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function hI(e,t){return kPe(e)||SPe(e,t)||Hz(e,t)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function kPe(e){if(Array.isArray(e))return e}function pI(e,t){if(e==null)return{};var r=EPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vz(n.key),n)}}function CPe(e,t,r){return t&&NPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jPe(e,t,r){return t=Hy(t),APe(e,Wz()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function APe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OPe(e)}function OPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wz=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function PPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vE(e,t)}function vE(e,t){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vE(e,t)}function Af(e){return DPe(e)||IPe(e)||Hz(e)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(e,t){if(e){if(typeof e=="string")return xE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(e,t)}}function IPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DPe(e){if(Array.isArray(e))return xE(e)}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mt(e,t,r){return t=Vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=MPe(e,"string");return jf(t)=="symbol"?t:t+""}function MPe(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Pe={xAxis:["bottom","top"],yAxis:["left","right"]},FPe={width:"100%",height:"100%"},Gz={x:0,y:0};function av(e){return e}var LPe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},BPe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,o=a.radius;return we(we(we({},a),Fn(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var c=s.coordinate,u=a.angle;return we(we(we({},a),Fn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Gz},qb=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Af(o),Af(u)):o},[]);return i.length>0?i:t&&t.length&&Fe(a)&&Fe(s)?t.slice(a,s+1):[]};function qz(e){return e==="number"?[0,"auto"]:void 0}var yE=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,o=qb(r,t);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?o:f;h=Wx(p,i.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Af(c),[L9(u,h)]):c},[])},gI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=LPe(s,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=VSe(i,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=yE(t,r,d,f),p=BPe(n,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},UPe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=M9(d,s);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?we(we({},m.type.defaultProps),m.props):m.props,b=y.type,x=y.dataKey,_=y.allowDataOverflow,S=y.allowDuplicatedCategory,E=y.scale,k=y.ticks,N=y.includeHidden,T=y[i];if(g[T])return g;var A=qb(t.data,{graphicalItems:a.filter(function(P){var G,B=i in P.props?P.props[i]:(G=P.type.defaultProps)===null||G===void 0?void 0:G[i];return B===T}),dataStartIndex:c,dataEndIndex:u}),C=A.length,j,R,I;hPe(y.domain,_,b)&&(j=Dk(y.domain,null,_),p&&(b==="number"||E!=="auto")&&(I=Tp(A,x,"category")));var M=qz(b);if(!j||j.length===0){var W,K=(W=y.domain)!==null&&W!==void 0?W:M;if(x){if(j=Tp(A,x,b),b==="category"&&p){var H=Rde(j);S&&H?(R=j,j=Ay(0,C)):S||(j=G4(K,j,m).reduce(function(P,G){return P.indexOf(G)>=0?P:[].concat(Af(P),[G])},[]))}else if(b==="category")S?j=j.filter(function(P){return P!==""&&!Mt(P)}):j=G4(K,j,m).reduce(function(P,G){return P.indexOf(G)>=0||G===""||Mt(G)?P:[].concat(Af(P),[G])},[]);else if(b==="number"){var O=YSe(A,a.filter(function(P){var G,B,z=i in P.props?P.props[i]:(G=P.type.defaultProps)===null||G===void 0?void 0:G[i],ae="hide"in P.props?P.props.hide:(B=P.type.defaultProps)===null||B===void 0?void 0:B.hide;return z===T&&(N||!ae)}),x,s,d);O&&(j=O)}p&&(b==="number"||E!=="auto")&&(I=Tp(A,x,"category"))}else p?j=Ay(0,C):o&&o[T]&&o[T].hasStack&&b==="number"?j=h==="expand"?[0,1]:F9(o[T].stackGroups,c,u):j=D9(A,a.filter(function(P){var G=i in P.props?P.props[i]:P.type.defaultProps[i],B="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return G===T&&(N||!B)}),b,d,!0);if(b==="number")j=gE(f,j,T,s,k),K&&(j=Dk(K,j,_));else if(b==="category"&&K){var Z=K,J=j.every(function(P){return Z.indexOf(P)>=0});J&&(j=Z)}}return we(we({},g),{},mt({},T,we(we({},y),{},{axisType:s,domain:j,categoricalDomain:I,duplicateDomain:R,originalDomain:(v=y.domain)!==null&&v!==void 0?v:M,isCategorical:p,layout:d})))},{})},zPe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=qb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=M9(d,s),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?we(we({},y.type.defaultProps),y.props):y.props,x=b[i],_=qz("number");if(!v[x]){m++;var S;return g?S=Ay(0,p):o&&o[x]&&o[x].hasStack?(S=F9(o[x].stackGroups,c,u),S=gE(f,S,x,s)):(S=Dk(_,D9(h,n.filter(function(E){var k,N,T=i in E.props?E.props[i]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[i],A="hide"in E.props?E.props.hide:(N=E.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===x&&!A}),"number",d),a.defaultProps.allowDataOverflow),S=gE(f,S,x,s)),we(we({},v),{},mt({},x,we(we({axisType:s},a.defaultProps),{},{hide:!0,orientation:ms($Pe,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},WPe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=gs(d,s),p={};return h&&h.length?p=UPe(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=zPe(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},HPe=function(t){var r=rl(t),n=lo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:wy(r,n)}},vI=function(t){var r=t.children,n=t.defaultShowTooltip,a=La(r,yf),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},VPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ho(r&&r.type);return n&&n.indexOf("Bar")>=0})},xI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},GPe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=La(f,yf),g=La(f,Ad),m=Object.keys(c).reduce(function(S,E){var k=c[E],N=k.orientation;return!k.mirror&&!k.hide?we(we({},S),{},mt({},N,S[N]+k.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,E){var k=i[E],N=k.orientation;return!k.mirror&&!k.hide?we(we({},S),{},mt({},N,ms(S,"".concat(N))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=we(we({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||yf.defaultProps.height),g&&r&&(y=KSe(y,a,n,r));var x=u-y.left-y.right,_=d-y.top-y.bottom;return we(we({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(_,0)})},qPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},UC=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,o=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var x=b.graphicalItems,_=b.stackGroups,S=b.offset,E=b.updateId,k=b.dataStartIndex,N=b.dataEndIndex,T=y.barSize,A=y.layout,C=y.barGap,j=y.barCategoryGap,R=y.maxBarSize,I=xI(A),M=I.numericAxisName,W=I.cateAxisName,K=VPe(x),H=[];return x.forEach(function(O,Z){var J=qb(y.data,{graphicalItems:[O],dataStartIndex:k,dataEndIndex:N}),P=O.type.defaultProps!==void 0?we(we({},O.type.defaultProps),O.props):O.props,G=P.dataKey,B=P.maxBarSize,z=P["".concat(M,"Id")],ae=P["".concat(W,"Id")],V={},ie=c.reduce(function(nt,at){var yt=b["".concat(at.axisType,"Map")],Y=P["".concat(at.axisType,"Id")];yt&&yt[Y]||at.axisType==="zAxis"||lu();var be=yt[Y];return we(we({},nt),{},mt(mt({},at.axisType,be),"".concat(at.axisType,"Ticks"),lo(be)))},V),re=ie[W],L=ie["".concat(W,"Ticks")],oe=_&&_[z]&&_[z].hasStack&&lke(O,_[z].stackGroups),D=ho(O.type).indexOf("Bar")>=0,le=wy(re,L),ye=[],Se=K&&GSe({barSize:T,stackGroups:_,totalSize:qPe(ie,W)});if(D){var _e,pe,Le=Mt(B)?R:B,ze=(_e=(pe=wy(re,L,!0))!==null&&pe!==void 0?pe:Le)!==null&&_e!==void 0?_e:0;ye=qSe({barGap:C,barCategoryGap:j,bandSize:ze!==le?ze:le,sizeList:Se[ae],maxBarSize:Le}),ze!==le&&(ye=ye.map(function(nt){return we(we({},nt),{},{position:we(we({},nt.position),{},{offset:nt.position.offset-ze/2})})}))}var xt=O&&O.type&&O.type.getComposedData;xt&&H.push({props:we(we({},xt(we(we({},ie),{},{displayedData:J,props:y,dataKey:G,item:O,bandSize:le,barPosition:ye,offset:S,stackedData:oe,layout:A,dataStartIndex:k,dataEndIndex:N}))),{},mt(mt(mt({key:O.key||"item-".concat(Z)},M,ie[M]),W,ie[W]),"animationId",E)),childIndex:Vde(O,y.children),item:O})}),H},p=function(y,b){var x=y.props,_=y.dataStartIndex,S=y.dataEndIndex,E=y.updateId;if(!BP({props:x}))return null;var k=x.children,N=x.layout,T=x.stackOffset,A=x.data,C=x.reverseStackOrder,j=xI(N),R=j.numericAxisName,I=j.cateAxisName,M=gs(k,n),W=ske(A,M,"".concat(R,"Id"),"".concat(I,"Id"),T,C),K=c.reduce(function(P,G){var B="".concat(G.axisType,"Map");return we(we({},P),{},mt({},B,WPe(x,we(we({},G),{},{graphicalItems:M,stackGroups:G.axisType===R&&W,dataStartIndex:_,dataEndIndex:S}))))},{}),H=GPe(we(we({},K),{},{props:x,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(K).forEach(function(P){K[P]=d(x,K[P],H,P.replace("Map",""),r)});var O=K["".concat(I,"Map")],Z=HPe(O),J=h(x,we(we({},K),{},{dataStartIndex:_,dataEndIndex:S,updateId:E,graphicalItems:M,stackGroups:W,offset:H}));return we(we({formattedGraphicalItems:J,graphicalItems:M,offset:H,stackGroups:W},Z),K)},g=function(v){function y(b){var x,_,S;return TPe(this,y),S=jPe(this,y,[b]),mt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(S,"accessibilityManager",new fPe),mt(S,"handleLegendBBoxUpdate",function(E){if(E){var k=S.state,N=k.dataStartIndex,T=k.dataEndIndex,A=k.updateId;S.setState(we({legendBBox:E},p({props:S.props,dataStartIndex:N,dataEndIndex:T,updateId:A},we(we({},S.state),{},{legendBBox:E}))))}}),mt(S,"handleReceiveSyncEvent",function(E,k,N){if(S.props.syncId===E){if(N===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),mt(S,"handleBrushChange",function(E){var k=E.startIndex,N=E.endIndex;if(k!==S.state.dataStartIndex||N!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return we({dataStartIndex:k,dataEndIndex:N},p({props:S.props,dataStartIndex:k,dataEndIndex:N,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:N})}}),mt(S,"handleMouseEnter",function(E){var k=S.getMouseInfo(E);if(k){var N=we(we({},k),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var T=S.props.onMouseEnter;Ot(T)&&T(N,E)}}),mt(S,"triggeredAfterMouseMove",function(E){var k=S.getMouseInfo(E),N=k?we(we({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var T=S.props.onMouseMove;Ot(T)&&T(N,E)}),mt(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),mt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),mt(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),mt(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var N=S.props.onMouseLeave;Ot(N)&&N(k,E)}),mt(S,"handleOuterEvent",function(E){var k=Hde(E),N=ms(S.props,"".concat(k));if(k&&Ot(N)){var T,A;/.*touch.*/i.test(k)?A=S.getMouseInfo(E.changedTouches[0]):A=S.getMouseInfo(E),N((T=A)!==null&&T!==void 0?T:{},E)}}),mt(S,"handleClick",function(E){var k=S.getMouseInfo(E);if(k){var N=we(we({},k),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var T=S.props.onClick;Ot(T)&&T(N,E)}}),mt(S,"handleMouseDown",function(E){var k=S.props.onMouseDown;if(Ot(k)){var N=S.getMouseInfo(E);k(N,E)}}),mt(S,"handleMouseUp",function(E){var k=S.props.onMouseUp;if(Ot(k)){var N=S.getMouseInfo(E);k(N,E)}}),mt(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),mt(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),mt(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),mt(S,"handleDoubleClick",function(E){var k=S.props.onDoubleClick;if(Ot(k)){var N=S.getMouseInfo(E);k(N,E)}}),mt(S,"handleContextMenu",function(E){var k=S.props.onContextMenu;if(Ot(k)){var N=S.getMouseInfo(E);k(N,E)}}),mt(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&O_.emit(P_,S.props.syncId,E,S.eventEmitterSymbol)}),mt(S,"applySyncEvent",function(E){var k=S.props,N=k.layout,T=k.syncMethod,A=S.state.updateId,C=E.dataStartIndex,j=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(we({dataStartIndex:C,dataEndIndex:j},p({props:S.props,dataStartIndex:C,dataEndIndex:j,updateId:A},S.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,I=E.chartY,M=E.activeTooltipIndex,W=S.state,K=W.offset,H=W.tooltipTicks;if(!K)return;if(typeof T=="function")M=T(H,E);else if(T==="value"){M=-1;for(var O=0;O<H.length;O++)if(H[O].value===E.activeLabel){M=O;break}}var Z=we(we({},K),{},{x:K.left,y:K.top}),J=Math.min(R,Z.x+Z.width),P=Math.min(I,Z.y+Z.height),G=H[M]&&H[M].value,B=yE(S.state,S.props.data,M),z=H[M]?{x:N==="horizontal"?H[M].coordinate:J,y:N==="horizontal"?P:H[M].coordinate}:Gz;S.setState(we(we({},E),{},{activeLabel:G,activeCoordinate:z,activePayload:B,activeTooltipIndex:M}))}else S.setState(E)}),mt(S,"renderCursor",function(E){var k,N=S.state,T=N.isTooltipActive,A=N.activeCoordinate,C=N.activePayload,j=N.offset,R=N.activeTooltipIndex,I=N.tooltipAxisBandSize,M=S.getTooltipEventType(),W=(k=E.props.active)!==null&&k!==void 0?k:T,K=S.props.layout,H=E.key||"_recharts-cursor";return U.createElement(yPe,{key:H,activeCoordinate:A,activePayload:C,activeTooltipIndex:R,chartName:r,element:E,isActive:W,layout:K,offset:j,tooltipAxisBandSize:I,tooltipEventType:M})}),mt(S,"renderPolarAxis",function(E,k,N){var T=ms(E,"type.axisType"),A=ms(S.state,"".concat(T,"Map")),C=E.type.defaultProps,j=C!==void 0?we(we({},C),E.props):E.props,R=A&&A[j["".concat(T,"Id")]];return w.cloneElement(E,we(we({},R),{},{className:Ut(T,R.className),key:E.key||"".concat(k,"-").concat(N),ticks:lo(R,!0)}))}),mt(S,"renderPolarGrid",function(E){var k=E.props,N=k.radialLines,T=k.polarAngles,A=k.polarRadius,C=S.state,j=C.radiusAxisMap,R=C.angleAxisMap,I=rl(j),M=rl(R),W=M.cx,K=M.cy,H=M.innerRadius,O=M.outerRadius;return w.cloneElement(E,{polarAngles:Array.isArray(T)?T:lo(M,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(A)?A:lo(I,!0).map(function(Z){return Z.coordinate}),cx:W,cy:K,innerRadius:H,outerRadius:O,key:E.key||"polar-grid",radialLines:N})}),mt(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,k=S.props,N=k.children,T=k.width,A=k.height,C=S.props.margin||{},j=T-(C.left||0)-(C.right||0),R=R9({children:N,formattedGraphicalItems:E,legendWidth:j,legendContent:u});if(!R)return null;var I=R.item,M=pI(R,bPe);return w.cloneElement(I,we(we({},M),{},{chartWidth:T,chartHeight:A,margin:C,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),mt(S,"renderTooltip",function(){var E,k=S.props,N=k.children,T=k.accessibilityLayer,A=La(N,Ba);if(!A)return null;var C=S.state,j=C.isTooltipActive,R=C.activeCoordinate,I=C.activePayload,M=C.activeLabel,W=C.offset,K=(E=A.props.active)!==null&&E!==void 0?E:j;return w.cloneElement(A,{viewBox:we(we({},W),{},{x:W.left,y:W.top}),active:K,label:M,payload:K?I:[],coordinate:R,accessibilityLayer:T})}),mt(S,"renderBrush",function(E){var k=S.props,N=k.margin,T=k.data,A=S.state,C=A.offset,j=A.dataStartIndex,R=A.dataEndIndex,I=A.updateId;return w.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Zg(S.handleBrushChange,E.props.onChange),data:T,x:Fe(E.props.x)?E.props.x:C.left,y:Fe(E.props.y)?E.props.y:C.top+C.height+C.brushBottom-(N.bottom||0),width:Fe(E.props.width)?E.props.width:C.width,startIndex:j,endIndex:R,updateId:"brush-".concat(I)})}),mt(S,"renderReferenceElement",function(E,k,N){if(!E)return null;var T=S,A=T.clipPathId,C=S.state,j=C.xAxisMap,R=C.yAxisMap,I=C.offset,M=E.type.defaultProps||{},W=E.props,K=W.xAxisId,H=K===void 0?M.xAxisId:K,O=W.yAxisId,Z=O===void 0?M.yAxisId:O;return w.cloneElement(E,{key:E.key||"".concat(k,"-").concat(N),xAxis:j[H],yAxis:R[Z],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),mt(S,"renderActivePoints",function(E){var k=E.item,N=E.activePoint,T=E.basePoint,A=E.childIndex,C=E.isRange,j=[],R=k.props.key,I=k.item.type.defaultProps!==void 0?we(we({},k.item.type.defaultProps),k.item.props):k.item.props,M=I.activeDot,W=I.dataKey,K=we(we({index:A,dataKey:W,cx:N.x,cy:N.y,r:4,fill:jC(k.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Rt(M,!1)),Hx(M));return j.push(y.renderActiveDot(M,K,"".concat(R,"-activePoint-").concat(A))),T?j.push(y.renderActiveDot(M,we(we({},K),{},{cx:T.x,cy:T.y}),"".concat(R,"-basePoint-").concat(A))):C&&j.push(null),j}),mt(S,"renderGraphicChild",function(E,k,N){var T=S.filterFormatItem(E,k,N);if(!T)return null;var A=S.getTooltipEventType(),C=S.state,j=C.isTooltipActive,R=C.tooltipAxis,I=C.activeTooltipIndex,M=C.activeLabel,W=S.props.children,K=La(W,Ba),H=T.props,O=H.points,Z=H.isRange,J=H.baseLine,P=T.item.type.defaultProps!==void 0?we(we({},T.item.type.defaultProps),T.item.props):T.item.props,G=P.activeDot,B=P.hide,z=P.activeBar,ae=P.activeShape,V=!!(!B&&j&&K&&(G||z||ae)),ie={};A!=="axis"&&K&&K.props.trigger==="click"?ie={onClick:Zg(S.handleItemMouseEnter,E.props.onClick)}:A!=="axis"&&(ie={onMouseLeave:Zg(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Zg(S.handleItemMouseEnter,E.props.onMouseEnter)});var re=w.cloneElement(E,we(we({},T.props),ie));function L(at){return typeof R.dataKey=="function"?R.dataKey(at.payload):null}if(V)if(I>=0){var oe,D;if(R.dataKey&&!R.allowDuplicatedCategory){var le=typeof R.dataKey=="function"?L:"payload.".concat(R.dataKey.toString());oe=Wx(O,le,M),D=Z&&J&&Wx(J,le,M)}else oe=O==null?void 0:O[I],D=Z&&J&&J[I];if(ae||z){var ye=E.props.activeIndex!==void 0?E.props.activeIndex:I;return[w.cloneElement(E,we(we(we({},T.props),ie),{},{activeIndex:ye})),null,null]}if(!Mt(oe))return[re].concat(Af(S.renderActivePoints({item:T,activePoint:oe,basePoint:D,childIndex:I,isRange:Z})))}else{var Se,_e=(Se=S.getItemByXY(S.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:re},pe=_e.graphicalItem,Le=pe.item,ze=Le===void 0?E:Le,xt=pe.childIndex,nt=we(we(we({},T.props),ie),{},{activeIndex:xt});return[w.cloneElement(ze,nt),null,null]}return Z?[re,null,null]:[re,null]}),mt(S,"renderCustomized",function(E,k,N){return w.cloneElement(E,we(we({key:"recharts-customized-".concat(N)},S.props),S.state))}),mt(S,"renderMap",{CartesianGrid:{handler:av,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:av},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:av},YAxis:{handler:av},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:eh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=PU(S.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return PPe(y,v),CPe(y,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,S=x.data,E=x.height,k=x.layout,N=La(_,Ba);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=yE(this.state,S,T,A),j=this.state.tooltipTicks[T].coordinate,R=(this.state.offset.top+E)/2,I=k==="horizontal",M=I?{x:j,y:R}:{y:j,x:R},W=this.state.formattedGraphicalItems.find(function(H){var O=H.item;return O.type.name==="Scatter"});W&&(M=we(we({},M),W.props.points[T].tooltipPosition),C=W.props.points[T].tooltipPayload);var K={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:A,activePayload:C,activeCoordinate:M};this.setState(K),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){YS([La(x.children,Ba)],[La(this.props.children,Ba)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=La(this.props.children,Ba);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return o.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),E=vbe(S),k={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},N=S.width/_.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,N);if(!T)return null;var A=this.state,C=A.xAxisMap,j=A.yAxisMap,R=this.getTooltipEventType(),I=gI(this.state,this.props.data,this.props.layout,T);if(R!=="axis"&&C&&j){var M=rl(C).scale,W=rl(j).scale,K=M&&M.invert?M.invert(k.chartX):null,H=W&&W.invert?W.invert(k.chartY):null;return we(we({},k),{},{xValue:K,yValue:H},I)}return I?we(we({},k),I):null}},{key:"inRange",value:function(x,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,k=x/S,N=_/S;if(E==="horizontal"||E==="vertical"){var T=this.state.offset,A=k>=T.left&&k<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return A?{x:k,y:N}:null}var C=this.state,j=C.angleAxisMap,R=C.radiusAxisMap;if(j&&R){var I=rl(j);return X4({x:k,y:N},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),S=La(x,Ba),E={};S&&_==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Hx(this.props,this.handleOuterEvent);return we(we({},k),E)}},{key:"addListener",value:function(){O_.on(P_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){O_.removeListener(P_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,S){for(var E=this.state.formattedGraphicalItems,k=0,N=E.length;k<N;k++){var T=E[k];if(T.item===x||T.props.key===x.key||_===ho(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,S=_.left,E=_.top,k=_.height,N=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:x},U.createElement("rect",{x:S,y:E,height:k,width:N})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,S){var E=hI(S,2),k=E[0],N=E[1];return we(we({},_),{},mt({},k,N.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,S){var E=hI(S,2),k=E[0],N=E[1];return we(we({},_),{},mt({},k,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,S=_.formattedGraphicalItems,E=_.activeItem;if(S&&S.length)for(var k=0,N=S.length;k<N;k++){var T=S[k],A=T.props,C=T.item,j=C.type.defaultProps!==void 0?we(we({},C.type.defaultProps),C.props):C.props,R=ho(C.type);if(R==="Bar"){var I=(A.data||[]).find(function(H){return ZTe(x,H)});if(I)return{graphicalItem:T,payload:I}}else if(R==="RadialBar"){var M=(A.data||[]).find(function(H){return X4(x,H)});if(M)return{graphicalItem:T,payload:M}}else if(Bb(T,E)||Ub(T,E)||Z0(T,E)){var W=rCe({graphicalItem:T,activeTooltipItem:E,itemData:j.data}),K=j.activeIndex===void 0?W:j.activeIndex;return{graphicalItem:we(we({},T),{},{childIndex:K}),payload:Z0(T,E)?j.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var x=this;if(!BP(this))return null;var _=this.props,S=_.children,E=_.className,k=_.width,N=_.height,T=_.style,A=_.compact,C=_.title,j=_.desc,R=pI(_,wPe),I=Rt(R,!1);if(A)return U.createElement(q3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(QS,md({},I,{width:k,height:N,title:C,desc:j}),this.renderClipPath(),zP(S,this.renderMap)));if(this.props.accessibilityLayer){var M,W;I.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,I.role=(W=this.props.role)!==null&&W!==void 0?W:"application",I.onKeyDown=function(H){x.accessibilityManager.keyboardEvent(H)},I.onFocus=function(){x.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return U.createElement(q3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",md({className:Ut("recharts-wrapper",E),style:we({position:"relative",cursor:"default",width:k,height:N},T)},K,{ref:function(O){x.container=O}}),U.createElement(QS,md({},I,{width:k,height:N,title:C,desc:j,style:FPe}),this.renderClipPath(),zP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);mt(g,"displayName",r),mt(g,"defaultProps",we({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mt(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,_=v.children,S=v.width,E=v.height,k=v.layout,N=v.stackOffset,T=v.margin,A=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var j=vI(v);return we(we(we({},j),{},{updateId:0},p(we(we({props:v},j),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:E,prevLayout:k,prevStackOffset:N,prevMargin:T,prevChildren:_})}if(b!==y.prevDataKey||x!==y.prevData||S!==y.prevWidth||E!==y.prevHeight||k!==y.prevLayout||N!==y.prevStackOffset||!jd(T,y.prevMargin)){var R=vI(v),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=we(we({},gI(y,x,k)),{},{updateId:y.updateId+1}),W=we(we(we({},R),I),M);return we(we(we({},W),p(we({props:v},W),y)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:E,prevLayout:k,prevStackOffset:N,prevMargin:T,prevChildren:_})}if(!YS(_,y.prevChildren)){var K,H,O,Z,J=La(_,yf),P=J&&(K=(H=J.props)===null||H===void 0?void 0:H.startIndex)!==null&&K!==void 0?K:A,G=J&&(O=(Z=J.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&O!==void 0?O:C,B=P!==A||G!==C,z=!Mt(x),ae=z&&!B?y.updateId:y.updateId+1;return we(we({updateId:ae},p(we(we({props:v},y),{},{updateId:ae,dataStartIndex:P,dataEndIndex:G}),y)),{},{prevChildren:_,dataStartIndex:P,dataEndIndex:G})}return null}),mt(g,"renderActiveDot",function(v,y,b){var x;return w.isValidElement(v)?x=w.cloneElement(v,y):Ot(v)?x=v(y):x=U.createElement(Lb,y),U.createElement(vr,{className:"recharts-active-dot",key:b},x)});var m=w.forwardRef(function(y,b){return U.createElement(g,md({},y,{ref:b}))});return m.displayName=g.displayName,m},KPe=UC({chartName:"LineChart",GraphicalChild:Km,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Vl}],formatAxisMap:OC}),yI=UC({chartName:"BarChart",GraphicalChild:Wl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Vl}],formatAxisMap:OC}),XPe=UC({chartName:"AreaChart",GraphicalChild:ic,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Vl}],formatAxisMap:OC});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Kz=1252,YPe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},WC=function(e){YPe.indexOf(e)!=-1&&(Kz=zC[0]=e)};function JPe(){WC(1252)}var Ys=function(e){WC(e)};function Xz(){Ys(1200),JPe()}function bI(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function QPe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Yz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var sp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?QPe(e.slice(2)):t==254&&r==255?Yz(e.slice(2)):t==65279?e.slice(1):e},sv=function(t){return String.fromCharCode(t)},wI=function(t){return String.fromCharCode(t)},nl,vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _I(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=vl.charAt(s)+vl.charAt(i)+vl.charAt(o)+vl.charAt(c);return t}function Ya(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=vl.indexOf(e.charAt(u++)),i=vl.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=vl.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=vl.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Gt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ku=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Gl(e){return Gt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function SI(e){return Gt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var qs=function(t){return Gt?ku(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Eu(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function HC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return HC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var al=Gt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ku(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function ZPe(e){for(var t=[],r=0,n=e.length+250,a=Gl(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Gl(65535),n=65530)}return t.push(a.slice(0,r)),al(t)}var va=/\u0000/g,ip=/[\u0001-\u0006]/g;function Id(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Js(e,t){var r=""+e;return r.length>=t?r:Lr("0",t-r.length)+r}function VC(e,t){var r=""+e;return r.length>=t?r:Lr(" ",t-r.length)+r}function Vy(e,t){var r=""+e;return r.length>=t?r:r+Lr(" ",t-r.length)}function eRe(e,t){var r=""+Math.round(e);return r.length>=t?r:Lr("0",t-r.length)+r}function tRe(e,t){var r=""+e;return r.length>=t?r:Lr("0",t-r.length)+r}var kI=Math.pow(2,32);function Gu(e,t){if(e>kI||e<-kI)return eRe(e,t);var r=Math.round(e);return tRe(r,t)}function Gy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var EI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],I_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rRe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var At={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},TI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nRe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function qy(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=s):(d=u,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function Ic(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=cRe(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var Jz=new Date(1899,11,31,0,0,0),aRe=Jz.getTime(),sRe=new Date(1900,2,1,0,0,0);function Qz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=sRe&&(r+=24*60*60*1e3),(r-(aRe+(e.getTimezoneOffset()-Jz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function GC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iRe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function oRe(e){var t=e<0?12:11,r=GC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function lRe(e){var t=GC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function im(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=oRe(e):t===10?r=e.toFixed(10).substr(0,12):r=lRe(e),GC(iRe(r.toUpperCase()))}function uu(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):im(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return bs(14,Qz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function cRe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function uRe(e,t,r,n){var a="",s=0,i=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return I_[r.m-1][1];case 5:return I_[r.m-1][0];default:return I_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return EI[r.q][0];default:return EI[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Js(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=Js(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Js(c,u):"";return d}function xl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Zz=/%/g;function dRe(e,t,r){var n=t.replace(Zz,""),a=t.length-n.length;return go(e,n,r*Math.pow(10,2*a))+Lr("%",a)}function fRe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function eW(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+eW(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tW=/# (\?+)( ?)\/( ?)(\d+)/;function hRe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?Lr(" ",e[1].length+1+e[4].length):VC(i,e[1].length)+e[2]+"/"+e[3]+Js(o,e[4].length))}function pRe(e,t,r){return r+(t===0?"":""+t)+Lr(" ",e[1].length+2+e[4].length)}var rW=/^#*0*\.([0#]+)/,nW=/\).*[0#]/,aW=/\(###\) ###\\?-####/;function ua(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function NI(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function CI(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function mRe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function gRe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function as(e,t,r){if(e.charCodeAt(0)===40&&!t.match(nW)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?as("n",n,r):"("+as("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fRe(e,t,r);if(t.indexOf("%")!==-1)return dRe(e,t,r);if(t.indexOf("E")!==-1)return eW(t,r);if(t.charCodeAt(0)===36)return"$"+as(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Gu(c,t.length);if(t.match(/^[#?]+$/))return a=Gu(r,0),a==="0"&&(a=""),a.length>t.length?a:ua(t.substr(0,t.length-a.length))+a;if(s=t.match(tW))return hRe(s,c,u);if(t.match(/^#+0+$/))return u+Gu(c,t.length-t.indexOf("0"));if(s=t.match(rW))return a=NI(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ua(s[1])).replace(/\.$/,"."+ua(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Lr("0",ua(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+NI(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+xl(Gu(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+as(e,t,-r):xl(""+(Math.floor(r)+mRe(r,s[1].length)))+"."+Js(CI(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return as(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Id(as(e,t.replace(/[\\-]/g,""),r)),i=0,Id(Id(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(aW))return a=as(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=qy(c,Math.pow(10,i)-1,!1),a=""+u,d=go("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Vy(o[2],i),d.length<s[4].length&&(d=ua(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=qy(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?VC(o[1],i)+s[2]+"/"+s[3]+Vy(o[2],i):Lr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Gu(r,0),t.length<=a.length?a:ua(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return ua(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=CI(r,s[1].length),r<0?"-"+as(e,t,-r):xl(gRe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Js(0,3-g.length):"")+g})+"."+Js(i,s[1].length);switch(t){case"###,##0.00":return as(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=xl(Gu(c,0));return p!=="0"?u+p:"";case"###,###.00":return as(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return as(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vRe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function xRe(e,t,r){var n=t.replace(Zz,""),a=t.length-n.length;return go(e,n,r*Math.pow(10,2*a))+Lr("%",a)}function sW(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+sW(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function hi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(nW)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hi("n",n,r):"("+hi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vRe(e,t,r);if(t.indexOf("%")!==-1)return xRe(e,t,r);if(t.indexOf("E")!==-1)return sW(t,r);if(t.charCodeAt(0)===36)return"$"+hi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Js(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ua(t.substr(0,t.length-a.length))+a;if(s=t.match(tW))return pRe(s,c,u);if(t.match(/^#+0+$/))return u+Js(c,t.length-t.indexOf("0"));if(s=t.match(rW))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ua(s[1])).replace(/\.$/,"."+ua(s[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Lr("0",ua(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+xl(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hi(e,t,-r):xl(""+r)+"."+Lr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return hi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Id(hi(e,t.replace(/[\\-]/g,""),r)),i=0,Id(Id(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(aW))return a=hi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=qy(c,Math.pow(10,i)-1,!1),a=""+u,d=go("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Vy(o[2],i),d.length<s[4].length&&(d=ua(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=qy(c,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?VC(o[1],i)+s[2]+"/"+s[3]+Vy(o[2],i):Lr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ua(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return ua(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+hi(e,t,-r):xl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Js(0,3-g.length):"")+g})+"."+Js(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=xl(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return hi(e,t.slice(0,t.lastIndexOf(".")),r)+ua(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function go(e,t,r){return(r|0)===r?hi(e,t,r):as(e,t,r)}function yRe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var iW=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Gy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(iW))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function bRe(e,t,r,n){for(var a=[],s="",i=0,o="",c="t",u,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!Gy(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Ic(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Ic(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=Ic(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",i+=5,h="h"):(m.t="t",++i),u==null&&m.t==="T")return"";a[a.length]=m,c=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(iW)){if(u==null&&(u=Ic(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",lh(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},c=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var v=0,y=0,b;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var x="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=uRe(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;x+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=uu(t,r);break}var S="",E,k;if(x.length>0){x.charCodeAt(0)==40?(E=t<0&&x.charCodeAt(0)===45?-t:t,k=go("n",x,E)):(E=t<0&&n>1?-t:t,k=go("n",x,E),E<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),_=k.length-1;var N=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){N=i;break}var T=a.length;if(N===a.length&&k.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=k.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=k.substr(0,_+1),_=-1),a[i].t="t",T=i);_>=0&&T<a.length&&(a[T].v=k.substr(0,_+1)+a[T].v)}else if(N!==a.length&&k.indexOf("E")===-1){for(_=k.indexOf(".")-1,i=N;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===N?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=k.charAt(_--)+S);a[i].v=S,a[i].t="t",T=i}for(_>=0&&T<a.length&&(a[T].v=k.substr(0,_+1)+a[T].v),_=k.indexOf(".")+1,i=N;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==N)){for(d=a[i].v.indexOf(".")>-1&&i===N?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)_<k.length&&(S+=k.charAt(_++));a[i].v=S,a[i].t="t",T=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(E=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=go(a[i].t,a[i].v,E),a[i].t="t");var A="";for(i=0;i!==a.length;++i)a[i]!=null&&(A+=a[i].v);return A}var jI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function AI(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function wRe(e,t){var r=yRe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(jI),o=r[1].match(jI);return AI(t,i)?[n,r[0]]:AI(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function bs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:At)[e],n==null&&(n=r.table&&r.table[TI[e]]||At[TI[e]]),n==null&&(n=nRe[e]||"General");break}if(Gy(n,0))return uu(t,r);t instanceof Date&&(t=Qz(t,r.date1904));var a=wRe(n,t);if(Gy(a[1]))return uu(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return bRe(a[1],t,r,a[0])}function qc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(At[r]==null){t<0&&(t=r);continue}if(At[r]==e){t=r;break}}t<0&&(t=391)}return At[t]=e,t}function oW(){At=rRe()}var _Re={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},lW=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function SRe(e){var t=typeof e=="number"?At[e]:e;return t=t.replace(lW,"(\\d+)"),new RegExp("^"+t+"$")}function kRe(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,c=-1;(t.match(lW)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":c=p;break;case"m":i>=0?o=p:a=p;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var ERe=function(){var e={};e.version="1.2.0";function t(){for(var k=0,N=new Array(256),T=0;T!=256;++T)k=T,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,N[T]=k;return typeof Int32Array<"u"?new Int32Array(N):N}var r=t();function n(k){var N=0,T=0,A=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)C[A]=k[A];for(A=0;A!=256;++A)for(T=k[A],N=256+A;N<4096;N+=256)T=C[N]=T>>>8^k[T&255];var j=[];for(A=1;A!=16;++A)j[A-1]=typeof Int32Array<"u"?C.subarray(A*256,A*256+256):C.slice(A*256,A*256+256);return j}var a=n(r),s=a[0],i=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],b=a[13],x=a[14];function _(k,N){for(var T=N^-1,A=0,C=k.length;A<C;)T=T>>>8^r[(T^k.charCodeAt(A++))&255];return~T}function S(k,N){for(var T=N^-1,A=k.length-15,C=0;C<A;)T=x[k[C++]^T&255]^b[k[C++]^T>>8&255]^y[k[C++]^T>>16&255]^v[k[C++]^T>>>24]^m[k[C++]]^g[k[C++]]^p[k[C++]]^h[k[C++]]^f[k[C++]]^d[k[C++]]^u[k[C++]]^c[k[C++]]^o[k[C++]]^i[k[C++]]^s[k[C++]]^r[k[C++]];for(A+=15;C<A;)T=T>>>8^r[(T^k[C++])&255];return~T}function E(k,N){for(var T=N^-1,A=0,C=k.length,j=0,R=0;A<C;)j=k.charCodeAt(A++),j<128?T=T>>>8^r[(T^j)&255]:j<2048?(T=T>>>8^r[(T^(192|j>>6&31))&255],T=T>>>8^r[(T^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,R=k.charCodeAt(A++)&1023,T=T>>>8^r[(T^(240|j>>8&7))&255],T=T>>>8^r[(T^(128|j>>2&63))&255],T=T>>>8^r[(T^(128|R>>6&15|(j&3)<<4))&255],T=T>>>8^r[(T^(128|R&63))&255]):(T=T>>>8^r[(T^(224|j>>12&15))&255],T=T>>>8^r[(T^(128|j>>6&63))&255],T=T>>>8^r[(T^(128|j&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=S,e.str=E,e}(),qt=function(){var t={};t.version="1.2.1";function r(F,Q){for(var q=F.split("/"),X=Q.split("/"),ee=0,te=0,de=Math.min(q.length,X.length);ee<de;++ee){if(te=q[ee].length-X[ee].length)return te;if(q[ee]!=X[ee])return q[ee]<X[ee]?-1:1}return q.length-X.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var Q=F.lastIndexOf("/");return Q===-1?F:F.slice(0,Q+1)}function a(F){if(F.charAt(F.length-1)=="/")return a(F.slice(0,-1));var Q=F.lastIndexOf("/");return Q===-1?F:F.slice(Q+1)}function s(F,Q){typeof Q=="string"&&(Q=new Date(Q));var q=Q.getHours();q=q<<6|Q.getMinutes(),q=q<<5|Q.getSeconds()>>>1,F.write_shift(2,q);var X=Q.getFullYear()-1980;X=X<<4|Q.getMonth()+1,X=X<<5|Q.getDate(),F.write_shift(2,X)}function i(F){var Q=F.read_shift(2)&65535,q=F.read_shift(2)&65535,X=new Date,ee=q&31;q>>>=5;var te=q&15;q>>>=4,X.setMilliseconds(0),X.setFullYear(q+1980),X.setMonth(te-1),X.setDate(ee);var de=Q&31;Q>>>=5;var xe=Q&63;return Q>>>=6,X.setHours(Q),X.setMinutes(xe),X.setSeconds(de<<1),X}function o(F){Mn(F,0);for(var Q={},q=0;F.l<=F.length-4;){var X=F.read_shift(2),ee=F.read_shift(2),te=F.l+ee,de={};switch(X){case 21589:q=F.read_shift(1),q&1&&(de.mtime=F.read_shift(4)),ee>5&&(q&2&&(de.atime=F.read_shift(4)),q&4&&(de.ctime=F.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}F.l=te,Q[X]=de}return Q}var c;function u(){return c||(c={})}function d(F,Q){if(F[0]==80&&F[1]==75)return Ae(F,Q);if((F[0]|32)==109&&(F[1]|32)==105)return Ve(F,Q);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var q=3,X=512,ee=0,te=0,de=0,xe=0,ue=0,fe=[],he=F.slice(0,512);Mn(he,0);var Oe=f(he);switch(q=Oe[0],q){case 3:X=512;break;case 4:X=4096;break;case 0:if(Oe[1]==0)return Ae(F,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}X!==512&&(he=F.slice(0,X),Mn(he,28));var We=F.slice(0,X);h(he,q);var Ke=he.read_shift(4,"i");if(q===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);he.l+=4,de=he.read_shift(4,"i"),he.l+=4,he.chk("00100000","Mini Stream Cutoff Size: "),xe=he.read_shift(4,"i"),ee=he.read_shift(4,"i"),ue=he.read_shift(4,"i"),te=he.read_shift(4,"i");for(var De=-1,qe=0;qe<109&&(De=he.read_shift(4,"i"),!(De<0));++qe)fe[qe]=De;var St=p(F,X);v(ue,te,St,X,fe);var yr=b(St,de,fe,X);yr[de].name="!Directory",ee>0&&xe!==R&&(yr[xe].name="!MiniFAT"),yr[fe[0]].name="!FAT",yr.fat_addrs=fe,yr.ssz=X;var hr={},ne=[],Te=[],et=[];x(de,yr,St,ne,ee,hr,Te,xe),g(Te,et,ne),ne.shift();var ct={FileIndex:Te,FullPaths:et};return Q&&Q.raw&&(ct.raw={header:We,sectors:St}),ct}function f(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(I,"Header Signature: "),F.l+=16;var Q=F.read_shift(2,"u");return[F.read_shift(2,"u"),Q]}function h(F,Q){var q=9;switch(F.l+=2,q=F.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function p(F,Q){for(var q=Math.ceil(F.length/Q)-1,X=[],ee=1;ee<q;++ee)X[ee-1]=F.slice(ee*Q,(ee+1)*Q);return X[q-1]=F.slice(q*Q),X}function g(F,Q,q){for(var X=0,ee=0,te=0,de=0,xe=0,ue=q.length,fe=[],he=[];X<ue;++X)fe[X]=he[X]=X,Q[X]=q[X];for(;xe<he.length;++xe)X=he[xe],ee=F[X].L,te=F[X].R,de=F[X].C,fe[X]===X&&(ee!==-1&&fe[ee]!==ee&&(fe[X]=fe[ee]),te!==-1&&fe[te]!==te&&(fe[X]=fe[te])),de!==-1&&(fe[de]=X),ee!==-1&&X!=fe[X]&&(fe[ee]=fe[X],he.lastIndexOf(ee)<xe&&he.push(ee)),te!==-1&&X!=fe[X]&&(fe[te]=fe[X],he.lastIndexOf(te)<xe&&he.push(te));for(X=1;X<ue;++X)fe[X]===X&&(te!==-1&&fe[te]!==te?fe[X]=fe[te]:ee!==-1&&fe[ee]!==ee&&(fe[X]=fe[ee]));for(X=1;X<ue;++X)if(F[X].type!==0){if(xe=X,xe!=fe[xe])do xe=fe[xe],Q[X]=Q[xe]+"/"+Q[X];while(xe!==0&&fe[xe]!==-1&&xe!=fe[xe]);fe[X]=-1}for(Q[0]+="/",X=1;X<ue;++X)F[X].type!==2&&(Q[X]+="/")}function m(F,Q,q){for(var X=F.start,ee=F.size,te=[],de=X;q&&ee>0&&de>=0;)te.push(Q.slice(de*j,de*j+j)),ee-=j,de=kc(q,de*4);return te.length===0?dn(0):al(te).slice(0,F.size)}function v(F,Q,q,X,ee){var te=R;if(F===R){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var de=q[F],xe=(X>>>2)-1;if(!de)return;for(var ue=0;ue<xe&&(te=kc(de,ue*4))!==R;++ue)ee.push(te);v(kc(de,X-4),Q-1,q,X,ee)}}function y(F,Q,q,X,ee){var te=[],de=[];ee||(ee=[]);var xe=X-1,ue=0,fe=0;for(ue=Q;ue>=0;){ee[ue]=!0,te[te.length]=ue,de.push(F[ue]);var he=q[Math.floor(ue*4/X)];if(fe=ue*4&xe,X<4+fe)throw new Error("FAT boundary crossed: "+ue+" 4 "+X);if(!F[he])break;ue=kc(F[he],fe)}return{nodes:te,data:BI([de])}}function b(F,Q,q,X){var ee=F.length,te=[],de=[],xe=[],ue=[],fe=X-1,he=0,Oe=0,We=0,Ke=0;for(he=0;he<ee;++he)if(xe=[],We=he+Q,We>=ee&&(We-=ee),!de[We]){ue=[];var De=[];for(Oe=We;Oe>=0;){De[Oe]=!0,de[Oe]=!0,xe[xe.length]=Oe,ue.push(F[Oe]);var qe=q[Math.floor(Oe*4/X)];if(Ke=Oe*4&fe,X<4+Ke)throw new Error("FAT boundary crossed: "+Oe+" 4 "+X);if(!F[qe]||(Oe=kc(F[qe],Ke),De[Oe]))break}te[We]={nodes:xe,data:BI([ue])}}return te}function x(F,Q,q,X,ee,te,de,xe){for(var ue=0,fe=X.length?2:0,he=Q[F].data,Oe=0,We=0,Ke;Oe<he.length;Oe+=128){var De=he.slice(Oe,Oe+128);Mn(De,64),We=De.read_shift(2),Ke=JC(De,0,We-fe),X.push(Ke);var qe={name:Ke,type:De.read_shift(1),color:De.read_shift(1),L:De.read_shift(4,"i"),R:De.read_shift(4,"i"),C:De.read_shift(4,"i"),clsid:De.read_shift(16),state:De.read_shift(4,"i"),start:0,size:0},St=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);St!==0&&(qe.ct=_(De,De.l-8));var yr=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);yr!==0&&(qe.mt=_(De,De.l-8)),qe.start=De.read_shift(4,"i"),qe.size=De.read_shift(4,"i"),qe.size<0&&qe.start<0&&(qe.size=qe.type=0,qe.start=R,qe.name=""),qe.type===5?(ue=qe.start,ee>0&&ue!==R&&(Q[ue].name="!StreamData")):qe.size>=4096?(qe.storage="fat",Q[qe.start]===void 0&&(Q[qe.start]=y(q,qe.start,Q.fat_addrs,Q.ssz)),Q[qe.start].name=qe.name,qe.content=Q[qe.start].data.slice(0,qe.size)):(qe.storage="minifat",qe.size<0?qe.size=0:ue!==R&&qe.start!==R&&Q[ue]&&(qe.content=m(qe,Q[ue].data,(Q[xe]||{}).data))),qe.content&&Mn(qe.content,0),te[Ke]=qe,de.push(qe)}}function _(F,Q){return new Date((za(F,Q+4)/1e7*Math.pow(2,32)+za(F,Q)/1e7-11644473600)*1e3)}function S(F,Q){return u(),d(c.readFileSync(F),Q)}function E(F,Q){var q=Q&&Q.type;switch(q||Gt&&Buffer.isBuffer(F)&&(q="buffer"),q||"base64"){case"file":return S(F,Q);case"base64":return d(qs(Ya(F)),Q);case"binary":return d(qs(F),Q)}return d(F,Q)}function k(F,Q){var q=Q||{},X=q.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=X+"/",F.FileIndex[0]={name:X,type:5}),q.CLSID&&(F.FileIndex[0].clsid=q.CLSID),N(F)}function N(F){var Q="Sh33tJ5";if(!qt.find(F,"/"+Q)){var q=dn(4);q[0]=55,q[1]=q[3]=50,q[2]=54,F.FileIndex.push({name:Q,type:2,content:q,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+Q),T(F)}}function T(F,Q){k(F);for(var q=!1,X=!1,ee=F.FullPaths.length-1;ee>=0;--ee){var te=F.FileIndex[ee];switch(te.type){case 0:X?q=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:X=!0,isNaN(te.R*te.L*te.C)&&(q=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Q)){var de=new Date(1987,1,19),xe=0,ue=Object.create?Object.create(null):{},fe=[];for(ee=0;ee<F.FullPaths.length;++ee)ue[F.FullPaths[ee]]=!0,F.FileIndex[ee].type!==0&&fe.push([F.FullPaths[ee],F.FileIndex[ee]]);for(ee=0;ee<fe.length;++ee){var he=n(fe[ee][0]);X=ue[he],X||(fe.push([he,{name:a(he).replace("/",""),type:1,clsid:W,ct:de,mt:de,content:null}]),ue[he]=!0)}for(fe.sort(function(Ke,De){return r(Ke[0],De[0])}),F.FullPaths=[],F.FileIndex=[],ee=0;ee<fe.length;++ee)F.FullPaths[ee]=fe[ee][0],F.FileIndex[ee]=fe[ee][1];for(ee=0;ee<fe.length;++ee){var Oe=F.FileIndex[ee],We=F.FullPaths[ee];if(Oe.name=a(We).replace("/",""),Oe.L=Oe.R=Oe.C=-(Oe.color=1),Oe.size=Oe.content?Oe.content.length:0,Oe.start=0,Oe.clsid=Oe.clsid||W,ee===0)Oe.C=fe.length>1?1:-1,Oe.size=0,Oe.type=5;else if(We.slice(-1)=="/"){for(xe=ee+1;xe<fe.length&&n(F.FullPaths[xe])!=We;++xe);for(Oe.C=xe>=fe.length?-1:xe,xe=ee+1;xe<fe.length&&n(F.FullPaths[xe])!=n(We);++xe);Oe.R=xe>=fe.length?-1:xe,Oe.type=1}else n(F.FullPaths[ee+1]||"")==n(We)&&(Oe.R=ee+1),Oe.type=2}}}function A(F,Q){var q=Q||{};if(q.fileType=="mad")return Ye(F,q);switch(T(F),q.fileType){case"zip":return tt(F,q)}var X=function(Ke){for(var De=0,qe=0,St=0;St<Ke.FileIndex.length;++St){var yr=Ke.FileIndex[St];if(yr.content){var hr=yr.content.length;hr>0&&(hr<4096?De+=hr+63>>6:qe+=hr+511>>9)}}for(var ne=Ke.FullPaths.length+3>>2,Te=De+7>>3,et=De+127>>7,ct=Te+qe+ne+et,er=ct+127>>7,Et=er<=109?0:Math.ceil((er-109)/127);ct+er+Et+127>>7>er;)Et=++er<=109?0:Math.ceil((er-109)/127);var An=[1,Et,er,et,ne,qe,De,0];return Ke.FileIndex[0].size=De<<6,An[7]=(Ke.FileIndex[0].start=An[0]+An[1]+An[2]+An[3]+An[4]+An[5])+(An[6]+7>>3),An}(F),ee=dn(X[7]<<9),te=0,de=0;{for(te=0;te<8;++te)ee.write_shift(1,M[te]);for(te=0;te<8;++te)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),te=0;te<3;++te)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,X[2]),ee.write_shift(4,X[0]+X[1]+X[2]+X[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,X[3]?X[0]+X[1]+X[2]-1:R),ee.write_shift(4,X[3]),ee.write_shift(-4,X[1]?X[0]-1:R),ee.write_shift(4,X[1]),te=0;te<109;++te)ee.write_shift(-4,te<X[2]?X[1]+te:-1)}if(X[1])for(de=0;de<X[1];++de){for(;te<236+de*127;++te)ee.write_shift(-4,te<X[2]?X[1]+te:-1);ee.write_shift(-4,de===X[1]-1?R:de+1)}var xe=function(Ke){for(de+=Ke;te<de-1;++te)ee.write_shift(-4,te+1);Ke&&(++te,ee.write_shift(-4,R))};for(de=te=0,de+=X[1];te<de;++te)ee.write_shift(-4,K.DIFSECT);for(de+=X[2];te<de;++te)ee.write_shift(-4,K.FATSECT);xe(X[3]),xe(X[4]);for(var ue=0,fe=0,he=F.FileIndex[0];ue<F.FileIndex.length;++ue)he=F.FileIndex[ue],he.content&&(fe=he.content.length,!(fe<4096)&&(he.start=de,xe(fe+511>>9)));for(xe(X[6]+7>>3);ee.l&511;)ee.write_shift(-4,K.ENDOFCHAIN);for(de=te=0,ue=0;ue<F.FileIndex.length;++ue)he=F.FileIndex[ue],he.content&&(fe=he.content.length,!(!fe||fe>=4096)&&(he.start=de,xe(fe+63>>6)));for(;ee.l&511;)ee.write_shift(-4,K.ENDOFCHAIN);for(te=0;te<X[4]<<2;++te){var Oe=F.FullPaths[te];if(!Oe||Oe.length===0){for(ue=0;ue<17;++ue)ee.write_shift(4,0);for(ue=0;ue<3;++ue)ee.write_shift(4,-1);for(ue=0;ue<12;++ue)ee.write_shift(4,0);continue}he=F.FileIndex[te],te===0&&(he.start=he.size?he.start-1:R);var We=te===0&&q.root||he.name;if(fe=2*(We.length+1),ee.write_shift(64,We,"utf16le"),ee.write_shift(2,fe),ee.write_shift(1,he.type),ee.write_shift(1,he.color),ee.write_shift(-4,he.L),ee.write_shift(-4,he.R),ee.write_shift(-4,he.C),he.clsid)ee.write_shift(16,he.clsid,"hex");else for(ue=0;ue<4;++ue)ee.write_shift(4,0);ee.write_shift(4,he.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,he.start),ee.write_shift(4,he.size),ee.write_shift(4,0)}for(te=1;te<F.FileIndex.length;++te)if(he=F.FileIndex[te],he.size>=4096)if(ee.l=he.start+1<<9,Gt&&Buffer.isBuffer(he.content))he.content.copy(ee,ee.l,0,he.size),ee.l+=he.size+511&-512;else{for(ue=0;ue<he.size;++ue)ee.write_shift(1,he.content[ue]);for(;ue&511;++ue)ee.write_shift(1,0)}for(te=1;te<F.FileIndex.length;++te)if(he=F.FileIndex[te],he.size>0&&he.size<4096)if(Gt&&Buffer.isBuffer(he.content))he.content.copy(ee,ee.l,0,he.size),ee.l+=he.size+63&-64;else{for(ue=0;ue<he.size;++ue)ee.write_shift(1,he.content[ue]);for(;ue&63;++ue)ee.write_shift(1,0)}if(Gt)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function C(F,Q){var q=F.FullPaths.map(function(ue){return ue.toUpperCase()}),X=q.map(function(ue){var fe=ue.split("/");return fe[fe.length-(ue.slice(-1)=="/"?2:1)]}),ee=!1;Q.charCodeAt(0)===47?(ee=!0,Q=q[0].slice(0,-1)+Q):ee=Q.indexOf("/")!==-1;var te=Q.toUpperCase(),de=ee===!0?q.indexOf(te):X.indexOf(te);if(de!==-1)return F.FileIndex[de];var xe=!te.match(ip);for(te=te.replace(va,""),xe&&(te=te.replace(ip,"!")),de=0;de<q.length;++de)if((xe?q[de].replace(ip,"!"):q[de]).replace(va,"")==te||(xe?X[de].replace(ip,"!"):X[de]).replace(va,"")==te)return F.FileIndex[de];return null}var j=64,R=-2,I="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:I,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(F,Q,q){u();var X=A(F,q);c.writeFileSync(Q,X)}function O(F){for(var Q=new Array(F.length),q=0;q<F.length;++q)Q[q]=String.fromCharCode(F[q]);return Q.join("")}function Z(F,Q){var q=A(F,Q);switch(Q&&Q.type||"buffer"){case"file":return u(),c.writeFileSync(Q.filename,q),q;case"binary":return typeof q=="string"?q:O(q);case"base64":return _I(typeof q=="string"?q:O(q));case"buffer":if(Gt)return Buffer.isBuffer(q)?q:ku(q);case"array":return typeof q=="string"?qs(q):q}return q}var J;function P(F){try{var Q=F.InflateRaw,q=new Q;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)J=F;else throw new Error("zlib does not expose bytesRead")}catch(X){console.error("cannot use native zlib: "+(X.message||X))}}function G(F,Q){if(!J)return Pe(F,Q);var q=J.InflateRaw,X=new q,ee=X._processChunk(F.slice(F.l),X._finishFlushFlag);return F.l+=X.bytesRead,ee}function B(F){return J?J.deflateRawSync(F):st(F)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ie(F){var Q=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var re=typeof Uint8Array<"u",L=re?new Uint8Array(256):[],oe=0;oe<256;++oe)L[oe]=ie(oe);function D(F,Q){var q=L[F&255];return Q<=8?q>>>8-Q:(q=q<<8|L[F>>8&255],Q<=16?q>>>16-Q:(q=q<<8|L[F>>16&255],q>>>24-Q))}function le(F,Q){var q=Q&7,X=Q>>>3;return(F[X]|(q<=6?0:F[X+1]<<8))>>>q&3}function ye(F,Q){var q=Q&7,X=Q>>>3;return(F[X]|(q<=5?0:F[X+1]<<8))>>>q&7}function Se(F,Q){var q=Q&7,X=Q>>>3;return(F[X]|(q<=4?0:F[X+1]<<8))>>>q&15}function _e(F,Q){var q=Q&7,X=Q>>>3;return(F[X]|(q<=3?0:F[X+1]<<8))>>>q&31}function pe(F,Q){var q=Q&7,X=Q>>>3;return(F[X]|(q<=1?0:F[X+1]<<8))>>>q&127}function Le(F,Q,q){var X=Q&7,ee=Q>>>3,te=(1<<q)-1,de=F[ee]>>>X;return q<8-X||(de|=F[ee+1]<<8-X,q<16-X)||(de|=F[ee+2]<<16-X,q<24-X)||(de|=F[ee+3]<<24-X),de&te}function ze(F,Q,q){var X=Q&7,ee=Q>>>3;return X<=5?F[ee]|=(q&7)<<X:(F[ee]|=q<<X&255,F[ee+1]=(q&7)>>8-X),Q+3}function xt(F,Q,q){var X=Q&7,ee=Q>>>3;return q=(q&1)<<X,F[ee]|=q,Q+1}function nt(F,Q,q){var X=Q&7,ee=Q>>>3;return q<<=X,F[ee]|=q&255,q>>>=8,F[ee+1]=q,Q+8}function at(F,Q,q){var X=Q&7,ee=Q>>>3;return q<<=X,F[ee]|=q&255,q>>>=8,F[ee+1]=q&255,F[ee+2]=q>>>8,Q+16}function yt(F,Q){var q=F.length,X=2*q>Q?2*q:Q+5,ee=0;if(q>=Q)return F;if(Gt){var te=SI(X);if(F.copy)F.copy(te);else for(;ee<F.length;++ee)te[ee]=F[ee];return te}else if(re){var de=new Uint8Array(X);if(de.set)de.set(F);else for(;ee<q;++ee)de[ee]=F[ee];return de}return F.length=X,F}function Y(F){for(var Q=new Array(F),q=0;q<F;++q)Q[q]=0;return Q}function be(F,Q,q){var X=1,ee=0,te=0,de=0,xe=0,ue=F.length,fe=re?new Uint16Array(32):Y(32);for(te=0;te<32;++te)fe[te]=0;for(te=ue;te<q;++te)F[te]=0;ue=F.length;var he=re?new Uint16Array(ue):Y(ue);for(te=0;te<ue;++te)fe[ee=F[te]]++,X<ee&&(X=ee),he[te]=0;for(fe[0]=0,te=1;te<=X;++te)fe[te+16]=xe=xe+fe[te-1]<<1;for(te=0;te<ue;++te)xe=F[te],xe!=0&&(he[te]=fe[xe+16]++);var Oe=0;for(te=0;te<ue;++te)if(Oe=F[te],Oe!=0)for(xe=D(he[te],X)>>X-Oe,de=(1<<X+4-Oe)-1;de>=0;--de)Q[xe|de<<Oe]=Oe&15|te<<4;return X}var ge=re?new Uint16Array(512):Y(512),Re=re?new Uint16Array(32):Y(32);if(!re){for(var ft=0;ft<512;++ft)ge[ft]=0;for(ft=0;ft<32;++ft)Re[ft]=0}(function(){for(var F=[],Q=0;Q<32;Q++)F.push(5);be(F,Re,32);var q=[];for(Q=0;Q<=143;Q++)q.push(8);for(;Q<=255;Q++)q.push(9);for(;Q<=279;Q++)q.push(7);for(;Q<=287;Q++)q.push(8);be(q,ge,288)})();var $t=function(){for(var Q=re?new Uint8Array(32768):[],q=0,X=0;q<V.length-1;++q)for(;X<V[q+1];++X)Q[X]=q;for(;X<32768;++X)Q[X]=29;var ee=re?new Uint8Array(259):[];for(q=0,X=0;q<ae.length-1;++q)for(;X<ae[q+1];++X)ee[X]=q;function te(xe,ue){for(var fe=0;fe<xe.length;){var he=Math.min(65535,xe.length-fe),Oe=fe+he==xe.length;for(ue.write_shift(1,+Oe),ue.write_shift(2,he),ue.write_shift(2,~he&65535);he-- >0;)ue[ue.l++]=xe[fe++]}return ue.l}function de(xe,ue){for(var fe=0,he=0,Oe=re?new Uint16Array(32768):[];he<xe.length;){var We=Math.min(65535,xe.length-he);if(We<10){for(fe=ze(ue,fe,+(he+We==xe.length)),fe&7&&(fe+=8-(fe&7)),ue.l=fe/8|0,ue.write_shift(2,We),ue.write_shift(2,~We&65535);We-- >0;)ue[ue.l++]=xe[he++];fe=ue.l*8;continue}fe=ze(ue,fe,+(he+We==xe.length)+2);for(var Ke=0;We-- >0;){var De=xe[he];Ke=(Ke<<5^De)&32767;var qe=-1,St=0;if((qe=Oe[Ke])&&(qe|=he&-32768,qe>he&&(qe-=32768),qe<he))for(;xe[qe+St]==xe[he+St]&&St<250;)++St;if(St>2){De=ee[St],De<=22?fe=nt(ue,fe,L[De+1]>>1)-1:(nt(ue,fe,3),fe+=5,nt(ue,fe,L[De-23]>>5),fe+=3);var yr=De<8?0:De-4>>2;yr>0&&(at(ue,fe,St-ae[De]),fe+=yr),De=Q[he-qe],fe=nt(ue,fe,L[De]>>3),fe-=3;var hr=De<4?0:De-2>>1;hr>0&&(at(ue,fe,he-qe-V[De]),fe+=hr);for(var ne=0;ne<St;++ne)Oe[Ke]=he&32767,Ke=(Ke<<5^xe[he])&32767,++he;We-=St-1}else De<=143?De=De+48:fe=xt(ue,fe,1),fe=nt(ue,fe,L[De]),Oe[Ke]=he&32767,++he}fe=nt(ue,fe,0)-1}return ue.l=(fe+7)/8|0,ue.l}return function(ue,fe){return ue.length<8?te(ue,fe):de(ue,fe)}}();function st(F){var Q=dn(50+Math.floor(F.length*1.1)),q=$t(F,Q);return Q.slice(0,q)}var wt=re?new Uint16Array(32768):Y(32768),Wt=re?new Uint16Array(32768):Y(32768),Ct=re?new Uint16Array(128):Y(128),Ft=1,ce=1;function ht(F,Q){var q=_e(F,Q)+257;Q+=5;var X=_e(F,Q)+1;Q+=5;var ee=Se(F,Q)+4;Q+=4;for(var te=0,de=re?new Uint8Array(19):Y(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,fe=re?new Uint8Array(8):Y(8),he=re?new Uint8Array(8):Y(8),Oe=de.length,We=0;We<ee;++We)de[z[We]]=te=ye(F,Q),ue<te&&(ue=te),fe[te]++,Q+=3;var Ke=0;for(fe[0]=0,We=1;We<=ue;++We)he[We]=Ke=Ke+fe[We-1]<<1;for(We=0;We<Oe;++We)(Ke=de[We])!=0&&(xe[We]=he[Ke]++);var De=0;for(We=0;We<Oe;++We)if(De=de[We],De!=0){Ke=L[xe[We]]>>8-De;for(var qe=(1<<7-De)-1;qe>=0;--qe)Ct[Ke|qe<<De]=De&7|We<<3}var St=[];for(ue=1;St.length<q+X;)switch(Ke=Ct[pe(F,Q)],Q+=Ke&7,Ke>>>=3){case 16:for(te=3+le(F,Q),Q+=2,Ke=St[St.length-1];te-- >0;)St.push(Ke);break;case 17:for(te=3+ye(F,Q),Q+=3;te-- >0;)St.push(0);break;case 18:for(te=11+pe(F,Q),Q+=7;te-- >0;)St.push(0);break;default:St.push(Ke),ue<Ke&&(ue=Ke);break}var yr=St.slice(0,q),hr=St.slice(q);for(We=q;We<286;++We)yr[We]=0;for(We=X;We<30;++We)hr[We]=0;return Ft=be(yr,wt,286),ce=be(hr,Wt,30),Q}function pt(F,Q){if(F[0]==3&&!(F[1]&3))return[Gl(Q),2];for(var q=0,X=0,ee=SI(Q||1<<18),te=0,de=ee.length>>>0,xe=0,ue=0;!(X&1);){if(X=ye(F,q),q+=3,X>>>1)X>>1==1?(xe=9,ue=5):(q=ht(F,q),xe=Ft,ue=ce);else{q&7&&(q+=8-(q&7));var fe=F[q>>>3]|F[(q>>>3)+1]<<8;if(q+=32,fe>0)for(!Q&&de<te+fe&&(ee=yt(ee,te+fe),de=ee.length);fe-- >0;)ee[te++]=F[q>>>3],q+=8;continue}for(;;){!Q&&de<te+32767&&(ee=yt(ee,te+32767),de=ee.length);var he=Le(F,q,xe),Oe=X>>>1==1?ge[he]:wt[he];if(q+=Oe&15,Oe>>>=4,!(Oe>>>8&255))ee[te++]=Oe;else{if(Oe==256)break;Oe-=257;var We=Oe<8?0:Oe-4>>2;We>5&&(We=0);var Ke=te+ae[Oe];We>0&&(Ke+=Le(F,q,We),q+=We),he=Le(F,q,ue),Oe=X>>>1==1?Re[he]:Wt[he],q+=Oe&15,Oe>>>=4;var De=Oe<4?0:Oe-2>>1,qe=V[Oe];for(De>0&&(qe+=Le(F,q,De),q+=De),!Q&&de<Ke&&(ee=yt(ee,Ke+100),de=ee.length);te<Ke;)ee[te]=ee[te-qe],++te}}}return Q?[ee,q+7>>>3]:[ee.slice(0,te),q+7>>>3]}function Pe(F,Q){var q=F.slice(F.l||0),X=pt(q,Q);return F.l+=X[1],X[0]}function Ge(F,Q){if(F)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function Ae(F,Q){var q=F;Mn(q,0);var X=[],ee=[],te={FileIndex:X,FullPaths:ee};k(te,{root:Q.root});for(var de=q.length-4;(q[de]!=80||q[de+1]!=75||q[de+2]!=5||q[de+3]!=6)&&de>=0;)--de;q.l=de+4,q.l+=4;var xe=q.read_shift(2);q.l+=6;var ue=q.read_shift(4);for(q.l=ue,de=0;de<xe;++de){q.l+=20;var fe=q.read_shift(4),he=q.read_shift(4),Oe=q.read_shift(2),We=q.read_shift(2),Ke=q.read_shift(2);q.l+=8;var De=q.read_shift(4),qe=o(q.slice(q.l+Oe,q.l+Oe+We));q.l+=Oe+We+Ke;var St=q.l;q.l=De+4,dt(q,fe,he,te,qe),q.l=St}return te}function dt(F,Q,q,X,ee){F.l+=2;var te=F.read_shift(2),de=F.read_shift(2),xe=i(F);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var ue=F.read_shift(4),fe=F.read_shift(4),he=F.read_shift(4),Oe=F.read_shift(2),We=F.read_shift(2),Ke="",De=0;De<Oe;++De)Ke+=String.fromCharCode(F[F.l++]);if(We){var qe=o(F.slice(F.l,F.l+We));(qe[21589]||{}).mt&&(xe=qe[21589].mt),((ee||{})[21589]||{}).mt&&(xe=ee[21589].mt)}F.l+=We;var St=F.slice(F.l,F.l+fe);switch(de){case 8:St=G(F,he);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var yr=!1;te&8&&(ue=F.read_shift(4),ue==134695760&&(ue=F.read_shift(4),yr=!0),fe=F.read_shift(4),he=F.read_shift(4)),fe!=Q&&Ge(yr,"Bad compressed size: "+Q+" != "+fe),he!=q&&Ge(yr,"Bad uncompressed size: "+q+" != "+he),Dt(X,Ke,St,{unsafe:!0,mt:xe})}function tt(F,Q){var q=Q||{},X=[],ee=[],te=dn(1),de=q.compression?8:0,xe=0,ue=0,fe=0,he=0,Oe=0,We=F.FullPaths[0],Ke=We,De=F.FileIndex[0],qe=[],St=0;for(ue=1;ue<F.FullPaths.length;++ue)if(Ke=F.FullPaths[ue].slice(We.length),De=F.FileIndex[ue],!(!De.size||!De.content||Ke=="Sh33tJ5")){var yr=he,hr=dn(Ke.length);for(fe=0;fe<Ke.length;++fe)hr.write_shift(1,Ke.charCodeAt(fe)&127);hr=hr.slice(0,hr.l),qe[Oe]=ERe.buf(De.content,0);var ne=De.content;de==8&&(ne=B(ne)),te=dn(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,xe),te.write_shift(2,de),De.mt?s(te,De.mt):te.write_shift(4,0),te.write_shift(-4,qe[Oe]),te.write_shift(4,ne.length),te.write_shift(4,De.content.length),te.write_shift(2,hr.length),te.write_shift(2,0),he+=te.length,X.push(te),he+=hr.length,X.push(hr),he+=ne.length,X.push(ne),te=dn(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,xe),te.write_shift(2,de),te.write_shift(4,0),te.write_shift(-4,qe[Oe]),te.write_shift(4,ne.length),te.write_shift(4,De.content.length),te.write_shift(2,hr.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,yr),St+=te.l,ee.push(te),St+=hr.length,ee.push(hr),++Oe}return te=dn(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,Oe),te.write_shift(2,Oe),te.write_shift(4,St),te.write_shift(4,he),te.write_shift(2,0),al([al(X),al(ee),te])}var _t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vt(F,Q){if(F.ctype)return F.ctype;var q=F.name||"",X=q.match(/\.([^\.]+)$/);return X&&_t[X[1]]||Q&&(X=(q=Q).match(/[\.\\]([^\.\\])+$/),X&&_t[X[1]])?_t[X[1]]:"application/octet-stream"}function je(F){for(var Q=_I(F),q=[],X=0;X<Q.length;X+=76)q.push(Q.slice(X,X+76));return q.join(`\r
`)+`\r
`}function se(F){var Q=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var he=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(he.length==1?"0"+he:he)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],X=Q.split(`\r
`),ee=0;ee<X.length;++ee){var te=X[ee];if(te.length==0){q.push("");continue}for(var de=0;de<te.length;){var xe=76,ue=te.slice(de,de+xe);ue.charAt(xe-1)=="="?xe--:ue.charAt(xe-2)=="="?xe-=2:ue.charAt(xe-3)=="="&&(xe-=3),ue=te.slice(de,de+xe),de+=xe,de<te.length&&(ue+="="),q.push(ue)}}return q.join(`\r
`)}function ve(F){for(var Q=[],q=0;q<F.length;++q){for(var X=F[q];q<=F.length&&X.charAt(X.length-1)=="=";)X=X.slice(0,X.length-1)+F[++q];Q.push(X)}for(var ee=0;ee<Q.length;++ee)Q[ee]=Q[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return qs(Q.join(`\r
`))}function Ne(F,Q,q){for(var X="",ee="",te="",de,xe=0;xe<10;++xe){var ue=Q[xe];if(!ue||ue.match(/^\s*$/))break;var fe=ue.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":X=fe[2].trim();break;case"content-type":te=fe[2].trim();break;case"content-transfer-encoding":ee=fe[2].trim();break}}switch(++xe,ee.toLowerCase()){case"base64":de=qs(Ya(Q.slice(xe).join("")));break;case"quoted-printable":de=ve(Q.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var he=Dt(F,X.slice(q.length),de,{unsafe:!0});te&&(he.ctype=te)}function Ve(F,Q){if(O(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Q&&Q.root||"",X=(Gt&&Buffer.isBuffer(F)?F.toString("binary"):O(F)).split(`\r
`),ee=0,te="";for(ee=0;ee<X.length;++ee)if(te=X[ee],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),q||(q=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),te.slice(0,q.length)!=q););var de=(X[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var xe="--"+(de[1]||""),ue=[],fe=[],he={FileIndex:ue,FullPaths:fe};k(he);var Oe,We=0;for(ee=0;ee<X.length;++ee){var Ke=X[ee];Ke!==xe&&Ke!==xe+"--"||(We++&&Ne(he,X.slice(Oe,ee),q),Oe=ee)}return he}function Ye(F,Q){var q=Q||{},X=q.boundary||"SheetJS";X="------="+X;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+X.slice(2)+'"',"","",""],te=F.FullPaths[0],de=te,xe=F.FileIndex[0],ue=1;ue<F.FullPaths.length;++ue)if(de=F.FullPaths[ue].slice(te.length),xe=F.FileIndex[ue],!(!xe.size||!xe.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(St){return"_x"+St.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(St){return"_u"+St.charCodeAt(0).toString(16)+"_"});for(var fe=xe.content,he=Gt&&Buffer.isBuffer(fe)?fe.toString("binary"):O(fe),Oe=0,We=Math.min(1024,he.length),Ke=0,De=0;De<=We;++De)(Ke=he.charCodeAt(De))>=32&&Ke<128&&++Oe;var qe=Oe>=We*4/5;ee.push(X),ee.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+de),ee.push("Content-Transfer-Encoding: "+(qe?"quoted-printable":"base64")),ee.push("Content-Type: "+Vt(xe,de)),ee.push(""),ee.push(qe?se(he):je(he))}return ee.push(X+`--\r
`),ee.join(`\r
`)}function Ht(F){var Q={};return k(Q,F),Q}function Dt(F,Q,q,X){var ee=X&&X.unsafe;ee||k(F);var te=!ee&&qt.find(F,Q);if(!te){var de=F.FullPaths[0];Q.slice(0,de.length)==de?de=Q:(de.slice(-1)!="/"&&(de+="/"),de=(de+Q).replace("//","/")),te={name:a(Q),type:2},F.FileIndex.push(te),F.FullPaths.push(de),ee||qt.utils.cfb_gc(F)}return te.content=q,te.size=q?q.length:0,X&&(X.CLSID&&(te.clsid=X.CLSID),X.mt&&(te.mt=X.mt),X.ct&&(te.ct=X.ct)),te}function Cr(F,Q){k(F);var q=qt.find(F,Q);if(q){for(var X=0;X<F.FileIndex.length;++X)if(F.FileIndex[X]==q)return F.FileIndex.splice(X,1),F.FullPaths.splice(X,1),!0}return!1}function dh(F,Q,q){k(F);var X=qt.find(F,Q);if(X){for(var ee=0;ee<F.FileIndex.length;++ee)if(F.FileIndex[ee]==X)return F.FileIndex[ee].name=a(q),F.FullPaths[ee]=q,!0}return!1}function fh(F){T(F,!0)}return t.find=C,t.read=E,t.parse=d,t.write=Z,t.writeFile=H,t.utils={cfb_new:Ht,cfb_add:Dt,cfb_del:Cr,cfb_mov:dh,cfb_gc:fh,ReadShift:jp,CheckField:AW,prep_blob:Mn,bconcat:al,use_zlib:P,_deflateRaw:st,_inflateRaw:Pe,consts:K},t}();function TRe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Fi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function qC(e){for(var t=[],r=Fi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Ky=new Date(1899,11,30,0,0,0);function ya(e,t){var r=e.getTime(),n=Ky.getTime()+(e.getTimezoneOffset()-Ky.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var cW=new Date,NRe=Ky.getTime()+(cW.getTimezoneOffset()-Ky.getTimezoneOffset())*6e4,OI=cW.getTimezoneOffset();function Kb(e){var t=new Date;return t.setTime(e*24*60*60*1e3+NRe),t.getTimezoneOffset()!==OI&&t.setTime(t.getTime()+(t.getTimezoneOffset()-OI)*6e4),t}function CRe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var PI=new Date("2017-02-19T19:06:09.000Z"),uW=isNaN(PI.getFullYear())?new Date("2/19/17"):PI,jRe=uW.getFullYear()==2017;function Cn(e,t){var r=new Date(e);if(jRe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(uW.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function du(e,t){if(Gt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return lp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return lp(Yz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return lp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return lp(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Bn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Bn(e[r]));return t}function Lr(e,t){for(var r="";r.length<t;)r+=e;return r}function ti(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var ARe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Of(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&ARe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var ORe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function dW(e){return e?e.content&&e.type?du(e.content,!0):e.data?sp(e.data):e.asNodeBuffer&&Gt?sp(e.asNodeBuffer().toString("binary")):e.asBinary?sp(e.asBinary()):e._data&&e._data.getContent?sp(du(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function fW(e){if(!e)return null;if(e.data)return bI(e.data);if(e.asNodeBuffer&&Gt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?bI(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function PRe(e){return e&&e.name.slice(-4)===".bin"?fW(e):dW(e)}function ss(e,t){for(var r=e.FullPaths||Fi(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function KC(e,t){var r=ss(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Yr(e,t,r){if(!r)return PRe(KC(e,t));if(!t)return null;try{return Yr(e,t)}catch{return null}}function Va(e,t,r){if(!r)return dW(KC(e,t));if(!t)return null;try{return Va(e,t)}catch{return null}}function RRe(e,t,r){return fW(KC(e,t))}function RI(e){for(var t=e.FullPaths||Fi(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function IRe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Gt?n=ku(r):n=ZPe(r),qt.utils.cfb_add(e,t,n)}qt.utils.cfb_add(e,t,r)}else e.file(t,r)}function hW(e,t){switch(t.type){case"base64":return qt.read(e,{type:"base64"});case"binary":return qt.read(e,{type:"binary"});case"buffer":case"array":return qt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function op(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var pW=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DRe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,II=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,MRe=/<[^>]*>/g,sa=pW.match(II)?II:MRe,$Re=/<\w*:/,FRe=/<(\/?)\w+:/;function bt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(DRe),o=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function Vi(e){return e.replace(FRe,"<$1")}var mW={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},LRe=qC(mW),Yt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,c){return mW[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),BRe=/[&<>'"]/g,URe=/[\u0000-\u001f]/g;function XC(e){var t=e+"";return t.replace(BRe,function(r){return LRe[r]}).replace(/\n/g,"<br/>").replace(URe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var DI=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Er(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function D_(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function MI(e){var t=Gl(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function $I(e){return ku(e,"binary").toString("utf8")}var iv="foo bar baz",xr=Gt&&($I(iv)==D_(iv)&&$I||MI(iv)==D_(iv)&&MI)||D_,lp=Gt?function(e){return ku(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},om=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),gW=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),zRe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),WRe=/<\/?(?:vt:)?variant>/g,HRe=/<(?:vt:)([^>]*)>([\s\S]*)</;function FI(e,t){var r=bt(e),n=e.match(zRe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(WRe,"").match(HRe);i&&a.push({v:xr(i[2]),t:i[1]})}),a}var VRe=/(^\s|\s$|\n)/;function GRe(e){return Fi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qRe(e,t,r){return"<"+e+(r!=null?GRe(r):"")+(t!=null?(t.match(VRe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function YC(e){if(Gt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return xr(Eu(HC(e)));throw new Error("Bad input format: expected Buffer or string")}var lm=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,KRe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XRe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function YRe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function JRe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var LI=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},BI=Gt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ku(t)})):LI(e)}:LI,UI=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(co(e,a)));return n.join("").replace(va,"")},JC=Gt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(va,""):UI(e,t,r)}:UI,zI=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},vW=Gt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):zI(e,t,r)}:zI,WI=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Ju(e,a)));return n.join("")},Xm=Gt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):WI(t,r,n)}:WI,xW=function(e,t){var r=za(e,t);return r>0?Xm(e,t+4,t+4+r-1):""},yW=xW,bW=function(e,t){var r=za(e,t);return r>0?Xm(e,t+4,t+4+r-1):""},wW=bW,_W=function(e,t){var r=2*za(e,t);return r>0?Xm(e,t+4,t+4+r-1):""},SW=_W,kW=function(t,r){var n=za(t,r);return n>0?JC(t,r+4,r+4+n):""},EW=kW,TW=function(e,t){var r=za(e,t);return r>0?Xm(e,t+4,t+4+r):""},NW=TW,CW=function(e,t){return YRe(e,t)},Xy=CW,jW=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Gt&&(yW=function(t,r){if(!Buffer.isBuffer(t))return xW(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},wW=function(t,r){if(!Buffer.isBuffer(t))return bW(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},SW=function(t,r){if(!Buffer.isBuffer(t))return _W(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},EW=function(t,r){if(!Buffer.isBuffer(t))return kW(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},NW=function(t,r){if(!Buffer.isBuffer(t))return TW(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Xy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):CW(t,r)},jW=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ju=function(e,t){return e[t]},co=function(e,t){return e[t+1]*256+e[t]},QRe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},za=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},kc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZRe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function jp(e,t){var r="",n,a,s=[],i,o,c,u;switch(t){case"dbcs":if(u=this.l,Gt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(co(this,u)),u+=2;e*=2;break;case"utf8":r=Xm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=JC(this,this.l,this.l+e);break;case"wstr":return jp.call(this,e,"dbcs");case"lpstr-ansi":r=yW(this,this.l),e=4+za(this,this.l);break;case"lpstr-cp":r=wW(this,this.l),e=4+za(this,this.l);break;case"lpwstr":r=SW(this,this.l),e=4+2*za(this,this.l);break;case"lpp4":e=4+za(this,this.l),r=EW(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+za(this,this.l),r=NW(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Ju(this,this.l+e++))!==0;)s.push(sv(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=co(this,this.l+e))!==0;)s.push(sv(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ju(this,u),this.l=u+1,o=jp.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(sv(co(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Ju(this,u),this.l=u+1,o=jp.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(sv(Ju(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Ju(this,this.l),this.l++,n;case 2:return n=(t==="i"?QRe:co)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?kc:ZRe)(this,this.l),this.l+=4,n):(a=za(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Xy(this,this.l):a=Xy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=vW(this,this.l,e);break}}return this.l+=e,r}var e4e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},t4e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},r4e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function n4e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)r4e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,e4e(this,t,this.l);break;case 8:if(n=8,r==="f"){JRe(this,t,this.l);break}case 16:break;case-4:n=4,t4e(this,t,this.l);break}return this.l+=n,this}function AW(e,t){var r=vW(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Mn(e,t){e.l=t,e.read_shift=jp,e.chk=AW,e.write_shift=n4e}function na(e,t){e.l+=t}function dn(e){var t=Gl(e);return Mn(t,0),t}function Mo(e,t,r){if(e){var n,a,s;Mn(e,e.l||0);for(var i=e.length,o=0,c=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=t1[o]||t1[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,o))return}}}function bE(){var e=[],t=Gt?256:2048,r=function(u){var d=dn(u);return Mn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),al(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Ap(e,t,r){var n=Bn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function HI(e,t,r){var n=Bn(e);return n.s=Ap(n.s,t.s,r),n.e=Ap(n.e,t.s,r),n}function Op(e,t){if(e.cRel&&e.c<0)for(e=Bn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Bn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Nt(e);return!e.cRel&&e.cRel!=null&&(r=i4e(r)),!e.rRel&&e.rRel!=null&&(r=a4e(r)),r}function M_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+bn(e.s.c)+":"+(e.e.cRel?"":"$")+bn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Un(e.s.r)+":"+(e.e.rRel?"":"$")+Un(e.e.r):Op(e.s,t.biff)+":"+Op(e.e,t.biff)}function QC(e){return parseInt(s4e(e),10)-1}function Un(e){return""+(e+1)}function a4e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function s4e(e){return e.replace(/\$(\d+)$/,"$1")}function ZC(e){for(var t=o4e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function bn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function i4e(e){return e.replace(/^([A-Z])/,"$$$1")}function o4e(e){return e.replace(/^\$([A-Z])/,"$1")}function l4e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ma(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Nt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ch(e){var t=e.indexOf(":");return t==-1?{s:ma(e),e:ma(e)}:{s:ma(e.slice(0,t)),e:ma(e.slice(t+1))}}function Kt(e,t){return typeof t>"u"||typeof t=="number"?Kt(e.s,e.e):(typeof e!="string"&&(e=Nt(e)),typeof t!="string"&&(t=Nt(t)),e==t?e:e+":"+t)}function Ur(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function VI(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=bs(e.z,r?ya(t):t)}catch{}try{return e.w=bs((e.XF||{}).numFmtId||(r?14:0),r?ya(t):t)}catch{return""+t}}function No(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Cu[e.v]||e.v:t==null?VI(e,e.v):VI(e,t))}function oc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function OW(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ma(n.origin):n.origin;i=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Ur(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=i+f,m=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||At[14],n.cellDates?(p.t="d",p.w=bs(p.z,ya(p.v))):(p.t="n",p.v=ya(p.v),p.w=bs(p.z,p.v))):p.t="s";if(a)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var v=Nt({c:m,r:g});s[v]&&s[v].z&&(p.z=s[v].z),s[v]=p}}}return u.s.c<1e7&&(s["!ref"]=Kt(u)),s}function uh(e,t){return OW(null,e,t)}function c4e(e){return e.read_shift(4,"i")}function ta(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function u4e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ej(e,t){var r=e.l,n=e.read_shift(1),a=ta(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)s.push(u4e(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var d4e=ej;function ks(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Tu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var f4e=ta;function tj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var h4e=ta,wE=tj;function rj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Xy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):kc(t,0)>>2;return r?a/100:a}function PW(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Nu=PW;function Zn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function p4e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Kc[a];u&&(t.rgb=um(u));break;case 2:t.rgb=um([i,o,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function m4e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function RW(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function g4e(e){return RW(e,1)}function v4e(e){return RW(e,2)}var nj=2,Ea=3,ov=11,GI=12,Yy=19,lv=64,x4e=65,y4e=71,b4e=4108,w4e=4126,En=80,IW=81,_4e=[En,IW],S4e={1:{n:"CodePage",t:nj},2:{n:"Category",t:En},3:{n:"PresentationFormat",t:En},4:{n:"ByteCount",t:Ea},5:{n:"LineCount",t:Ea},6:{n:"ParagraphCount",t:Ea},7:{n:"SlideCount",t:Ea},8:{n:"NoteCount",t:Ea},9:{n:"HiddenCount",t:Ea},10:{n:"MultimediaClipCount",t:Ea},11:{n:"ScaleCrop",t:ov},12:{n:"HeadingPairs",t:b4e},13:{n:"TitlesOfParts",t:w4e},14:{n:"Manager",t:En},15:{n:"Company",t:En},16:{n:"LinksUpToDate",t:ov},17:{n:"CharacterCount",t:Ea},19:{n:"SharedDoc",t:ov},22:{n:"HyperlinksChanged",t:ov},23:{n:"AppVersion",t:Ea,p:"version"},24:{n:"DigSig",t:x4e},26:{n:"ContentType",t:En},27:{n:"ContentStatus",t:En},28:{n:"Language",t:En},29:{n:"Version",t:En},255:{},2147483648:{n:"Locale",t:Yy},2147483651:{n:"Behavior",t:Yy},1919054434:{}},k4e={1:{n:"CodePage",t:nj},2:{n:"Title",t:En},3:{n:"Subject",t:En},4:{n:"Author",t:En},5:{n:"Keywords",t:En},6:{n:"Comments",t:En},7:{n:"Template",t:En},8:{n:"LastAuthor",t:En},9:{n:"RevNumber",t:En},10:{n:"EditTime",t:lv},11:{n:"LastPrinted",t:lv},12:{n:"CreatedDate",t:lv},13:{n:"ModifiedDate",t:lv},14:{n:"PageCount",t:Ea},15:{n:"WordCount",t:Ea},16:{n:"CharCount",t:Ea},17:{n:"Thumbnail",t:y4e},18:{n:"Application",t:En},19:{n:"DocSecurity",t:Ea},255:{},2147483648:{n:"Locale",t:Yy},2147483651:{n:"Behavior",t:Yy},1919054434:{}},qI={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},E4e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function T4e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var N4e=T4e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Kc=Bn(N4e),Cu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},DW={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},KI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function C4e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function j4e(e){var t=C4e();if(!e||!e.match)return t;var r={};if((e.match(sa)||[]).forEach(function(n){var a=bt(n);switch(a[0].replace($Re,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[KI[a.ContentType]]!==void 0&&t[KI[a.ContentType]].push(a.PartName);break}}),t.xmlns!==KRe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var gd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _E(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Pp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(sa)||[]).forEach(function(a){var s=bt(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:op(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var A4e="application/vnd.oasis.opendocument.spreadsheet";function O4e(e,t){for(var r=YC(e),n,a;n=lm.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=bt(n[0],!1),a.path=="/"&&a.type!==A4e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Rp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],P4e=function(){for(var e=new Array(Rp.length),t=0;t<Rp.length;++t){var r=Rp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function MW(e){var t={};e=xr(e);for(var r=0;r<Rp.length;++r){var n=Rp[r],a=e.match(P4e[r]);a!=null&&a.length>0&&(t[n[1]]=Yt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Cn(t[n[1]]))}return t}var R4e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function $W(e,t,r,n){var a=[];if(typeof e=="string")a=FI(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?FI(t,n).map(function(d){return d.v}):t,o=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(o,o+c);break}o+=c}}function I4e(e,t,r){var n={};return t||(t={}),e=xr(e),R4e.forEach(function(a){var s=(e.match(om(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Yt(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&$W(n.HeadingPairs,n.TitlesOfParts,t,r),t}var D4e=/<[^>]+>[^<]*/g;function M4e(e,t){var r={},n="",a=e.match(D4e);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=bt(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Yt(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Yt(d);break;case"bool":r[n]=Er(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Cn(d);break;case"cy":case"error":r[n]=Yt(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var $4e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},$_;function F4e(e,t,r){$_||($_=qC($4e)),t=$_[t]||t,e[t]=r}function aj(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function FW(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function LW(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function BW(e,t,r){return t===31?LW(e):FW(e,t,r)}function SE(e,t,r){return BW(e,t,r===!1?0:4)}function L4e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return BW(e,t,0)}function B4e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(va,""),e.l-a&2&&(e.l+=2)}return r}function U4e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(va,"");return r}function z4e(e){var t=e.l,r=Jy(e,IW);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Jy(e,Ea);return[r,n]}function W4e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(z4e(e));return r}function XI(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(va,"").replace(ip,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function UW(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function H4e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Jy(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==GI&&n!==t&&_4e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===GI?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return FW(e,n,4).replace(va,"");case 31:return LW(e);case 64:return aj(e);case 65:return UW(e);case 71:return H4e(e);case 80:return SE(e,n,!s.raw).replace(va,"");case 81:return L4e(e,n).replace(va,"");case 4108:return W4e(e);case 4126:case 4127:return n==4127?B4e(e):U4e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function YI(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(b,x){return b[1]-x[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var g=t[s[i][0]];if(h[g.n]=Jy(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ys(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[i][0]===1){if(o=h.CodePage=Jy(e,nj),Ys(o),c!==-1){var m=e.l;e.l=s[c][1],u=XI(e,o),e.l=m}}else if(s[i][0]===0){if(o===0){c=i,e.l=s[i+1][1];continue}u=XI(e,o)}else{var v=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=UW(e);break;case 30:e.l+=4,y=SE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=SE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Wr(e,4);break;case 64:e.l+=4,y=Cn(aj(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function JI(e,t,r){var n=e.content;if(!n)return{};Mn(n,0);var a,s,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==qt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=YI(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=YI(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[s,i],h}function Bo(e,t){return e.read_shift(t),null}function V4e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Wr(e,t){return e.read_shift(t)===1}function Jr(e){return e.read_shift(2,"u")}function zW(e,t){return V4e(e,t,Jr)}function G4e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Ym(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function q4e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,c={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function fu(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Jm(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):fu(e,n,r)}function ju(e,t,r){if(r.biff>5)return Jm(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function K4e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function X4e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(va,"");return n&&(e.l+=24),a}function Y4e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(va,"");return r+i}function J4e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return X4e(e);case"0303000000000000c000000000000046":return Y4e(e);default:throw new Error("Unsupported Moniker "+r)}}function cv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(va,""):"";return r}function Q4e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,c,u="",d,f;a&16&&(s=cv(e,r-e.l)),a&128&&(i=cv(e,r-e.l)),(a&257)===257&&(o=cv(e,r-e.l)),(a&257)===1&&(c=J4e(e,r-e.l)),a&8&&(u=cv(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=aj(e)),e.l=r;var h=i||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function WW(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function HW(e,t){var r=WW(e);return r[3]=0,r}function Gi(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Z4e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function e3e(e,t,r){return t===0?"":ju(e,t,r)}function t3e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function VW(e){var t=e.read_shift(2),r=rj(e);return[t,r]}function r3e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ym(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Xb(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function GW(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var n3e=GW;function qW(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function a3e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function s3e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Gn(e){e.l+=2,e.l+=e.read_shift(2)}var i3e={0:Gn,4:Gn,5:Gn,6:Gn,7:s3e,8:Gn,9:Gn,10:Gn,11:Gn,12:Gn,13:a3e,14:Gn,15:Gn,16:Gn,17:Gn,18:Gn,19:Gn,20:Gn,21:qW};function o3e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(i3e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function uv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function l3e(e,t){return t===0||e.read_shift(2),1200}function c3e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=ju(e,0,r);return e.read_shift(t+n-e.l),a}function u3e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function d3e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Ym(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function f3e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(q4e(e));return s.Count=n,s.Unique=a,s}function h3e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function p3e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function m3e(e){var t=Z4e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function g3e(e){return e.read_shift(2),e.read_shift(4)}function QI(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function v3e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:c,TabRatio:u}}function x3e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function y3e(){}function b3e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ym(e,0,r),n}function w3e(e){var t=Gi(e);return t.isst=e.read_shift(4),t}function _3e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Gi(e);r.biff==2&&e.l++;var s=Jm(e,n-e.l,r);return a.val=s,a}function S3e(e,t,r){var n=e.read_shift(2),a=ju(e,0,r);return[n,a]}var k3e=ju;function ZI(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c}}}function E3e(e){var t=e.read_shift(2),r=e.read_shift(2),n=VW(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function T3e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(VW(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function N3e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function C3e(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=E4e[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function j3e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=C3e(e,t,n.fStyle,r),n}function A3e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function eD(e,t,r){var n=Gi(e);(r.biff==2||t==9)&&++e.l;var a=G4e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function O3e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Gi(e),a=Zn(e);return n.val=a,n}var tD=e3e;function P3e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=fu(e,s),o=[];n>e.l;)o.push(Jm(e));return[s,a,i,o]}function rD(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=r3e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var R3e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nD(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=fu(e,i,r);a&32&&(u=R3e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:p5e(e,d,r,o);return{chKey:s,Name:u,itab:c,rgce:f}}function KW(e,t,r){if(r.biff<8)return I3e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(t3e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function I3e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ym(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function D3e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=fu(e,n,r),i=fu(e,a,r);return[s,i]}function M3e(e,t,r){var n=GW(e);e.l++;var a=e.read_shift(1);return t-=8,[m5e(e,t,r),a,n]}function aD(e,t,r){var n=n3e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,f5e(e,t,r)]}function $3e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function F3e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=ju(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function L3e(e,t,r){return F3e(e,t,r)}function B3e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Xb(e));return r}function U3e(e,t,r){if(r&&r.biff<8)return W3e(e,t,r);var n=qW(e),a=o3e(e,t-22,n[1]);return{cmo:n,ft:a}}var z3e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function W3e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((z3e[n]||na)(e,t,r)),{cmo:[a,n,s],ft:i}}function H3e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=K4e(e,6,r);var o=e.read_shift(2);e.read_shift(2),Jr(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=fu(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function V3e(e,t){var r=Xb(e);e.l+=16;var n=Q4e(e,t-24);return[r,n]}function G3e(e,t){e.read_shift(2);var r=Xb(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(va,""),[r,n]}function q3e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=qI[r]||r,r=e.read_shift(2),t[1]=qI[r]||r,t}function K3e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(HW(e));return r}function X3e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(HW(e));return r}function Y3e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function XW(e,t,r){if(!r.cellStyles)return na(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function J3e(e,t){var r={};return t<32||(e.l+=16,r.header=Zn(e),r.footer=Zn(e),e.l+=2),r}function Q3e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Z3e=Gi,eIe=zW,tIe=Jm;function rIe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function nIe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Gi(e);++e.l;var a=ju(e,t-7,r);return n.t="str",n.val=a,n}function aIe(e){var t=Gi(e);++e.l;var r=Zn(e);return t.t="n",t.val=r,t}function sIe(e){var t=Gi(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function iIe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function oIe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function lIe(e,t,r){var n=e.l+t,a=Gi(e),s=e.read_shift(2),i=fu(e,s,r);return e.l=n,a.t="str",a.val=i,a}var cIe=[2,3,48,49,131,139,140,245],sD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=qC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Gl(1);switch(c.type){case"base64":d=qs(Ya(o));break;case"binary":d=qs(o);break;case"buffer":case"array":d=o;break}Mn(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var x=[],_={},S=Math.min(d.length,f==2?521:v-10-(p?264:0)),E=g?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=nl.utils.decode(b,d.slice(d.l,d.l+E)).replace(/[\u0000\r\n].*$/g,""),d.l+=E,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&x.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var k=0,N=0;for(u[0]=[],N=0;N!=x.length;++N)u[0][N]=x[N].name;for(;m-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++k]=[],N=0,N=0;N!=x.length;++N){var T=d.slice(d.l,d.l+x[N].len);d.l+=x[N].len,Mn(T,0);var A=nl.utils.decode(b,T);switch(x[N].type){case"C":A.trim().length&&(u[k][N]=A.replace(/\s+$/,""));break;case"D":A.length===8?u[k][N]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):u[k][N]=A;break;case"F":u[k][N]=parseFloat(A.trim());break;case"+":case"I":u[k][N]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":u[k][N]=!0;break;case"N":case"F":u[k][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][N]="##MEMO##"+(g?parseInt(A.trim(),10):T.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(u[k][N]=+A||0);break;case"@":u[k][N]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[k][N]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[k][N]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][N]=-T.read_shift(-8,"f");break;case"B":if(p&&x[N].len==8){u[k][N]=T.read_shift(8,"f");break}case"G":case"P":T.l+=x[N].len;break;case"0":if(x[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[N].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=x,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=uh(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return oc(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){var u=c||{};if(+u.codepage>=0&&Ys(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=bE(),f=AE(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var x=Ur(o["!ref"]),_=[],S=[],E=[];for(m=0;m<=x.e.c-x.s.c;++m){var k="",N="",T=0,A=[];for(v=0;v<p.length;++v)p[v][m]!=null&&A.push(p[v][m]);if(A.length==0||h[m]==null){_[m]="?";continue}for(v=0;v<A.length;++v){switch(typeof A[v]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=A[v]instanceof Date?"D":"C";break;default:N="C"}T=Math.max(T,String(A[v]).length),k=k&&k!=N?"C":N}T>250&&(T=250),N=((g[m]||{}).DBF||{}).type,N=="C"&&g[m].DBF.len>T&&(T=g[m].DBF.len),k=="B"&&N=="N"&&(k="N",E[m]=g[m].DBF.dec,T=g[m].DBF.len),S[m]=k=="C"||N=="N"?T:s[k]||0,b+=S[m],_[m]=k}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*y),C.write_shift(2,b),m=0;m<4;++m)C.write_shift(4,0);for(C.write_shift(4,0|(+t[Kz]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var j=d.next(32),R=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,R,"sbcs"),j.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),j.write_shift(4,v),j.write_shift(1,S[m]||s[_[m]]||0),j.write_shift(1,E[m]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),v+=S[m]||s[_[m]]||0}var I=d.next(264);for(I.write_shift(4,13),m=0;m<65;++m)I.write_shift(4,0);for(m=0;m<p.length;++m){var M=d.next(b);for(M.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":M.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":M.write_shift(8,p[m][v]||0,"f");break;case"N":var W="0";for(typeof p[m][v]=="number"&&(W=p[m][v].toFixed(E[v]||0)),y=0;y<S[v]-W.length;++y)M.write_shift(1,32);M.write_shift(1,W,"sbcs");break;case"D":p[m][v]?(M.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var K=String(p[m][v]!=null?p[m][v]:"").slice(0,S[v]);for(M.write_shift(1,K,"sbcs"),y=0;y<S[v]-K.length;++y)M.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),uIe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?wI(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:wI(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(Ya(h),p);case"binary":return s(h,p);case"buffer":return s(Gt&&Buffer.isBuffer(h)?h.toString("binary"):Eu(h),p);case"array":return s(du(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,x=[],_=[],S=null,E={},k=[],N=[],T=[],A=0,C;for(+p.codepage>=0&&Ys(+p.codepage);y!==g.length;++y){A=0;var j=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),R=j.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),I=R[0],M;if(j.length>0)switch(I){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&_.push(j.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,K=!1,H=!1,O=!1,Z=-1,J=-1;for(b=1;b<R.length;++b)switch(R[b].charAt(0)){case"A":break;case"X":v=parseInt(R[b].slice(1))-1,K=!0;break;case"Y":for(m=parseInt(R[b].slice(1))-1,K||(v=0),C=x.length;C<=m;++C)x[C]=[];break;case"K":M=R[b].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(ti(M))?isNaN(Of(M).getDate())||(M=Cn(M)):(M=ti(M),S!==null&&lh(S)&&(M=Kb(M))),W=!0;break;case"E":O=!0;var P=Dd(R[b].slice(1),{r:m,c:v});x[m][v]=[x[m][v],P];break;case"S":H=!0,x[m][v]=[x[m][v],"S5S"];break;case"G":break;case"R":Z=parseInt(R[b].slice(1))-1;break;case"C":J=parseInt(R[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}if(W&&(x[m][v]&&x[m][v].length==2?x[m][v][0]=M:x[m][v]=M,S=null),H){if(O)throw new Error("SYLK shared formula cannot have own formula");var G=Z>-1&&x[Z][J];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");x[m][v][1]=sH(G[1],{r:m-Z,c:v-J})}break;case"F":var B=0;for(b=1;b<R.length;++b)switch(R[b].charAt(0)){case"X":v=parseInt(R[b].slice(1))-1,++B;break;case"Y":for(m=parseInt(R[b].slice(1))-1,C=x.length;C<=m;++C)x[C]=[];break;case"M":A=parseInt(R[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(R[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=R[b].slice(1).split(" "),C=parseInt(T[0],10);C<=parseInt(T[1],10);++C)A=parseInt(T[2],10),N[C-1]=A===0?{hidden:!0}:{wch:A},Pf(N[C-1]);break;case"C":v=parseInt(R[b].slice(1))-1,N[v]||(N[v]={});break;case"R":m=parseInt(R[b].slice(1))-1,k[m]||(k[m]={}),A>0?(k[m].hpt=A,k[m].hpx=dm(A)):A===0&&(k[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}B<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}}return k.length>0&&(E["!rows"]=k),N.length>0&&(E["!cols"]=N),p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),[x,E]}function i(h,p){var g=a(h,p),m=g[0],v=g[1],y=uh(m,p);return Fi(v).forEach(function(b){y[b]=v[b]}),y}function o(h,p){return oc(i(h,p),p)}function c(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+YDe(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Zy(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=e1(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*rH(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=Ur(h["!ref"]),y,b=Array.isArray(h),x=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var E=Nt({r:_,c:S});y=b?(h[_]||[])[S]:h[E],!(!y||y.v==null&&(!y.f||y.F))&&m.push(c(y,h,_,S))}return g.join(x)+x+m.join(x)+x+"E"+x}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),dIe=function(){function e(s,i){switch(i.type){case"base64":return t(Ya(s),i);case"binary":return t(s,i);case"buffer":return t(Gt&&Buffer.isBuffer(s)?s.toString("binary"):Eu(s),i);case"array":return t(du(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=o[d]||"";(m.match(/["]/g)||[]).length&1&&d<o.length-1;)m+=`
`+o[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(ti(g))?isNaN(Of(g).getDate())?f[c][u]=g:f[c][u]=Cn(g):f[c][u]=ti(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return uh(e(s,i),i)}function n(s,i){return oc(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Ur(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=Nt({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=bs(f.z||At[14],ya(Cn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),fIe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var x=ma(b[1]);if(y.length<=x.r)for(g=y.length;g<=x.r;++g)y[g]||(y[g]=[]);switch(g=x.r,m=x.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return uh(r(f,h),h)}function a(f,h){return oc(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=ch(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var x=v.s.c;x<=v.e.c;++x)if(m=Nt({r:b,c:x}),g=y?(f[b]||[])[x]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=ya(Cn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||bs(g.z||At[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),cm=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(ti(d))?isNaN(Of(d).getDate())?f[h][p]=d:f[h][p]=Cn(d):f[h][p]=ti(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){p[b]=[];var x=0;for(e(g[b].slice(0,v).trim(),p,b,x,h),x=1;x<=(g[b].length-v)/10+1;++x)e(g[b].slice(v+(x-1)*10,v+x*10).trim(),p,b,x,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var v=0,y=0,b=0,x=0,_=0,S=p.charCodeAt(0),E=!1,k=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?SRe(h.dateNF):null;function A(){var C=d.slice(x,_),j={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)j.t="z";else if(h.raw)j.t="s",j.v=C;else if(C.trim().length===0)j.t="s",j.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(j.t="s",j.v=C.slice(2,-1).replace(/""/g,'"')):QDe(C)?(j.t="n",j.f=C.slice(1)):(j.t="s",j.v=C);else if(C=="TRUE")j.t="b",j.v=!0;else if(C=="FALSE")j.t="b",j.v=!1;else if(!isNaN(b=ti(C)))j.t="n",h.cellText!==!1&&(j.w=C),j.v=b;else if(!isNaN(Of(C).getDate())||T&&C.match(T)){j.z=h.dateNF||At[14];var R=0;T&&C.match(T)&&(C=kRe(C,h.dateNF,C.match(T)||[]),R=1),h.cellDates?(j.t="d",j.v=Cn(C,R)):(j.t="n",j.v=ya(Cn(C,R))),h.cellText!==!1&&(j.w=bs(j.z,j.v instanceof Date?ya(j.v):j.v)),h.cellNF||delete j.z}else j.t="s",j.v=C;if(j.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=j):g[Nt({c:y,r:v})]=j),x=_+1,N=d.charCodeAt(x),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),k==S)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(k=d.charCodeAt(_)){case 34:N===34&&(E=!E);break;case S:case 10:case 13:if(!E&&A())break e;break}return _-x>0&&A(),g["!ref"]=Kt(m),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):uh(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:fj(d,f);switch(f.type){case"base64":h=Ya(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof nl<"u"?h=nl.utils.decode(f.codepage,d):h=Gt&&Buffer.isBuffer(d)?d.toString("binary"):Eu(d);break;case"array":h=du(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=xr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=xr(h):f.type=="binary"&&typeof nl<"u"&&f.codepage&&(h=nl.utils.decode(f.codepage,nl.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?fIe.to_sheet(f.type=="string"?h:xr(h),f):i(h,f)}function c(d,f){return oc(o(d,f),f)}function u(d){for(var f=[],h=Ur(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Nt({r:m,c:y});if(p=g?(d[m]||[])[y]:d[b],!p||p.v==null){v.push("          ");continue}for(var x=(p.w||(No(p),p.w)||"").slice(0,10);x.length<10;)x+=" ";v.push(x+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function hIe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=uIe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return cm.to_workbook(e,t)}}var Ip=function(){function e(P,G,B){if(P){Mn(P,P.l||0);for(var z=B.Enum||Z;P.l<P.length;){var ae=P.read_shift(2),V=z[ae]||z[65535],ie=P.read_shift(2),re=P.l+ie,L=V.f&&V.f(P,ie,B);if(P.l=re,G(L,V,ae))return}}}function t(P,G){switch(G.type){case"base64":return r(qs(Ya(P)),G);case"binary":return r(qs(P),G);case"buffer":case"array":return r(P,G)}throw"Unsupported type "+G.type}function r(P,G){if(!P)return P;var B=G||{},z=B.dense?[]:{},ae="Sheet1",V="",ie=0,re={},L=[],oe=[],D={s:{r:0,c:0},e:{r:0,c:0}},le=B.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)B.Enum=Z,e(P,function(pe,Le,ze){switch(ze){case 0:B.vers=pe,pe>=4096&&(B.qpro=!0);break;case 6:D=pe;break;case 204:pe&&(V=pe);break;case 222:V=pe;break;case 15:case 51:B.qpro||(pe[1].v=pe[1].v.slice(1));case 13:case 14:case 16:ze==14&&(pe[2]&112)==112&&(pe[2]&15)>1&&(pe[2]&15)<15&&(pe[1].z=B.dateNF||At[14],B.cellDates&&(pe[1].t="d",pe[1].v=Kb(pe[1].v))),B.qpro&&pe[3]>ie&&(z["!ref"]=Kt(D),re[ae]=z,L.push(ae),z=B.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ie=pe[3],ae=V||"Sheet"+(ie+1),V="");var xt=B.dense?(z[pe[0].r]||[])[pe[0].c]:z[Nt(pe[0])];if(xt){xt.t=pe[1].t,xt.v=pe[1].v,pe[1].z!=null&&(xt.z=pe[1].z),pe[1].f!=null&&(xt.f=pe[1].f);break}B.dense?(z[pe[0].r]||(z[pe[0].r]=[]),z[pe[0].r][pe[0].c]=pe[1]):z[Nt(pe[0])]=pe[1];break}},B);else if(P[2]==26||P[2]==14)B.Enum=J,P[2]==14&&(B.qpro=!0,P.l=0),e(P,function(pe,Le,ze){switch(ze){case 204:ae=pe;break;case 22:pe[1].v=pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(pe[3]>ie&&(z["!ref"]=Kt(D),re[ae]=z,L.push(ae),z=B.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ie=pe[3],ae="Sheet"+(ie+1)),le>0&&pe[0].r>=le)break;B.dense?(z[pe[0].r]||(z[pe[0].r]=[]),z[pe[0].r][pe[0].c]=pe[1]):z[Nt(pe[0])]=pe[1],D.e.c<pe[0].c&&(D.e.c=pe[0].c),D.e.r<pe[0].r&&(D.e.r=pe[0].r);break;case 27:pe[14e3]&&(oe[pe[14e3][0]]=pe[14e3][1]);break;case 1537:oe[pe[0]]=pe[1],pe[0]==ie&&(ae=pe[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(z["!ref"]=Kt(D),re[V||ae]=z,L.push(V||ae),!oe.length)return{SheetNames:L,Sheets:re};for(var ye={},Se=[],_e=0;_e<oe.length;++_e)re[L[_e]]?(Se.push(oe[_e]||L[_e]),ye[oe[_e]]=re[oe[_e]]||re[L[_e]]):(Se.push(oe[_e]),ye[oe[_e]]={"!ref":"A1"});return{SheetNames:Se,Sheets:ye}}function n(P,G){var B=G||{};if(+B.codepage>=0&&Ys(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=bE(),ae=Ur(P["!ref"]),V=Array.isArray(P),ie=[];js(z,0,s(1030)),js(z,6,c(ae));for(var re=Math.min(ae.e.r,8191),L=ae.s.r;L<=re;++L)for(var oe=Un(L),D=ae.s.c;D<=ae.e.c;++D){L===ae.s.r&&(ie[D]=bn(D));var le=ie[D]+oe,ye=V?(P[L]||[])[D]:P[le];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?js(z,13,p(L,D,ye.v)):js(z,14,m(L,D,ye.v));else{var Se=No(ye);js(z,15,f(L,D,Se.slice(0,239)))}}return js(z,1),z.end()}function a(P,G){var B=G||{};if(+B.codepage>=0&&Ys(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=bE();js(z,0,i(P));for(var ae=0,V=0;ae<P.SheetNames.length;++ae)(P.Sheets[P.SheetNames[ae]]||{})["!ref"]&&js(z,27,O(P.SheetNames[ae],V++));var ie=0;for(ae=0;ae<P.SheetNames.length;++ae){var re=P.Sheets[P.SheetNames[ae]];if(!(!re||!re["!ref"])){for(var L=Ur(re["!ref"]),oe=Array.isArray(re),D=[],le=Math.min(L.e.r,8191),ye=L.s.r;ye<=le;++ye)for(var Se=Un(ye),_e=L.s.c;_e<=L.e.c;++_e){ye===L.s.r&&(D[_e]=bn(_e));var pe=D[_e]+Se,Le=oe?(re[ye]||[])[_e]:re[pe];if(!(!Le||Le.t=="z"))if(Le.t=="n")js(z,23,A(ye,_e,ie,Le.v));else{var ze=No(Le);js(z,22,k(ye,_e,ie,ze.slice(0,239)))}}++ie}}return js(z,1),z.end()}function s(P){var G=dn(2);return G.write_shift(2,P),G}function i(P){var G=dn(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var B=0,z=0,ae=0,V=0;V<P.SheetNames.length;++V){var ie=P.SheetNames[V],re=P.Sheets[ie];if(!(!re||!re["!ref"])){++ae;var L=ch(re["!ref"]);B<L.e.r&&(B=L.e.r),z<L.e.c&&(z=L.e.c)}}return B>8191&&(B=8191),G.write_shift(2,B),G.write_shift(1,ae),G.write_shift(1,z),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(P,G,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&B.qpro?(z.s.c=P.read_shift(1),P.l++,z.s.r=P.read_shift(2),z.e.c=P.read_shift(1),P.l++,z.e.r=P.read_shift(2),z):(z.s.c=P.read_shift(2),z.s.r=P.read_shift(2),G==12&&B.qpro&&(P.l+=2),z.e.c=P.read_shift(2),z.e.r=P.read_shift(2),G==12&&B.qpro&&(P.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(P){var G=dn(8);return G.write_shift(2,P.s.c),G.write_shift(2,P.s.r),G.write_shift(2,P.e.c),G.write_shift(2,P.e.r),G}function u(P,G,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=P.read_shift(1),z[3]=P.read_shift(1),z[0].r=P.read_shift(2),P.l+=2):(z[2]=P.read_shift(1),z[0].c=P.read_shift(2),z[0].r=P.read_shift(2)),z}function d(P,G,B){var z=P.l+G,ae=u(P,G,B);if(ae[1].t="s",B.vers==20768){P.l++;var V=P.read_shift(1);return ae[1].v=P.read_shift(V,"utf8"),ae}return B.qpro&&P.l++,ae[1].v=P.read_shift(z-P.l,"cstr"),ae}function f(P,G,B){var z=dn(7+B.length);z.write_shift(1,255),z.write_shift(2,G),z.write_shift(2,P),z.write_shift(1,39);for(var ae=0;ae<z.length;++ae){var V=B.charCodeAt(ae);z.write_shift(1,V>=128?95:V)}return z.write_shift(1,0),z}function h(P,G,B){var z=u(P,G,B);return z[1].v=P.read_shift(2,"i"),z}function p(P,G,B){var z=dn(7);return z.write_shift(1,255),z.write_shift(2,G),z.write_shift(2,P),z.write_shift(2,B,"i"),z}function g(P,G,B){var z=u(P,G,B);return z[1].v=P.read_shift(8,"f"),z}function m(P,G,B){var z=dn(13);return z.write_shift(1,255),z.write_shift(2,G),z.write_shift(2,P),z.write_shift(8,B,"f"),z}function v(P,G,B){var z=P.l+G,ae=u(P,G,B);if(ae[1].v=P.read_shift(8,"f"),B.qpro)P.l=z;else{var V=P.read_shift(2);_(P.slice(P.l,P.l+V),ae),P.l+=V}return ae}function y(P,G,B){var z=G&32768;return G&=-32769,G=(z?P:0)+(G>=8192?G-16384:G),(z?"":"$")+(B?bn(G):Un(G))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(P,G){Mn(P,0);for(var B=[],z=0,ae="",V="",ie="",re="";P.l<P.length;){var L=P[P.l++];switch(L){case 0:B.push(P.read_shift(8,"f"));break;case 1:V=y(G[0].c,P.read_shift(2),!0),ae=y(G[0].r,P.read_shift(2),!1),B.push(V+ae);break;case 2:{var oe=y(G[0].c,P.read_shift(2),!0),D=y(G[0].r,P.read_shift(2),!1);V=y(G[0].c,P.read_shift(2),!0),ae=y(G[0].r,P.read_shift(2),!1),B.push(oe+D+":"+V+ae)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(P.read_shift(2));break;case 6:{for(var le="";L=P[P.l++];)le+=String.fromCharCode(L);B.push('"'+le.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:re=B.pop(),ie=B.pop(),B.push(["AND","OR"][L-20]+"("+ie+","+re+")");break;default:if(L<32&&x[L])re=B.pop(),ie=B.pop(),B.push(ie+x[L]+re);else if(b[L]){if(z=b[L][1],z==69&&(z=P[P.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+L.toString(16)+":|"+B.join("|")+"|");return}var ye=B.slice(-z);B.length-=z,B.push(b[L][0]+"("+ye.join(",")+")")}else return L<=7?console.error("WK1 invalid opcode "+L.toString(16)):L<=24?console.error("WK1 unsupported op "+L.toString(16)):L<=30?console.error("WK1 invalid opcode "+L.toString(16)):L<=115?console.error("WK1 unsupported function opcode "+L.toString(16)):console.error("WK1 unrecognized opcode "+L.toString(16))}}B.length==1?G[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function S(P){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=P.read_shift(2),G[3]=P[P.l++],G[0].c=P[P.l++],G}function E(P,G){var B=S(P);return B[1].t="s",B[1].v=P.read_shift(G-4,"cstr"),B}function k(P,G,B,z){var ae=dn(6+z.length);ae.write_shift(2,P),ae.write_shift(1,B),ae.write_shift(1,G),ae.write_shift(1,39);for(var V=0;V<z.length;++V){var ie=z.charCodeAt(V);ae.write_shift(1,ie>=128?95:ie)}return ae.write_shift(1,0),ae}function N(P,G){var B=S(P);B[1].v=P.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function T(P,G){var B=S(P),z=P.read_shift(4),ae=P.read_shift(4),V=P.read_shift(2);if(V==65535)return z===0&&ae===3221225472?(B[1].t="e",B[1].v=15):z===0&&ae===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ie=V&32768;return V=(V&32767)-16446,B[1].v=(1-ie*2)*(ae*Math.pow(2,V+32)+z*Math.pow(2,V)),B}function A(P,G,B,z){var ae=dn(14);if(ae.write_shift(2,P),ae.write_shift(1,B),ae.write_shift(1,G),z==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var V=0,ie=0,re=0,L=0;return z<0&&(V=1,z=-z),ie=Math.log2(z)|0,z/=Math.pow(2,ie-31),L=z>>>0,L&2147483648||(z/=2,++ie,L=z>>>0),z-=L,L|=2147483648,L>>>=0,z*=Math.pow(2,32),re=z>>>0,ae.write_shift(4,re),ae.write_shift(4,L),ie+=16383+(V?32768:0),ae.write_shift(2,ie),ae}function C(P,G){var B=T(P);return P.l+=G-14,B}function j(P,G){var B=S(P),z=P.read_shift(4);return B[1].v=z>>6,B}function R(P,G){var B=S(P),z=P.read_shift(8,"f");return B[1].v=z,B}function I(P,G){var B=R(P);return P.l+=G-10,B}function M(P,G){return P[P.l+G-1]==0?P.read_shift(G,"cstr"):""}function W(P,G){var B=P[P.l++];B>G-1&&(B=G-1);for(var z="";z.length<B;)z+=String.fromCharCode(P[P.l++]);return z}function K(P,G,B){if(!(!B.qpro||G<21)){var z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ae=P.read_shift(G-21,"cstr");return[z,ae]}}function H(P,G){for(var B={},z=P.l+G;P.l<z;){var ae=P.read_shift(2);if(ae==14e3){for(B[ae]=[0,""],B[ae][0]=P.read_shift(2);P[P.l];)B[ae][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return B}function O(P,G){var B=dn(5+P.length);B.write_shift(2,14e3),B.write_shift(2,G);for(var z=0;z<P.length;++z){var ae=P.charCodeAt(z);B[B.l++]=ae>127?95:ae}return B[B.l++]=0,B}var Z={0:{n:"BOF",f:Jr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:I},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function pIe(e){var t={},r=e.match(sa),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=bt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=zC[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var mIe=function(){var e=om("t"),t=om("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Yt(i[1])},c=s.match(t);return c&&(o.s=pIe(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),gIe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),vIe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,xIe=/<(?:\w+:)?r>/,yIe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function sj(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Yt(xr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=xr(e),r&&(n.h=XC(n.t))):e.match(xIe)&&(n.r=xr(e),n.t=Yt(xr((e.replace(yIe,"").match(vIe)||[]).join("").replace(sa,""))),r&&(n.h=gIe(mIe(n.r)))),n):{t:""}}var bIe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,wIe=/<(?:\w+:)?(?:si|sstItem)>/g,_Ie=/<\/(?:\w+:)?(?:si|sstItem)>/;function SIe(e,t){var r=[],n="";if(!e)return r;var a=e.match(bIe);if(a){n=a[2].replace(wIe,"").split(_Ie);for(var s=0;s!=n.length;++s){var i=sj(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=bt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function kIe(e){return[e.read_shift(4),e.read_shift(4)]}function EIe(e,t){var r=[],n=!1;return Mo(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function YW(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function vo(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function TIe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=vo(e,4),t.U=vo(e,4),t.W=vo(e,4),t}function NIe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function CIe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(NIe(e));return t}function jIe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function AIe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=vo(e,4),t.U=vo(e,4),t.W=vo(e,4),t}function OIe(e){var t=AIe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function JW(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function QW(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function PIe(e){var t=vo(e);switch(t.Minor){case 2:return[t.Minor,RIe(e)];case 3:return[t.Minor,IIe()];case 4:return[t.Minor,DIe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function RIe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=JW(e,r),a=QW(e,e.length-e.l);return{t:"Std",h:n,v:a}}function IIe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function DIe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(sa,function(s){var i=bt(s);switch(Vi(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function MIe(e,t){var r={},n=r.EncryptionVersionInfo=vo(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=JW(e,a),t-=a,r.EncryptionVerifier=QW(e,t),r}function $Ie(e){var t={},r=t.EncryptionVersionInfo=vo(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function FIe(e){var t=0,r,n=YW(e),a=n.length+1,s,i,o,c,u;for(r=Gl(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^i;return t^52811}var ZW=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(i){for(var o=YW(i),c=s(o),u=o.length,d=Gl(16),f=0;f!=16;++f)d[f]=0;var h,p,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=o[o.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(o[u],h),--u,h=c&255,d[u]=a(o[u],h);for(u=15,g=15-o.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(o[u],h),--u,--g;return d}}(),LIe=function(e,t,r,n,a){a||(a=t),n||(n=ZW(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},BIe=function(e){var t=0,r=ZW(e);return function(n){var a=LIe("",n,t,r);return t=a[1],a[0]}};function UIe(e,t,r,n){var a={key:Jr(e),verificationBytes:Jr(e)};return r.password&&(a.verifier=FIe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=BIe(r.password)),a}function zIe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=$Ie(e):n.Data=MIe(e,t),n}function WIe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?zIe(e,t-2,n):UIe(e,r.biff>=8?t:t-2,r,n),n}var HIe=function(){function e(a,s){switch(s.type){case"base64":return t(Ya(a),s);case"binary":return t(a,s);case"buffer":return t(Gt&&Buffer.isBuffer(a)?a.toString("binary"):Eu(a),s);case"array":return t(du(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[Nt({r:f,c:m})]=y}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=Kt(u),o}function r(a,s){return oc(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=Ur(a["!ref"]),o,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Nt({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(No(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function VIe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function um(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function GIe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,c,u/2]}function qIe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-o),i[0]+=c,i[1]+=a;break;case 2:c=a*(o-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-o),i[1]+=c,i[2]+=a;break;case 4:c=a*(o-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-o),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function Qy(e,t){if(t===0)return e;var r=GIe(VIe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),um(qIe(r))}var eH=6,KIe=15,XIe=1,fa=eH;function Zy(e){return Math.floor((e+Math.round(128/fa)/256)*fa)}function e1(e){return Math.floor((e-5)/fa*100+.5)/100}function kE(e){return Math.round((e*fa+5)/fa*256)/256}function F_(e){return kE(e1(Zy(e)))}function ij(e){var t=Math.abs(e-F_(e)),r=fa;if(t>.005)for(fa=XIe;fa<KIe;++fa)Math.abs(e-F_(e))<=t&&(t=Math.abs(e-F_(e)),r=fa);fa=r}function Pf(e){e.width?(e.wpx=Zy(e.width),e.wch=e1(e.wpx),e.MDW=fa):e.wpx?(e.wch=e1(e.wpx),e.width=kE(e.wch),e.MDW=fa):typeof e.wch=="number"&&(e.width=kE(e.wch),e.wpx=Zy(e.width),e.MDW=fa),e.customWidth&&delete e.customWidth}var YIe=96,tH=YIe;function rH(e){return e*96/tH}function dm(e){return e*tH/96}var JIe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function QIe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(sa)||[]).forEach(function(i){var o=bt(i);switch(Vi(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Er(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Er(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function ZIe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(sa)||[]).forEach(function(i){var o=bt(i);switch(Vi(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function eDe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(sa)||[]).forEach(function(i){var o=bt(i);switch(Vi(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=xr(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Er(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Er(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Er(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Er(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Er(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Er(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Er(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=zC[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Er(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=Kc[a.color.index];a.color.index==81&&(c=Kc[1]),c||(c=Kc[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Qy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function tDe(e,t,r){t.NumberFmt=[];for(var n=Fi(At),a=0;a<n.length;++a)t.NumberFmt[n[a]]=At[n[a]];var s=e[0].match(sa);if(s)for(a=0;a<s.length;++a){var i=bt(s[a]);switch(Vi(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Yt(xr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}qc(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var dv=["numFmtId","fillId","fontId","borderId","xfId"],fv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function rDe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(sa)||[]).forEach(function(s){var i=bt(s),o=0;switch(Vi(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<dv.length;++o)n[dv[o]]&&(n[dv[o]]=parseInt(n[dv[o]],10));for(o=0;o<fv.length;++o)n[fv[o]]&&(n[fv[o]]=Er(n[fv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Er(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var nDe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&tDe(f,d,u),(f=o.match(a))&&eDe(f,d,c,u),(f=o.match(n))&&ZIe(f,d,c,u),(f=o.match(s))&&QIe(f,d,c,u),(f=o.match(r))&&rDe(f,d,u),d}}();function aDe(e,t){var r=e.read_shift(2),n=ta(e);return[r,n]}function sDe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=m4e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=p4e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ta(e),n}var iDe=na;function oDe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var lDe=na;function cDe(e,t,r){var n={};n.NumberFmt=[];for(var a in At)n.NumberFmt[a]=At[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Mo(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],qc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Qy(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var uDe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function dDe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(sa)||[]).forEach(function(a){var s=bt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[uDe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function fDe(){}function hDe(){}var pDe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,mDe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,gDe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function vDe(e,t,r){t.themeElements={};var n;[["clrScheme",pDe,dDe],["fontScheme",mDe,fDe],["fmtScheme",gDe,hDe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var xDe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function nH(e,t){(!e||e.length===0)&&(e=yDe());var r,n={};if(!(r=e.match(xDe)))throw new Error("themeElements not found in theme");return vDe(r[0],n,t),n.raw=e,n}function yDe(e,t){var r=[pW];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function bDe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=hW(s,{type:"array"})}catch{return}var o=Va(i,"theme/theme/theme1.xml",!0);if(o)return nH(o,r)}}function wDe(e){return e.read_shift(4)}function _De(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=SDe(e,4);break;case 2:t.xclrValue=WW(e);break;case 3:t.xclrValue=wDe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function SDe(e,t){return na(e,t)}function kDe(e,t){return na(e,t)}function EDe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=_De(e);break;case 6:n[1]=kDe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function TDe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(EDe(e,r-e.l));return{ixfe:n,ext:s}}function NDe(e,t){t.forEach(function(r){switch(r[0]){}})}function CDe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ta(e)}}function jDe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function ADe(e){return e.l+=4,e.read_shift(4)!=0}function ODe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Mo(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function PDe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(sa,function(o){var c=bt(o);switch(Vi(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function RDe(e){var t=[];if(!e)return t;var r=1;return(e.match(sa)||[]).forEach(function(n){var a=bt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function IDe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Nt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function DDe(e,t,r){var n=[];return Mo(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function MDe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Mo(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function $De(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function iD(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=ma(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var c=Ur(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Kt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function FDe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=bt(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ma(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&sj(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function LDe(e,t){var r=[],n=!1,a={},s=0;return e.replace(sa,function(o,c){var u=bt(o);switch(Vi(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function BDe(e,t){var r=[],n=!1;return e.replace(sa,function(s){var i=bt(s);switch(Vi(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function UDe(e){var t={};t.iauthor=e.read_shift(4);var r=Nu(e);return t.rfx=r.s,t.ref=Nt(r.s),e.l+=16,t}var zDe=ta;function WDe(e,t){var r=[],n=[],a={},s=!1;return Mo(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var HDe="application/vnd.ms-office.vbaProject";function VDe(e){var t=qt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");qt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),qt.write(t)}function GDe(){return{"!type":"dialog"}}function qDe(){return{"!type":"dialog"}}function KDe(){return{"!type":"macro"}}function XDe(){return{"!type":"macro"}}var Dd=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+bn(d)+(c?"":"$")+Un(u)}return function(a,s){return t=s,a.replace(e,r)}}(),aH=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,YDe=function(){return function(t,r){return t.replace(aH,function(n,a,s,i,o,c){var u=ZC(i)-(s?0:r.c),d=QC(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function sH(e,t){return e.replace(aH,function(r,n,a,s,i,o){return n+(a=="$"?a+s:bn(ZC(s)+t.c))+(i=="$"?i+o:Un(QC(o)+t.r))})}function JDe(e,t,r){var n=ch(t),a=n.s,s=ma(r),i={r:s.r-a.r,c:s.c-a.c};return sH(e,i)}function QDe(e){return e.length!=1}function oD(e){return e.replace(/_xlfn\./g,"")}function qr(e){e.l+=1}function ql(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function iH(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return oH(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=ql(e),o=ql(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function oH(e){var t=ql(e),r=ql(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function ZDe(e,t,r){if(r.biff<8)return oH(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=ql(e),i=ql(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function lH(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return eMe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=ql(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function eMe(e){var t=ql(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function tMe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function rMe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return nMe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function nMe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function aMe(e,t,r){var n=(e[e.l++]&96)>>5,a=iH(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function sMe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=iH(e,s,r);return[n,a,i]}function iMe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function oMe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function lMe(e,t,r){var n=(e[e.l++]&96)>>5,a=ZDe(e,t-1,r);return[n,a]}function cMe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function lD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function uMe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function dMe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function fMe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function hMe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function pMe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function cH(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function mMe(e){return e.read_shift(2),cH(e)}function gMe(e){return e.read_shift(2),cH(e)}function vMe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=lH(e,0,r);return[n,a]}function xMe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=rMe(e,0,r);return[n,a]}function yMe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=lH(e,0,r);return[n,a,s]}function bMe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[w5e[a],fH[a],n]}function wMe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:_Me(e);return[a,(s[0]===0?fH:b5e)[s[1]]]}function _Me(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function SMe(e,t,r){e.l+=r&&r.biff==2?3:4}function kMe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function EMe(e){return e.l++,Cu[e.read_shift(1)]}function TMe(e){return e.l++,e.read_shift(2)}function NMe(e){return e.l++,e.read_shift(1)!==0}function CMe(e){return e.l++,Zn(e)}function jMe(e,t,r){return e.l++,Ym(e,t-1,r)}function AMe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Wr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Cu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Zn(e);break;case 2:r[1]=ju(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function OMe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Nu:Xb)(e));return a}function PMe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=AMe(e,r.biff);return i}function RMe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function IMe(e,t,r){if(r.biff==5)return DMe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function DMe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function MMe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $Me(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function FMe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function LMe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var BMe=na,UMe=na,zMe=na;function Qm(e,t,r){return e.l+=2,[tMe(e)]}function oj(e){return e.l+=6,[]}var WMe=Qm,HMe=oj,VMe=oj,GMe=Qm;function uH(e){return e.l+=2,[Jr(e),e.read_shift(2)&1]}var qMe=Qm,KMe=uH,XMe=oj,YMe=Qm,JMe=Qm,QMe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZMe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=QMe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function e5e(e){return e.l+=2,[e.read_shift(4)]}function t5e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function r5e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function n5e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function a5e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function s5e(e){return e.l+=4,[0,0]}var cD={1:{n:"PtgExp",f:kMe},2:{n:"PtgTbl",f:zMe},3:{n:"PtgAdd",f:qr},4:{n:"PtgSub",f:qr},5:{n:"PtgMul",f:qr},6:{n:"PtgDiv",f:qr},7:{n:"PtgPower",f:qr},8:{n:"PtgConcat",f:qr},9:{n:"PtgLt",f:qr},10:{n:"PtgLe",f:qr},11:{n:"PtgEq",f:qr},12:{n:"PtgGe",f:qr},13:{n:"PtgGt",f:qr},14:{n:"PtgNe",f:qr},15:{n:"PtgIsect",f:qr},16:{n:"PtgUnion",f:qr},17:{n:"PtgRange",f:qr},18:{n:"PtgUplus",f:qr},19:{n:"PtgUminus",f:qr},20:{n:"PtgPercent",f:qr},21:{n:"PtgParen",f:qr},22:{n:"PtgMissArg",f:qr},23:{n:"PtgStr",f:jMe},26:{n:"PtgSheet",f:t5e},27:{n:"PtgEndSheet",f:r5e},28:{n:"PtgErr",f:EMe},29:{n:"PtgBool",f:NMe},30:{n:"PtgInt",f:TMe},31:{n:"PtgNum",f:CMe},32:{n:"PtgArray",f:cMe},33:{n:"PtgFunc",f:bMe},34:{n:"PtgFuncVar",f:wMe},35:{n:"PtgName",f:RMe},36:{n:"PtgRef",f:vMe},37:{n:"PtgArea",f:aMe},38:{n:"PtgMemArea",f:MMe},39:{n:"PtgMemErr",f:BMe},40:{n:"PtgMemNoMem",f:UMe},41:{n:"PtgMemFunc",f:$Me},42:{n:"PtgRefErr",f:FMe},43:{n:"PtgAreaErr",f:iMe},44:{n:"PtgRefN",f:xMe},45:{n:"PtgAreaN",f:lMe},46:{n:"PtgMemAreaN",f:n5e},47:{n:"PtgMemNoMemN",f:a5e},57:{n:"PtgNameX",f:IMe},58:{n:"PtgRef3d",f:yMe},59:{n:"PtgArea3d",f:sMe},60:{n:"PtgRefErr3d",f:LMe},61:{n:"PtgAreaErr3d",f:oMe},255:{}},i5e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},o5e={1:{n:"PtgElfLel",f:uH},2:{n:"PtgElfRw",f:YMe},3:{n:"PtgElfCol",f:WMe},6:{n:"PtgElfRwV",f:JMe},7:{n:"PtgElfColV",f:GMe},10:{n:"PtgElfRadical",f:qMe},11:{n:"PtgElfRadicalS",f:XMe},13:{n:"PtgElfColS",f:HMe},15:{n:"PtgElfColSV",f:VMe},16:{n:"PtgElfRadicalLel",f:KMe},25:{n:"PtgList",f:ZMe},29:{n:"PtgSxName",f:e5e},255:{}},l5e={0:{n:"PtgAttrNoop",f:s5e},1:{n:"PtgAttrSemi",f:pMe},2:{n:"PtgAttrIf",f:fMe},4:{n:"PtgAttrChoose",f:uMe},8:{n:"PtgAttrGoto",f:dMe},16:{n:"PtgAttrSum",f:SMe},32:{n:"PtgAttrBaxcel",f:lD},33:{n:"PtgAttrBaxcel",f:lD},64:{n:"PtgAttrSpace",f:mMe},65:{n:"PtgAttrSpaceSemi",f:gMe},128:{n:"PtgAttrIfError",f:hMe},255:{}};function Zm(e,t,r,n){if(n.biff<8)return na(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=PMe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=OMe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(na(e,t)),s}function eg(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=cD[s]||cD[i5e[s]],(s===24||s===25)&&(a=(s===24?o5e:l5e)[e[e.l+1]]),!a||!a.f?na(e,t):i.push([a.n,a.f(e,t,r)]);return i}function c5e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var u5e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function d5e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function dH(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function uD(e,t,r){var n=dH(e,t,r);return n=="#REF"?n:d5e(n,r)}function Xn(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var x=e[0][y];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=Lr(" ",e[0][m][1][1]);break;case 1:v=Lr("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+v,m=-1}o.push(u+u5e[x[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Ap(x[1][1],i,a),o.push(Op(d,s));break;case"PtgRefN":d=r?Ap(x[1][1],r,a):x[1][1],o.push(Op(d,s));break;case"PtgRef3d":f=x[1][1],d=Ap(x[1][2],i,a),g=uD(n,f,a),o.push(g+"!"+Op(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=x[1][0],S=x[1][1];_||(_=0),_&=127;var E=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=E.shift()),o.push(S+"("+E.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":p=HI(x[1][1],r?{s:r}:i,a),o.push(M_(p,a));break;case"PtgArea":p=HI(x[1][1],i,a),o.push(M_(p,a));break;case"PtgArea3d":f=x[1][1],p=x[1][2],g=uD(n,f,a),o.push(g+"!"+M_(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=x[1][2];var k=(n.names||[])[h-1]||(n[0]||[])[h],N=k?k.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!a.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var T=x[1][1];h=x[1][2];var A;if(a.biff<=5)T<0&&(T=-T),n[T]&&(A=n[T][h]);else{var C="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(C=n.SheetNames[n[T][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])C+=n[T][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var j=(dH(n,T,a)||"").split(";;");j[h-1]?C=j[h-1]:C+="SH33TJSERRX"}o.push(C);break}A||(A={Name:"SH33TJSERRY"}),o.push(A.Name);break;case"PtgParen":var R="(",I=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:R=Lr(" ",e[0][m][1][1])+R;break;case 3:R=Lr("\r",e[0][m][1][1])+R;break;case 4:I=Lr(" ",e[0][m][1][1])+I;break;case 5:I=Lr("\r",e[0][m][1][1])+I;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(R+o.pop()+I);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:x[1][1],r:x[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[Nt(d)]){var W=n.sharedf[Nt(d)];o.push(Xn(W,i,M,n,a))}else{var K=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Xn(u[1],i,M,n,a)),K=!0;break}K||o.push(x[1])}break;case"PtgArray":o.push("{"+c5e(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&H.indexOf(e[0][y][0])==-1){x=e[0][m];var O=!0;switch(x[1][0]){case 4:O=!1;case 0:v=Lr(" ",x[1][1]);break;case 5:O=!1;case 1:v=Lr("\r",x[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((O?v:"")+o.pop()+(O?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function f5e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],na(e,t-2)];var o=eg(e,i,r);return t!==i+a&&(s=Zm(e,t-i-a,o,r)),e.l=n,[o,s]}function h5e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],na(e,t-2)];var o=eg(e,i,r);return t!==i+a&&(s=Zm(e,t-i-a,o,r)),e.l=n,[o,s]}function p5e(e,t,r,n){var a=e.l+t,s=eg(e,n,r),i;return a!==e.l&&(i=Zm(e,a-e.l,s,r)),[s,i]}function m5e(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=eg(e,s,r);return s==65535?[[],na(e,t-2)]:(t!==s+2&&(a=Zm(e,n-s-2,i,r)),[i,a])}function g5e(e){var t;if(co(e,e.l+6)!==65535)return[Zn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function L_(e,t,r){var n=e.l+t,a=Gi(e);r.biff==2&&++e.l;var s=g5e(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=h5e(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function Yb(e,t,r){var n=e.read_shift(4),a=eg(e,n,r),s=e.read_shift(4),i=s>0?Zm(e,s,a,r):null;return[a,i]}var v5e=Yb,Jb=Yb,x5e=Yb,y5e=Yb,b5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fH={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},w5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function dD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function B_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Dp={},Md={};function Mp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function hH(e,t,r,n,a,s){try{n.cellNF&&(e.z=At[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Cn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(At[t]==null&&qc(_Re[t]||"General",t),e.t==="e")e.w=e.w||Cu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=im(e.v);else if(e.t==="d"){var i=ya(e.v);(i|0)===i?e.w=i.toString(10):e.w=im(i)}else{if(e.v===void 0)return"";e.w=uu(e.v,Md)}else e.t==="d"?e.w=bs(t,ya(e.v),Md):e.w=bs(t,e.v,Md)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Qy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Qy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function _5e(e,t){var r=Ur(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Kt(r))}var S5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,k5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,E5e=/<(?:\w:)?hyperlink [^>]*>/mg,T5e=/"(\w*:\w*)"/,N5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,C5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,j5e=/<(?:\w:)?pageMargins[^>]*\/>/g,pH=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,A5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,O5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function P5e(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(k5e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(pH);h?lj(h[0],o,a,r):(h=u.match(A5e))&&R5e(h[0],h[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=u.slice(p,p+50).match(T5e);g&&_5e(o,g[1])}var m=u.match(O5e);m&&m[1]&&L5e(m[1],a);var v=[];if(t.cellStyles){var y=u.match(N5e);y&&M5e(v,y)}f&&B5e(f[1],o,t,c,s,i);var b=d.match(C5e);b&&(o["!autofilter"]=$5e(b[0]));var x=[],_=d.match(S5e);if(_)for(p=0;p!=_.length;++p)x[p]=Ur(_[p].slice(_[p].indexOf('"')+1));var S=d.match(E5e);S&&I5e(o,S,n);var E=d.match(j5e);if(E&&(o["!margins"]=D5e(bt(E[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Kt(c)),t.sheetRows>0&&o["!ref"]){var k=Ur(o["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Kt(k))}return v.length>0&&(o["!cols"]=v),x.length>0&&(o["!merges"]=x),o}function lj(e,t,r,n){var a=bt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Yt(xr(a.codeName)))}function R5e(e,t,r,n,a){lj(e.slice(0,e.indexOf(">")),r,n,a)}function I5e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=bt(xr(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Yt(s.location))):(s.Target="#"+Yt(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Ur(s.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Nt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function D5e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function M5e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=bt(t[n],!0);a.hidden&&(a.hidden=Er(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,ij(a.width)),Pf(a);s<=i;)e[s++]=Bn(a)}}function $5e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var F5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function L5e(e,t){t.Views||(t.Views=[{}]),(e.match(F5e)||[]).forEach(function(r,n){var a=bt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Er(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var B5e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=om("v"),i=om("f");return function(c,u,d,f,h,p){for(var g=0,m="",v=[],y=[],b=0,x=0,_=0,S="",E,k,N=0,T=0,A,C,j=0,R=0,I=Array.isArray(p.CellXf),M,W=[],K=[],H=Array.isArray(u),O=[],Z={},J=!1,P=!!d.sheetStubs,G=c.split(t),B=0,z=G.length;B!=z;++B){m=G[B].trim();var ae=m.length;if(ae!==0){var V=0;e:for(g=0;g<ae;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(k=bt(m.slice(V,g),!0),N=k.r!=null?parseInt(k.r,10):N+1,T=-1,d.sheetRows&&d.sheetRows<N)continue;Z={},J=!1,k.ht&&(J=!0,Z.hpt=parseFloat(k.ht),Z.hpx=dm(Z.hpt)),k.hidden=="1"&&(J=!0,Z.hidden=!0),k.outlineLevel!=null&&(J=!0,Z.level=+k.outlineLevel),J&&(O[N-1]=Z)}break;case"<":V=g;break}if(V>=g)break;if(k=bt(m.slice(V,g),!0),N=k.r!=null?parseInt(k.r,10):N+1,T=-1,!(d.sheetRows&&d.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),d&&d.cellStyles&&(Z={},J=!1,k.ht&&(J=!0,Z.hpt=parseFloat(k.ht),Z.hpx=dm(Z.hpt)),k.hidden=="1"&&(J=!0,Z.hidden=!0),k.outlineLevel!=null&&(J=!0,Z.level=+k.outlineLevel),J&&(O[N-1]=Z)),v=m.slice(g).split(e);for(var ie=0;ie!=v.length&&v[ie].trim().charAt(0)=="<";++ie);for(v=v.slice(ie),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,x=0,_=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,S=y[1],x=0;x!=S.length&&!((_=S.charCodeAt(x)-64)<1||_>26);++x)b=26*b+_;--b,T=b}else++T;for(x=0;x!=m.length&&m.charCodeAt(x)!==62;++x);if(++x,k=bt(m.slice(0,x),!0),k.r||(k.r=Nt({r:N-1,c:T})),S=m.slice(x),E={t:""},(y=S.match(s))!=null&&y[1]!==""&&(E.v=Yt(y[1])),d.cellFormula){if((y=S.match(i))!=null&&y[1]!==""){if(E.f=Yt(xr(y[1])).replace(/\r\n/g,`
`),d.xlfn||(E.f=oD(E.f)),y[0].indexOf('t="array"')>-1)E.F=(S.match(a)||[])[1],E.F.indexOf(":")>-1&&W.push([Ur(E.F),E.F]);else if(y[0].indexOf('t="shared"')>-1){C=bt(y[0]);var re=Yt(xr(y[1]));d.xlfn||(re=oD(re)),K[parseInt(C.si,10)]=[C,re,k.r]}}else(y=S.match(/<f[^>]*\/>/))&&(C=bt(y[0]),K[C.si]&&(E.f=JDe(K[C.si][1],K[C.si][2],k.r)));var L=ma(k.r);for(x=0;x<W.length;++x)L.r>=W[x][0].s.r&&L.r<=W[x][0].e.r&&L.c>=W[x][0].s.c&&L.c<=W[x][0].e.c&&(E.F=W[x][1])}if(k.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else if(P)E.t="z";else continue;else E.t=k.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),E.t){case"n":if(E.v==""||E.v==null){if(!P)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v>"u"){if(!P)continue;E.t="z"}else A=Dp[parseInt(E.v,10)],E.v=A.t,E.r=A.r,d.cellHTML&&(E.h=A.h);break;case"str":E.t="s",E.v=E.v!=null?xr(E.v):"",d.cellHTML&&(E.h=XC(E.v));break;case"inlineStr":y=S.match(n),E.t="s",y!=null&&(A=sj(y[1]))?(E.v=A.t,d.cellHTML&&(E.h=A.h)):E.v="";break;case"b":E.v=Er(E.v);break;case"d":d.cellDates?E.v=Cn(E.v,1):(E.v=ya(Cn(E.v,1)),E.t="n");break;case"e":(!d||d.cellText!==!1)&&(E.w=E.v),E.v=DW[E.v];break}if(j=R=0,M=null,I&&k.s!==void 0&&(M=p.CellXf[k.s],M!=null&&(M.numFmtId!=null&&(j=M.numFmtId),d.cellStyles&&M.fillId!=null&&(R=M.fillId))),hH(E,j,R,d,h,p),d.cellDates&&I&&E.t=="n"&&lh(At[j])&&(E.t="d",E.v=Kb(E.v)),k.cm&&d.xlmeta){var oe=(d.xlmeta.Cell||[])[+k.cm-1];oe&&oe.type=="XLDAPR"&&(E.D=!0)}if(H){var D=ma(k.r);u[D.r]||(u[D.r]=[]),u[D.r][D.c]=E}else u[k.r]=E}}}}O.length>0&&(u["!rows"]=O)}}();function U5e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var z5e=Nu;function W5e(){}function H5e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=f4e(e),r}function V5e(e){var t=ks(e);return[t]}function G5e(e){var t=Tu(e);return[t]}function q5e(e){var t=ks(e),r=e.read_shift(1);return[t,r,"b"]}function K5e(e){var t=Tu(e),r=e.read_shift(1);return[t,r,"b"]}function X5e(e){var t=ks(e),r=e.read_shift(1);return[t,r,"e"]}function Y5e(e){var t=Tu(e),r=e.read_shift(1);return[t,r,"e"]}function J5e(e){var t=ks(e),r=e.read_shift(4);return[t,r,"s"]}function Q5e(e){var t=Tu(e),r=e.read_shift(4);return[t,r,"s"]}function Z5e(e){var t=ks(e),r=Zn(e);return[t,r,"n"]}function mH(e){var t=Tu(e),r=Zn(e);return[t,r,"n"]}function e$e(e){var t=ks(e),r=rj(e);return[t,r,"n"]}function t$e(e){var t=Tu(e),r=rj(e);return[t,r,"n"]}function r$e(e){var t=ks(e),r=ej(e);return[t,r,"is"]}function n$e(e){var t=ks(e),r=ta(e);return[t,r,"str"]}function a$e(e){var t=Tu(e),r=ta(e);return[t,r,"str"]}function s$e(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=Jb(e,n-e.l,r);i[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return i}function i$e(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=Jb(e,n-e.l,r);i[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return i}function o$e(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var s=Zn(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=Jb(e,n-e.l,r);i[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return i}function l$e(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var s=ta(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=Jb(e,n-e.l,r);i[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return i}var c$e=Nu;function u$e(e,t){var r=e.l+t,n=Nu(e),a=tj(e),s=ta(e),i=ta(e),o=ta(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:o};return i&&(c.Tooltip=i),c}function d$e(){}function f$e(e,t,r){var n=e.l+t,a=PW(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=v5e(e,n-e.l,r);i[1]=o}else e.l=n;return i}function h$e(e,t,r){var n=e.l+t,a=Nu(e),s=[a];if(r.cellFormula){var i=y5e(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var p$e=["left","right","top","bottom","header","footer"];function m$e(e){var t={};return p$e.forEach(function(r){t[r]=Zn(e)}),t}function g$e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function v$e(){}function x$e(){}function y$e(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,v,y,b,x,_,S,E=[];o.biff=12,o["!row"]=0;var k=0,N=!1,T=[],A={},C=o.supbooks||a.supbooks||[[]];if(C.sharedf=A,C.arrayf=T,C.SheetNames=a.SheetNames||a.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=C,a.Names))for(var j=0;j<a.Names.length;++j)C[0][j+1]=a.Names[j];var R=[],I=[],M=!1;t1[16]={n:"BrtShortReal",f:mH};var W;if(Mo(e,function(O,Z,J){if(!h)switch(J){case 148:u=O;break;case 0:p=O,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),_=Un(v=p.r),o["!row"]=p.r,(O.hidden||O.hpt||O.level!=null)&&(O.hpt&&(O.hpx=dm(O.hpt)),I[O.r]=O);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:O[2]},O[2]){case"n":g.v=O[1];break;case"s":x=Dp[O[1]],g.v=x.t,g.r=x.r;break;case"b":g.v=!!O[1];break;case"e":g.v=O[1],o.cellText!==!1&&(g.w=Cu[g.v]);break;case"str":g.t="s",g.v=O[1];break;case"is":g.t="s",g.v=O[1].t;break}if((m=i.CellXf[O[0].iStyleRef])&&hH(g,m.numFmtId,null,o,s,i),y=O[0].c==-1?y+1:O[0].c,o.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[bn(y)+_]=g,o.cellFormula){for(N=!1,k=0;k<T.length;++k){var P=T[k];p.r>=P[0].s.r&&p.r<=P[0].e.r&&y>=P[0].s.c&&y<=P[0].e.c&&(g.F=Kt(P[0]),N=!0)}!N&&O.length>3&&(g.f=O[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),o.cellDates&&m&&g.t=="n"&&lh(At[m.numFmtId])){var G=Ic(g.v);G&&(g.t="d",g.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}W&&(W.type=="XLDAPR"&&(g.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=O[0].c==-1?y+1:O[0].c,o.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[bn(y)+_]=g,d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),W&&(W.type=="XLDAPR"&&(g.D=!0),W=void 0);break;case 176:E.push(O);break;case 49:W=((o.xlmeta||{}).Cell||[])[O-1];break;case 494:var B=n["!id"][O.relId];for(B?(O.Target=B.Target,O.loc&&(O.Target+="#"+O.loc),O.Rel=B):O.relId==""&&(O.Target="#"+O.loc),v=O.rfx.s.r;v<=O.rfx.e.r;++v)for(y=O.rfx.s.c;y<=O.rfx.e.c;++y)o.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=O):(b=Nt({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=O);break;case 426:if(!o.cellFormula)break;T.push(O),S=o.dense?c[v][y]:c[bn(y)+_],S.f=Xn(O[1],d,{r:p.r,c:y},C,o),S.F=Kt(O[0]);break;case 427:if(!o.cellFormula)break;A[Nt(O[0].s)]=O[1],S=o.dense?c[v][y]:c[bn(y)+_],S.f=Xn(O[1],d,{r:p.r,c:y},C,o);break;case 60:if(!o.cellStyles)break;for(;O.e>=O.s;)R[O.e--]={width:O.w/256,hidden:!!(O.flags&1),level:O.level},M||(M=!0,ij(O.w/256)),Pf(R[O.e+1]);break;case 161:c["!autofilter"]={ref:Kt(O)};break;case 476:c["!margins"]=O;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),O.name&&(a.Sheets[r].CodeName=O.name),(O.above||O.left)&&(c["!outline"]={above:O.above,left:O.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),O.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Z.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Kt(u||d)),o.sheetRows&&c["!ref"]){var K=Ur(c["!ref"]);o.sheetRows<=+K.e.r&&(K.e.r=o.sheetRows-1,K.e.r>d.e.r&&(K.e.r=d.e.r),K.e.r<K.s.r&&(K.s.r=K.e.r),K.e.c>d.e.c&&(K.e.c=d.e.c),K.e.c<K.s.c&&(K.s.c=K.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Kt(K))}return E.length>0&&(c["!merges"]=E),R.length>0&&(c["!cols"]=R),I.length>0&&(c["!rows"]=I),c}function b$e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Yt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function w$e(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=b$e(f);d.s.r=d.s.c=0,d.e.c=o,u=bn(o),h[0].forEach(function(p,g){i[u+Un(g)]={t:"n",v:p,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(i["!ref"]=Kt(d)),i}function _$e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(pH);return o&&lj(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function S$e(e,t){e.l+=10;var r=ta(e);return{name:r}}function k$e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Mo(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var gH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],E$e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],T$e=[],N$e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Er(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function hD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Er(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function vH(e){hD(e.WBProps,gH),hD(e.CalcPr,N$e),fD(e.WBView,E$e),fD(e.Sheets,T$e),Md.date1904=Er(e.WBProps.date1904)}var C$e="][*?/\\".split("");function j$e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return C$e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var A$e=/<\w+:workbook/;function O$e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(sa,function(c,u){var d=bt(c);switch(Vi(d[0])){case"<?xml":break;case"<workbook":c.match(A$e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":gH.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Er(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=xr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Yt(xr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=xr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Er(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=Yt(xr(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),XRe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return vH(r),r}function P$e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=wE(e),r.name=ta(e),r}function R$e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ta(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function I$e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function D$e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=h4e(e),i=x5e(e,0,r),o=tj(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function M$e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],t1[16]={n:"BrtFRTArchID$",f:I$e},Mo(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Xn(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),vH(r),r.Names=s,r.supbooks=i,r}function $$e(e,t,r){return t.slice(-4)===".bin"?M$e(e,r):O$e(e,r)}function F$e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?y$e(e,n,r,a,s,i,o):P5e(e,n,r,a,s,i,o)}function L$e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?k$e(e,n,r,a,s):_$e(e,n,r,a,s)}function B$e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?KDe():XDe()}function U$e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?GDe():qDe()}function z$e(e,t,r,n){return t.slice(-4)===".bin"?cDe(e,r,n):nDe(e,r,n)}function W$e(e,t,r){return nH(e,r)}function H$e(e,t,r){return t.slice(-4)===".bin"?EIe(e,r):SIe(e,r)}function V$e(e,t,r){return t.slice(-4)===".bin"?WDe(e,r):FDe(e,r)}function G$e(e,t,r){return t.slice(-4)===".bin"?DDe(e):RDe(e)}function q$e(e,t,r,n){return r.slice(-4)===".bin"?MDe(e,t,r,n):void 0}function K$e(e,t,r){return t.slice(-4)===".bin"?ODe(e,t,r):PDe(e,t,r)}var xH=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yH=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Cs(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(xH),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(yH),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function X$e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(xH),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(yH),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var $p;function Y$e(e,t){var r=$p[e]||Yt(e);return r==="General"?uu(t):bs(r,t)}function J$e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Er(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Cn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Yt(t)]=a}function Q$e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Cu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=im(e.v):e.w=uu(e.v):e.w=Y$e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=$p[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&lh(n)){var a=Ic(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Z$e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=JIe[n.Pattern]||n.Pattern)}e[t.ID]=t}function eFe(e,t,r,n,a,s,i,o,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Er(e);break;case"String":n.t="s",n.r=DI(Yt(e)),n.v=e.indexOf("<")>-1?Yt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Cn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Yt(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=DW[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=DI(t||e));break}if(Q$e(n,d,u),u.cellFormula!==!1)if(n.Formula){var m=Yt(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Dd(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Dd("RC:RC",a):n.ArrayRange&&(n.F=Dd(n.ArrayRange,a),c.push([Ur(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function tFe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function U_(e,t){var r=t||{};oW();var n=sp(YC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=xr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=Bn(r);return i.type="string",cm.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(s=!0)}),s)return uFe(n,r);$p={"General Number":"General","General Date":At[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":At[15],"Short Date":At[14],"Long Time":At[19],"Medium Time":At[18],"Short Time":At[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:At[2],Standard:At[4],Percent:At[10],Scientific:At[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},p="",g={},m={},v=Cs('<Data ss:Type="String">'),y=0,b=0,x=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},E={},k="",N=0,T=[],A={},C={},j=0,R=[],I=[],M={},W=[],K,H=!1,O=[],Z=[],J={},P=0,G=0,B={Sheets:[],WBProps:{date1904:!1}},z={};lm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=lm.exec(n);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?eFe(n.slice(y,o.index),k,v,c[c.length-1][0]=="comment"?M:g,{c:b,r:x},S,W[b],m,O,r):(k="",v=Cs(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(I.length>0&&(g.c=I),(!r.sheetRows||r.sheetRows>x)&&g.v!==void 0&&(r.dense?(h[x]||(h[x]=[]),h[x][b]=g):h[bn(b)+Un(x)]=g),g.HRef&&(g.l={Target:Yt(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=b+(parseInt(g.MergeAcross,10)|0),G=x+(parseInt(g.MergeDown,10)|0),T.push({s:{c:b,r:x},e:{c:P,r:G}})),!r.sheetStubs)g.MergeAcross?b=P+1:++b;else if(g.MergeAcross||g.MergeDown){for(var V=b;V<=P;++V)for(var ie=x;ie<=G;++ie)(V>b||ie>x)&&(r.dense?(h[ie]||(h[ie]=[]),h[ie][V]={t:"z"}):h[bn(V)+Un(ie)]={t:"z"});b=P+1}else++b;else g=X$e(o[0]),g.Index&&(b=+g.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),o[0].slice(-2)==="/>"&&++b,I=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(x<_.s.r&&(_.s.r=x),x>_.e.r&&(_.e.r=x),o[0].slice(-2)==="/>"&&(m=Cs(o[0]),m.Index&&(x=+m.Index-1)),b=0,++x):(m=Cs(o[0]),m.Index&&(x=+m.Index-1),J={},(m.AutoFitHeight=="0"||m.Height)&&(J.hpx=parseInt(m.Height,10),J.hpt=rH(J.hpx),Z[x]=J),m.Hidden=="1"&&(J.hidden=!0,Z[x]=J));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Kt(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Kt(_))),T.length&&(h["!merges"]=T),W.length>0&&(h["!cols"]=W),Z.length>0&&(h["!rows"]=Z),d[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=b=0,c.push([o[3],!1]),u=Cs(o[0]),p=Yt(u.Name),h=r.dense?[]:{},T=[],O=[],Z=[],z={name:p,Hidden:0},B.Sheets.push(z);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),W=[],H=!1}break;case"style":o[1]==="/"?Z$e(S,E,r):E=Cs(o[0]);break;case"numberformat":E.nf=Yt(Cs(o[0]).Format||"General"),$p[E.nf]&&(E.nf=$p[E.nf]);for(var re=0;re!=392&&At[re]!=E.nf;++re);if(re==392){for(re=57;re!=392;++re)if(At[re]==null){qc(E.nf,re);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(K=Cs(o[0]),K.Hidden&&(K.hidden=!0,delete K.Hidden),K.Width&&(K.wpx=parseInt(K.Width,10)),!H&&K.wpx>10){H=!0,fa=eH;for(var L=0;L<W.length;++L)W[L]&&Pf(W[L])}H&&Pf(K),W[K.Index-1||W.length]=K;for(var oe=0;oe<+K.Span;++oe)W[W.length]=Bn(K);break;case"namedrange":if(o[1]==="/")break;B.Names||(B.Names=[]);var D=bt(o[0]),le={Name:D.Name,Ref:Dd(D.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(le.Sheet=B.Sheets.length-1),B.Names.push(le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?k+=n.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;E.Interior=Cs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?F4e(A,ae,n.slice(j,o.index)):j=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));tFe(M),I.push(M)}else c.push([o[3],!1]),u=Cs(o[0]),M={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ye=Cs(o[0]);h["!autofilter"]={ref:Dd(ye.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return yD(n,r);var Se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(j,o.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else j=o.index+o[0].length;break;case"header":h["!margins"]||Mp(h["!margins"]={},"xlml"),isNaN(+bt(o[0]).Margin)||(h["!margins"].header=+bt(o[0]).Margin);break;case"footer":h["!margins"]||Mp(h["!margins"]={},"xlml"),isNaN(+bt(o[0]).Margin)||(h["!margins"].footer=+bt(o[0]).Margin);break;case"pagemargins":var _e=bt(o[0]);h["!margins"]||Mp(h["!margins"]={},"xlml"),isNaN(+_e.Top)||(h["!margins"].top=+_e.Top),isNaN(+_e.Left)||(h["!margins"].left=+_e.Left),isNaN(+_e.Right)||(h["!margins"].right=+_e.Right),isNaN(+_e.Bottom)||(h["!margins"].bottom=+_e.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?J$e(C,ae,R,n.slice(j,o.index)):(R=o,j=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var pe={};return!r.bookSheets&&!r.bookProps&&(pe.Sheets=d),pe.SheetNames=f,pe.Workbook=B,pe.SSF=Bn(At),pe.Props=A,pe.Custprops=C,pe}function EE(e,t){switch(dj(t=t||{}),t.type||"base64"){case"base64":return U_(Ya(e),t);case"binary":case"buffer":case"file":return U_(e,t);case"array":return U_(Eu(e),t)}}function rFe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=g4e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=v4e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var nFe=[60,1084,2066,2165,2175];function aFe(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var c=co(r,r.l),u=TE[c],d=0;u!=null&&nFe.indexOf(c)>-1;)s=co(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=TE[c=co(r,r.l)];var f=al(i);Mn(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ui(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=At[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Cu[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=im(e.v):e.w=uu(e.v):e.w=bs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&lh(At[n]||String(n))){var a=Ic(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function hv(e,t,r){return{v:e,ixfe:t,t:r}}function sFe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,c=[],u="",d={},f,h="",p,g,m,v,y={},b=[],x,_,S=[],E=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},T=function(st){return st<8?Kc[st]:st<64&&E[st-8]||Kc[st]},A=function(st,wt,Wt){var Ct=wt.XF.data;if(!(!Ct||!Ct.patternType||!Wt||!Wt.cellStyles)){wt.s={},wt.s.patternType=Ct.patternType;var Ft;(Ft=um(T(Ct.icvFore)))&&(wt.s.fgColor={rgb:Ft}),(Ft=um(T(Ct.icvBack)))&&(wt.s.bgColor={rgb:Ft})}},C=function(st,wt,Wt){if(!(J>1)&&!(Wt.sheetRows&&st.r>=Wt.sheetRows)){if(Wt.cellStyles&&wt.XF&&wt.XF.data&&A(st,wt,Wt),delete wt.ixfe,delete wt.XF,f=st,h=Nt(st),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),st.r<i.s.r&&(i.s.r=st.r),st.c<i.s.c&&(i.s.c=st.c),st.r+1>i.e.r&&(i.e.r=st.r+1),st.c+1>i.e.c&&(i.e.c=st.c+1),Wt.cellFormula&&wt.f){for(var Ct=0;Ct<b.length;++Ct)if(!(b[Ct][0].s.c>st.c||b[Ct][0].s.r>st.r)&&!(b[Ct][0].e.c<st.c||b[Ct][0].e.r<st.r)){wt.F=Kt(b[Ct][0]),(b[Ct][0].s.c!=st.c||b[Ct][0].s.r!=st.r)&&delete wt.f,wt.f&&(wt.f=""+Xn(b[Ct][1],i,st,O,j));break}}Wt.dense?(a[st.r]||(a[st.r]=[]),a[st.r][st.c]=wt):a[h]=wt}},j={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(j.password=t.password);var R,I=[],M=[],W=[],K=[],H=!1,O=[];O.SheetNames=j.snames,O.sharedf=j.sharedf,O.arrayf=j.arrayf,O.names=[],O.XTI=[];var Z=0,J=0,P=0,G=[],B=[],z;j.codepage=1200,Ys(1200);for(var ae=!1;e.l<e.length-1;){var V=e.l,ie=e.read_shift(2);if(ie===0&&Z===10)break;var re=e.l===e.length?0:e.read_shift(2),L=TE[ie];if(L&&L.f){if(t.bookSheets&&Z===133&&ie!==133)break;if(Z=ie,L.r===2||L.r==12){var oe=e.read_shift(2);if(re-=2,!j.enc&&oe!==ie&&((oe&255)<<8|oe>>8)!==ie)throw new Error("rt mismatch: "+oe+"!="+ie);L.r==12&&(e.l+=10,re-=10)}var D={};if(ie===10?D=L.f(e,re,j):D=aFe(ie,L,e,re,j),J==0&&[9,521,1033,2057].indexOf(Z)===-1)continue;switch(ie){case 34:r.opts.Date1904=k.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(j.enc||(e.l=0),j.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=D;break;case 66:var le=Number(D);switch(le){case 21010:le=1200;break;case 32768:le=1e4;break;case 32769:le=1252;break}Ys(j.codepage=le),ae=!0;break;case 317:j.rrtabid=D;break;case 25:j.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:j.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(D);break;case 430:O.push([D]),O[O.length-1].XTI=[];break;case 35:case 547:O[O.length-1].push(D);break;case 24:case 536:z={Name:D.Name,Ref:Xn(D.rgce,i,null,O,j)},D.itab>0&&(z.Sheet=D.itab-1),O.names.push(z),O[0]||(O[0]=[],O[0].XTI=[]),O[O.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(B[D.itab-1]={ref:Kt(D.rgce[0][0][1][2])});break;case 22:j.ExternCount=D;break;case 23:O.length==0&&(O[0]=[],O[0].XTI=[]),O[O.length-1].XTI=O[O.length-1].XTI.concat(D),O.XTI=O.XTI.concat(D);break;case 2196:if(j.biff<8)break;z!=null&&(z.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&j.WTF&&console.error("Password verifier: "+D);break;case 133:s[D.pos]=D,j.snames.push(D.name);break;case 10:{if(--J)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Kt(i),t.sheetRows&&t.sheetRows<=i.e.r){var ye=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Kt(i),i.e.r=ye}i.e.r++,i.e.c++}I.length>0&&(a["!merges"]=I),M.length>0&&(a["!objects"]=M),W.length>0&&(a["!cols"]=W),K.length>0&&(a["!rows"]=K),k.Sheets.push(N)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),j.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(j.biff=5,ae=!0,Ys(j.codepage=28591)),j.biff==8&&D.BIFFVer==0&&D.dt==16&&(j.biff=2),J++)break;if(a=t.dense?[]:{},j.biff<8&&!ae&&(ae=!0,Ys(j.codepage=t.codepage||1252)),j.biff<5||D.BIFFVer==0&&D.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-re,name:u};s[Se.pos]=Se,j.snames.push(u)}else u=(s[V]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),I=[],M=[],j.arrayf=b=[],W=[],K=[],H=!1,N={Hidden:(s[V]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[D.r]||[])[D.c]:a[Nt({c:D.c,r:D.r})])&&++D.c,x={ixfe:D.ixfe,XF:S[D.ixfe]||{},v:D.val,t:"n"},P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:D.c,r:D.r},x,t);break;case 5:case 517:x={ixfe:D.ixfe,XF:S[D.ixfe],v:D.val,t:D.t},P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:D.c,r:D.r},x,t);break;case 638:x={ixfe:D.ixfe,XF:S[D.ixfe],v:D.rknum,t:"n"},P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:D.c,r:D.r},x,t);break;case 189:for(var _e=D.c;_e<=D.C;++_e){var pe=D.rkrec[_e-D.c][0];x={ixfe:pe,XF:S[pe],v:D.rkrec[_e-D.c][1],t:"n"},P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:_e,r:D.r},x,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(x=hv(D.val,D.cell.ixfe,D.tt),x.XF=S[x.ixfe],t.cellFormula){var Le=D.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var ze=Le[0][0][1][0],xt=Le[0][0][1][1],nt=Nt({r:ze,c:xt});y[nt]?x.f=""+Xn(D.formula,i,D.cell,O,j):x.F=((t.dense?(a[ze]||[])[xt]:a[nt])||{}).F}else x.f=""+Xn(D.formula,i,D.cell,O,j)}P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C(D.cell,x,t),o=D}break;case 7:case 519:if(o)o.val=D,x=hv(D,o.cell.ixfe,"s"),x.XF=S[x.ixfe],t.cellFormula&&(x.f=""+Xn(o.formula,i,o.cell,O,j)),P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C(o.cell,x,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var at=Nt(D[0].s);if(p=t.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[at],t.cellFormula&&p){if(!o||!at||!p)break;p.f=""+Xn(D[1],i,D[0],O,j),p.F=Kt(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Nt(o.cell)]=D[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Nt(o.cell)],(p||{}).f=""+Xn(D[0],i,f,O,j)}}break;case 253:x=hv(c[D.isst].t,D.ixfe,"s"),c[D.isst].h&&(x.h=c[D.isst].h),x.XF=S[x.ixfe],P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:D.c,r:D.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:D.ixfe,XF:S[D.ixfe],t:"z"},P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:D.c,r:D.r},x,t));break;case 190:if(t.sheetStubs)for(var yt=D.c;yt<=D.C;++yt){var Y=D.ixfe[yt-D.c];x={ixfe:Y,XF:S[Y],t:"z"},P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:yt,r:D.r},x,t)}break;case 214:case 516:case 4:x=hv(D.val,D.ixfe,"s"),x.XF=S[x.ixfe],P>0&&(x.z=G[x.ixfe>>8&63]),ui(x,t,r.opts.Date1904),C({c:D.c,r:D.r},x,t);break;case 0:case 512:J===1&&(i=D);break;case 252:c=D;break;case 1054:if(j.biff==4){G[P++]=D[1];for(var be=0;be<P+163&&At[be]!=D[1];++be);be>=163&&qc(D[1],P+163)}else qc(D[1],D[0]);break;case 30:{G[P++]=D;for(var ge=0;ge<P+163&&At[ge]!=D;++ge);ge>=163&&qc(D,P+163)}break;case 229:I=I.concat(D);break;case 93:M[D.cmo[0]]=j.lastobj=D;break;case 438:j.lastobj.TxO=D;break;case 127:j.lastobj.ImData=D;break;case 440:for(v=D[0].s.r;v<=D[0].e.r;++v)for(m=D[0].s.c;m<=D[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Nt({c:m,r:v})],p&&(p.l=D[1]);break;case 2048:for(v=D[0].s.r;v<=D[0].e.r;++v)for(m=D[0].s.c;m<=D[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Nt({c:m,r:v})],p&&p.l&&(p.l.Tooltip=D[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;p=t.dense?(a[D[0].r]||[])[D[0].c]:a[Nt(D[0])];var Re=M[D[2]];p||(t.dense?(a[D[0].r]||(a[D[0].r]=[]),p=a[D[0].r][D[0].c]={t:"z"}):p=a[Nt(D[0])]={t:"z"},i.e.r=Math.max(i.e.r,D[0].r),i.s.r=Math.min(i.s.r,D[0].r),i.e.c=Math.max(i.e.c,D[0].c),i.s.c=Math.min(i.s.c,D[0].c)),p.c||(p.c=[]),g={a:D[1],t:Re.TxO.t},p.c.push(g)}break;case 2173:NDe(S[D.ixfe],D.ext);break;case 125:{if(!j.cellStyles)break;for(;D.e>=D.s;)W[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},H||(H=!0,ij(D.w/256)),Pf(W[D.e+1])}break;case 520:{var ft={};D.level!=null&&(K[D.r]=ft,ft.level=D.level),D.hidden&&(K[D.r]=ft,ft.hidden=!0),D.hpt&&(K[D.r]=ft,ft.hpt=D.hpt,ft.hpx=dm(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Mp(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ie]]=D;break;case 161:a["!margins"]||Mp(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(k.Views[0].RTL=!0);break;case 146:E=D;break;case 2198:R=D;break;case 140:_=D;break;case 442:u?N.CodeName=D||N.name:k.WBProps.CodeName=D||"ThisWorkbook";break}}else L||console.error("Missing Info for XLS Record 0x"+ie.toString(16)),e.l+=re}return r.SheetNames=Fi(s).sort(function($t,st){return Number($t)-Number(st)}).map(function($t){return s[$t].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function($t,st){r.Sheets[r.SheetNames[st]]["!autofilter"]=$t}),r.Strings=c,r.SSF=Bn(At),j.enc&&(r.Encryption=j.enc),R&&(r.Themes=R),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),O.names.length>0&&(k.Names=O.names),r.Workbook=k,r}var pD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function iFe(e,t,r){var n=qt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=JI(n,S4e,pD.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=qt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=JI(i,k4e,pD.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&($W(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function bH(e,t){t||(t={}),dj(t),Xz(),t.codepage&&WC(t.codepage);var r,n;if(e.FullPaths){if(qt.find(e,"/encryption"))throw new Error("File is password-protected");r=qt.find(e,"!CompObj"),n=qt.find(e,"/Workbook")||qt.find(e,"/Book")}else{switch(t.type){case"base64":e=qs(Ya(e));break;case"binary":e=qs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Mn(e,0),n={content:e}}var a,s;if(r&&rFe(r),t.bookProps&&!t.bookSheets)a={};else{var i=Gt?"buffer":"array";if(n&&n.content)a=sFe(n.content,t);else if((s=qt.find(e,"PerfectOffice_MAIN"))&&s.content)a=Ip.to_workbook(s.content,(t.type=i,t));else if((s=qt.find(e,"NativeContent_MAIN"))&&s.content)a=Ip.to_workbook(s.content,(t.type=i,t));else throw(s=qt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&qt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=VDe(e))}var o={};return e.FullPaths&&iFe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var t1={0:{f:U5e},1:{f:V5e},2:{f:e$e},3:{f:X5e},4:{f:q5e},5:{f:Z5e},6:{f:n$e},7:{f:J5e},8:{f:l$e},9:{f:o$e},10:{f:s$e},11:{f:i$e},12:{f:G5e},13:{f:t$e},14:{f:Y5e},15:{f:K5e},16:{f:mH},17:{f:a$e},18:{f:Q5e},19:{f:ej},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:D$e},40:{},42:{},43:{f:sDe},44:{f:aDe},45:{f:iDe},46:{f:lDe},47:{f:oDe},48:{},49:{f:c4e},50:{},51:{f:jDe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:XW},62:{f:r$e},63:{f:IDe},64:{f:v$e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:na,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:g$e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:H5e},148:{f:z5e,p:16},151:{f:d$e},152:{},153:{f:R$e},154:{},155:{},156:{f:P$e},157:{},158:{},159:{T:1,f:kIe},160:{T:-1},161:{T:1,f:Nu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:c$e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:CDe},336:{T:-1},337:{f:ADe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:KW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:f$e},427:{f:h$e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:m$e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:W5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:u$e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zDe},633:{T:1},634:{T:-1},635:{T:1,f:UDe},636:{T:-1},637:{f:d4e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:S$e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:x$e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},TE={6:{f:L_},10:{f:Bo},12:{f:Jr},13:{f:Jr},14:{f:Wr},15:{f:Wr},16:{f:Zn},17:{f:Wr},18:{f:Wr},19:{f:Jr},20:{f:tD},21:{f:tD},23:{f:KW},24:{f:nD},25:{f:Wr},26:{},27:{},28:{f:L3e},29:{},34:{f:Wr},35:{f:rD},38:{f:Zn},39:{f:Zn},40:{f:Zn},41:{f:Zn},42:{f:Wr},43:{f:Wr},47:{f:WIe},49:{f:b3e},51:{f:Jr},60:{},61:{f:v3e},64:{f:Wr},65:{f:y3e},66:{f:Jr},77:{},80:{},81:{},82:{},85:{f:Jr},89:{},90:{},91:{},92:{f:c3e},93:{f:U3e},94:{},95:{f:Wr},96:{},97:{},99:{f:Wr},125:{f:XW},128:{f:A3e},129:{f:u3e},130:{f:Jr},131:{f:Wr},132:{f:Wr},133:{f:d3e},134:{},140:{f:q3e},141:{f:Jr},144:{},146:{f:X3e},151:{},152:{},153:{},154:{},155:{},156:{f:Jr},157:{},158:{},160:{f:eIe},161:{f:J3e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:T3e},190:{f:N3e},193:{f:Bo},197:{},198:{},199:{},200:{},201:{},202:{f:Wr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Jr},220:{},221:{f:Wr},222:{},224:{f:j3e},225:{f:l3e},226:{f:Bo},227:{},229:{f:B3e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:f3e},253:{f:w3e},255:{f:h3e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:zW},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Wr},353:{f:Bo},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:P3e},431:{f:Wr},432:{},433:{},434:{},437:{},438:{f:H3e},439:{f:Wr},440:{f:V3e},441:{},442:{f:Jm},443:{},444:{f:Jr},445:{},446:{},448:{f:Bo},449:{f:g3e,r:2},450:{f:Bo},512:{f:ZI},513:{f:Z3e},515:{f:O3e},516:{f:_3e},517:{f:eD},519:{f:tIe},520:{f:p3e},523:{},545:{f:aD},549:{f:QI},566:{},574:{f:x3e},638:{f:E3e},659:{},1048:{},1054:{f:S3e},1084:{},1212:{f:M3e},2048:{f:G3e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:uv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Bo},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Y3e,r:12},2173:{f:TDe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Wr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:D3e,r:12},2197:{},2198:{f:bDe,r:12},2199:{},2200:{},2201:{},2202:{f:$3e,r:12},2203:{f:Bo},2204:{},2205:{},2206:{},2207:{},2211:{f:m3e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Jr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Q3e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:K3e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ZI},1:{},2:{f:sIe},3:{f:aIe},4:{f:nIe},5:{f:eD},7:{f:iIe},8:{},9:{f:uv},11:{},22:{f:Jr},30:{f:k3e},31:{},32:{},33:{f:aD},36:{},37:{f:QI},50:{f:oIe},62:{},52:{},67:{},68:{f:Jr},69:{},86:{},126:{},127:{f:rIe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:lIe},223:{},234:{},354:{},421:{},518:{f:L_},521:{f:uv},536:{f:nD},547:{f:rD},561:{},579:{},1030:{f:L_},1033:{f:uv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function js(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&jW(r)&&e.push(r)}}function mD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,c=ORe(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(i=0;i<c.length;++i){var m=c[i].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var x=b,_=0;x.charAt(0)=="<"&&(_=x.indexOf(">"))>-1;)x=x.slice(_+1);for(var S=0;S<g.length;++S){var E=g[S];E.s.c==d&&E.s.r<u&&u<=E.e.r&&(d=E.e.c+1,S=-1)}var k=bt(b.slice(0,b.indexOf(">")));h=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var N=k.t||k["data-t"]||"";if(!x.length){d+=h;continue}if(x=gW(x),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!x.length){d+=h;continue}var T={t:"s",v:x};r.raw||!x.trim().length||N=="s"||(x==="TRUE"?T={t:"b",v:!0}:x==="FALSE"?T={t:"b",v:!1}:isNaN(ti(x))?isNaN(Of(x).getDate())||(T={t:"d",v:Cn(x)},r.cellDates||(T={t:"n",v:ya(T.v)}),T.z=r.dateNF||At[14]):T={t:"n",v:ti(x)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=T):n[Nt({r:u,c:d})]=T,d+=h}}}}return n["!ref"]=Kt(p),g.length&&(n["!merges"]=g),n}function oFe(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Nt({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||XC(f.w||(No(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(qRe("td",h,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var lFe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cFe="</body></html>";function uFe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return oc(mD(r[0],t),t);var n=hj();return r.forEach(function(a,s){pj(n,mD(a,t),"Sheet"+(s+1))}),n}function dFe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function fFe(e,t){var r=t||{},n=r.header!=null?r.header:lFe,a=r.footer!=null?r.footer:cFe,s=[n],i=ch(e["!ref"]);r.dense=Array.isArray(e),s.push(dFe(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(oFe(e,i,o,r));return s.push("</table>"+a),s.join("")}function wH(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ma(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=ch(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,x=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<c;++g){var _=o[g];if(gD(_)){if(n.display)continue;p[m]={hidden:!0}}var S=_.children;for(v=y=0;v<S.length;++v){var E=S[v];if(!(n.display&&gD(E))){var k=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):gW(E.innerHTML),N=E.getAttribute("data-z")||E.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==y+s&&T.s.r<m+a&&m+a<=T.e.r&&(y=T.e.c+1-s,h=-1)}x=+E.getAttribute("colspan")||1,((b=+E.getAttribute("rowspan")||1)>1||x>1)&&f.push({s:{r:m+a,c:y+s},e:{r:m+a+(b||1)-1,c:y+s+(x||1)-1}});var A={t:"s",v:k},C=E.getAttribute("data-t")||E.getAttribute("t")||"";k!=null&&(k.length==0?A.t=C||"z":n.raw||k.trim().length==0||C=="s"||(k==="TRUE"?A={t:"b",v:!0}:k==="FALSE"?A={t:"b",v:!1}:isNaN(ti(k))?isNaN(Of(k).getDate())||(A={t:"d",v:Cn(k)},n.cellDates||(A={t:"n",v:ya(A.v)}),A.z=n.dateNF||At[14]):A={t:"n",v:ti(k)})),A.z===void 0&&N!=null&&(A.z=N);var j="",R=E.getElementsByTagName("A");if(R&&R.length)for(var I=0;I<R.length&&!(R[I].hasAttribute("href")&&(j=R[I].getAttribute("href"),j.charAt(0)!="#"));++I);j&&j.charAt(0)!="#"&&(A.l={Target:j}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+s]=A):e[Nt({c:y+s,r:m+a})]=A,u.e.c<y+s&&(u.e.c=y+s),y+=x}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Kt(u),m>=c&&(e["!fullref"]=Kt((u.e.r=o.length-g+m-1+a,u))),e}function _H(e,t){var r=t||{},n=r.dense?[]:{};return wH(n,e,t)}function hFe(e,t){return oc(_H(e,t),t)}function gD(e){var t="",r=pFe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function pFe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mFe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Yt(t.replace(/<[^>]*>/g,""));return[r]}var vD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function SH(e,t){var r=t||{},n=YC(e),a=[],s,i,o={name:""},c="",u=0,d,f,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},b="",x=0,_=[],S=-1,E=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,T={},A=[],C={},j=0,R=0,I=[],M=1,W=1,K=[],H={Names:[]},O={},Z=["",""],J=[],P={},G="",B=0,z=!1,ae=!1,V=0;for(lm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=lm.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?g["!ref"]=Kt(k):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(g["!fullref"]=g["!ref"],k.e.r=r.sheetRows-1,g["!ref"]=Kt(k)),A.length&&(g["!merges"]=A),I.length&&(g["!rows"]=I),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=g,ae=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=bt(m[0],!1),S=E=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,g=r.dense?[]:{},A=[],I=[],ae=!0);break;case"table-row-group":m[1]==="/"?--N:++N;break;case"table-row":case"":if(m[1]==="/"){S+=M,M=1;break}if(f=bt(m[0],!1),f.?S=f.-1:S==-1&&(S=0),M=+f["number-rows-repeated"]||1,M<10)for(V=0;V<M;++V)N>0&&(I[S+V]={level:N});E=-1;break;case"covered-table-cell":m[1]!=="/"&&++E,r.sheetStubs&&(r.dense?(g[S]||(g[S]=[]),g[S][E]={t:"z"}):g[Nt({r:S,c:E})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++E,y=bt(m[0],!1),W=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=dD(Yt(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=Yt(y["string-value"]||""),r.dense?(g[S]||(g[S]=[]),g[S][E]=v):g[Nt({r:S,c:E})]=v),E+=W-1;else if(m[1]!=="/"){++E,b="",x=0,_=[],W=1;var ie=M?S+M-1:S;if(E>k.e.c&&(k.e.c=E),E<k.s.c&&(k.s.c=E),S<k.s.r&&(k.s.r=S),ie>k.e.r&&(k.e.r=ie),y=bt(m[0],!1),J=[],P={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Yt(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(j=parseInt(y["number-matrix-rows-spanned"],10)||0,R=parseInt(y["number-matrix-columns-spanned"],10)||0,C={s:{r:S,c:E},e:{r:S+j-1,c:E+R-1}},v.F=Kt(C),K.push([C,v.F])),y.formula)v.f=dD(y.formula);else for(V=0;V<K.length;++V)S>=K[V][0].s.r&&S<=K[V][0].e.r&&E>=K[V][0].s.c&&E<=K[V][0].e.c&&(v.F=K[V][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(j=parseInt(y["number-rows-spanned"],10)||0,R=parseInt(y["number-columns-spanned"],10)||0,C={s:{r:S,c:E},e:{r:S+j-1,c:E+R-1}},A.push(C)),y["number-columns-repeated"]&&(W=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Er(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Cn(y["date-value"]),r.cellDates||(v.t="n",v.v=ya(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=CRe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=Kb(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=Yt(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(z=!1,v.t==="s"&&(v.v=b||"",_.length&&(v.R=_),z=x==0),O.Target&&(v.l=O),J.length>0&&(v.c=J,J=[]),b&&r.cellText!==!1&&(v.w=b),z&&(v.t="z",delete v.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var re=0;re<M;++re){if(W=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[S+re]||(g[S+re]=[]),g[S+re][E]=re==0?v:Bn(v);--W>0;)g[S+re][E+W]=Bn(v);else for(g[Nt({r:S+re,c:E})]=v;--W>0;)g[Nt({r:S+re,c:E+W})]=Bn(v);k.e.c<=E&&(k.e.c=E)}W=parseInt(y["number-columns-repeated"]||"1",10),E+=W-1,W=0,v={},b="",_=[]}O={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((s=a.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((s=a.pop())[0]!==m[3])throw"Bad state: "+s;P.t=b,_.length&&(P.R=_),P.a=G,J.push(P)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);G="",B=0,b="",x=0,_=[];break;case"creator":m[1]==="/"?G=n.slice(B,m.index):B=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((s=a.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",x=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(T[o.name]=c,(s=a.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&(c="",o=bt(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=bt(m[0],!1),c+=vD[m[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=bt(m[0],!1),c+=vD[m[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":i=bt(m[0],!1),Z=B_(i["cell-range-address"]);var L={Name:i.name,Ref:Z[0]+"!"+Z[1]};ae&&(L.Sheet=p.length),H.Names.push(L);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var oe=mFe(n.slice(x,m.index));b=(b.length>0?b+`
`:"")+oe[0]}else bt(m[0],!1),x=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{Z=B_(bt(m[0])["target-range-address"]),h[Z[0]]["!autofilter"]={ref:Z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(O=bt(m[0],!1),!O.href)break;O.Target=Yt(O.href),delete O.href,O.Target.charAt(0)=="#"&&O.Target.indexOf(".")>-1?(Z=B_(O.Target.slice(1)),O.Target="#"+Z[0]+"!"+Z[1]):O.Target.match(/^\.\.[\\\/]/)&&(O.Target=O.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var D={Sheets:h,SheetNames:p,Workbook:H};return r.bookSheets&&delete D.Sheets,D}function xD(e,t){t=t||{},ss(e,"META-INF/manifest.xml")&&O4e(Yr(e,"META-INF/manifest.xml"),t);var r=Va(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=SH(xr(r),t);return ss(e,"meta.xml")&&(n.Props=MW(Yr(e,"meta.xml"))),n}function yD(e,t){return SH(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cj(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function NE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):xr(Eu(e))}function CE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function bD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function gFe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function fm(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function wn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ea(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=fm(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=fm(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function uj(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function vFe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=fm(e,n),s=ea(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:wn(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=ea(o.data),u=wn(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=wn(s[3][0].data)>>>0>0),r.push(i)}return r}function xFe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=fm(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[CE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=CE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function yFe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(xFe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return CE(t)}function bFe(e,t,r,n){var a=cj(e),s=a.getUint32(4,!0),i=(n>1?12:8)+bD(s&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=bD(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function wFe(e,t,r){var n=cj(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=gFe(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function _Fe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return bFe(e,t,r,e[0]);case 5:return wFe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ol(e){var t=ea(e);return fm(t[1][0].data)}function wD(e,t){var r=ea(t.data),n=wn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=ea(i.data),c=wn(o[1][0].data)>>>0;switch(n){case 1:s[c]=NE(o[3][0].data);break;case 8:{var u=e[Ol(o[9][0].data)][0],d=ea(u.data),f=e[Ol(d[1][0].data)][0],h=wn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=ea(f.data);s[c]=p[3].map(function(g){return NE(g.data)}).join("")}break}}),s}function SFe(e,t){var r,n,a,s,i,o,c,u,d,f,h,p,g,m,v=ea(e),y=wn(v[1][0].data)>>>0,b=wn(v[2][0].data)>>>0,x=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&wn(v[8][0].data)>0||!1,_,S;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(o=(i=v[7])==null?void 0:i[0])==null?void 0:o.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,S=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var E=x?4:1,k=cj(_),N=[],T=0;T<_.length/2;++T){var A=k.getUint16(T*2,!0);A<65535&&N.push([T,A])}if(N.length!=b)throw"Expected ".concat(b," cells, found ").concat(N.length);var C=[];for(T=0;T<N.length-1;++T)C[N[T][0]]=S.subarray(N[T][1]*E,N[T+1][1]*E);return N.length>=1&&(C[N[N.length-1][0]]=S.subarray(N[N.length-1][1]*E)),{R:y,cells:C}}function kFe(e,t){var r,n=ea(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?wn(n[7][0].data)>>>0>0?1:0:-1,s=uj(n[5],function(i){return SFe(i,a)});return{nrows:wn(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=c}),i},[])}}function EFe(e,t,r){var n,a=ea(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(wn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(wn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Kt(s);var i=ea(a[4][0].data),o=wD(e,e[Ol(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?wD(e,e[Ol(i[17][0].data)][0]):[],u=ea(i[3][0].data),d=0;u[1].forEach(function(f){var h=ea(f.data),p=e[Ol(h[2][0].data)][0],g=wn(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=kFe(e,p);m.data.forEach(function(v,y){v.forEach(function(b,x){var _=Nt({r:d+y,c:x}),S=_Fe(b,o,c);S&&(r[_]=S)})}),d+=m.nrows})}function TFe(e,t){var r=ea(t.data),n={"!ref":"A1"},a=e[Ol(r[2][0].data)],s=wn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return EFe(e,a[0],n),n}function NFe(e,t){var r,n=ea(t.data),a={name:(r=n[1])!=null&&r[0]?NE(n[1][0].data):"",sheets:[]},s=uj(n[2],Ol);return s.forEach(function(i){e[i].forEach(function(o){var c=wn(o.meta[1][0].data);c==6e3&&a.sheets.push(TFe(e,o))})}),a}function CFe(e,t){var r=hj(),n=ea(t.data),a=uj(n[1],Ol);if(a.forEach(function(s){e[s].forEach(function(i){var o=wn(i.meta[1][0].data);if(o==2){var c=NFe(e,i);c.sheets.forEach(function(u,d){pj(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function z_(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=yFe(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=vFe(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&wn(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(c){s[c].forEach(function(u){var d=wn(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return CFe(s,o)}function jFe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function dj(e){jFe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function AFe(e){return gd.WS.indexOf(e)>-1?"sheet":e==gd.CS?"chart":e==gd.DS?"dialog":e==gd.MS?"macro":e&&e.length?e:"sheet"}function OFe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,AFe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function PFe(e,t,r,n,a,s,i,o,c,u,d,f){try{s[n]=Pp(Va(e,r,!0),t);var h=Yr(e,t),p;switch(o){case"sheet":p=F$e(h,t,a,c,s[n],u,d,f);break;case"chart":if(p=L$e(h,t,a,c,s[n],u,d,f),!p||!p["!drawel"])break;var g=op(p["!drawel"].Target,t),m=_E(g),v=$De(Va(e,g,!0),Pp(Va(e,m,!0),g)),y=op(v,g),b=_E(y);p=w$e(Va(e,y,!0),y,c,Pp(Va(e,b,!0),y),u,p);break;case"macro":p=B$e(h,t,a,c,s[n],u,d,f);break;case"dialog":p=U$e(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var x=[];s&&s[n]&&Fi(s[n]).forEach(function(_){var S="";if(s[n][_].Type==gd.CMNT){S=op(s[n][_].Target,t);var E=V$e(Yr(e,S,!0),S,c);if(!E||!E.length)return;iD(p,E,!1)}s[n][_].Type==gd.TCMNT&&(S=op(s[n][_].Target,t),x=x.concat(LDe(Yr(e,S,!0),c)))}),x&&x.length&&iD(p,x,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function ns(e){return e.charAt(0)=="/"?e.slice(1):e}function RFe(e,t){if(oW(),t=t||{},dj(t),ss(e,"META-INF/manifest.xml")||ss(e,"objectdata.xml"))return xD(e,t);if(ss(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof z_<"u"){if(e.FileIndex)return z_(e);var r=qt.utils.cfb_new();return RI(e).forEach(function(I){IRe(r,I,RRe(e,I))}),z_(r)}throw new Error("Unsupported NUMBERS file")}if(!ss(e,"[Content_Types].xml"))throw ss(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ss(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=RI(e),a=j4e(Va(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Yr(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Yr(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Dp=[],a.sst)try{Dp=H$e(Yr(e,ns(a.sst)),a.sst,t)}catch(I){if(t.WTF)throw I}t.cellStyles&&a.themes.length&&(c=W$e(Va(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=z$e(Yr(e,ns(a.style)),a.style,c,t))}a.links.map(function(I){try{var M=Pp(Va(e,_E(ns(I))),I);return q$e(Yr(e,ns(I)),M,I,t)}catch{}});var d=$$e(Yr(e,ns(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Yr(e,ns(a.coreprops[0]),!0),h&&(f=MW(h)),a.extprops.length!==0&&(h=Yr(e,ns(a.extprops[0]),!0),h&&I4e(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Va(e,ns(a.custprops[0]),!0),h&&(p=M4e(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(M){return M.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof i<"u"&&(g.SheetNames=i),t.bookSheets?g.SheetNames:t.bookProps))return g;i={};var m={};t.bookDeps&&a.calcchain&&(m=G$e(Yr(e,ns(a.calcchain)),a.calcchain));var v=0,y={},b,x;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var E=s?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),N=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ss(e,N)||(N="xl/_rels/workbook."+E+".rels");var T=Pp(Va(e,N,!0),N.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=K$e(Yr(e,ns(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=BDe(Yr(e,ns(a.people[0])),t)),T&&(T=OFe(T,d.Sheets));var A=Yr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var C="sheet";if(T&&T[v]?(b="xl/"+T[v][1].replace(/[\/]?xl\//,""),ss(e,b)||(b=T[v][1]),ss(e,b)||(b=N.replace(/_rels\/.*$/,"")+T[v][1]),C=T[v][2]):(b="xl/worksheets/sheet"+(v+1-A)+"."+E,b=b.replace(/sheet0\./,"sheet.")),x=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var j=!1,R=0;R!=t.sheets.length;++R)typeof t.sheets[R]=="number"&&t.sheets[R]==v&&(j=1),typeof t.sheets[R]=="string"&&t.sheets[R].toLowerCase()==f.SheetNames[v].toLowerCase()&&(j=1);if(!j)continue e}}PFe(e,b,x,f.SheetNames[v],v,y,i,C,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:i,SheetNames:f.SheetNames,Strings:Dp,Styles:u,Themes:c,SSF:Bn(At)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(I,M){I=I.replace(/^Root Entry[\/]/,""),g.keys.push(I),g.files[I]=e.FileIndex[M]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Yr(e,ns(a.vba[0]),!0):a.defaults&&a.defaults.bin===HDe&&(g.vbaraw=Yr(e,"xl/vbaProject.bin",!0))),g}function IFe(e,t){var r=t||{},n="Workbook",a=qt.find(e,n);try{if(n="/!DataSpaces/Version",a=qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(TIe(a.content),n="/!DataSpaces/DataSpaceMap",a=qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=CIe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=jIe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);OIe(a.content)}catch{}if(n="/EncryptionInfo",a=qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=PIe(a.content);if(n="/EncryptedPackage",a=qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function fj(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ya(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function DFe(e,t){return qt.find(e,"EncryptedPackage")?IFe(e,t):bH(e,t)}function MFe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Gt&&Buffer.isBuffer(e)?"buffer":"base64"),r=hW(n,a),RFe(r,a)}function kH(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return EE(e.slice(r),t);default:break e}return cm.to_workbook(e,t)}function $Fe(e,t){var r="",n=fj(e,t);switch(t.type){case"base64":r=Ya(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=du(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=xr(r)),t.type="binary",kH(r,t)}function FFe(e,t){var r=e;return t.type=="base64"&&(r=Ya(r)),r=nl.utils.decode(1200,r.slice(2),"str"),t.type="binary",kH(r,t)}function LFe(e){return e.match(/[^\x00-\x7F]/)?lp(e):e}function W_(e,t,r,n){return n?(r.type="string",cm.to_workbook(e,r)):cm.to_workbook(t,r)}function jE(e,t){Xz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return jE(new Uint8Array(e),(r=Bn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Md={},r.dateNF&&(Md.dateNF=r.dateNF),r.type||(r.type=Gt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Gt?"buffer":"binary",n=TRe(e),typeof Uint8Array<"u"&&!Gt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=LFe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Bn(r),r.type="array",jE(HC(n),r)}switch((a=fj(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return DFe(qt.read(n,r),r);break;case 9:if(a[1]<=8)return bH(n,r);break;case 60:return EE(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return hIe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return dIe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?MFe(n,r):W_(e,n,r,s);case 239:return a[3]===60?EE(n,r):W_(e,n,r,s);case 255:if(a[1]===254)return FFe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Ip.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Ip.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return sD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return HIe.to_workbook(n,r);break;case 10:case 13:case 32:return $Fe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return cIe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?sD.to_workbook(n,r):W_(e,n,r,s)}function BFe(e,t,r,n,a,s,i,o){var c=Un(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=i?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&m===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:No(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function AE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Ur(d);break;case"number":c=Ur(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Un(c.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=c.s.r,b=0,x={};v&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=bn(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=No(r,null,u),m=x[i]||0,!m)x[i]=1;else{do o=i+"_"+m++;while(x[o]);x[i]=m,x[o]=1}s[b]=o}for(y=c.s.r+a;y<=c.e.r;++y)if(!(S[y]||{}).hidden){var E=BFe(e,c,y,h,n,s,v,u);(E.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=E.row)}return p.length=g,p}var _D=/"/g;function UFe(e,t,r,n,a,s,i,o){for(var c=!0,u=[],d="",f=Un(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:No(p,null,o));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===s||m===34||o.forceQuotes){d='"'+d.replace(_D,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(_D,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(i)}function EH(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Ur(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=bn(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=UFe(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?o:"")+d)));return delete n.dense,r.join("")}function zFe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=EH(e,t);return r}function WFe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Ur(e["!ref"]),s="",i=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=bn(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=Un(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function TH(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ma(n.origin):n.origin;i=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=Ur(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){Fi(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var b=m[y],x="z",_="",S=Nt({c:o+p,r:i+v+a});u=hm(s,S),b&&typeof b=="object"&&!(b instanceof Date)?s[S]=b:(typeof b=="number"?x="n":typeof b=="boolean"?x="b":typeof b=="string"?x="s":b instanceof Date?(x="d",n.cellDates||(x="n",b=ya(b)),_=n.dateNF||At[14]):b===null&&n.nullError&&(x="e",b=0),u?(u.t=x,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):s[S]=u={t:x,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=Un(i);if(a)for(p=0;p<h.length;++p)s[bn(p+o)+g]={t:"s",v:h[p]};return s["!ref"]=Kt(d),s}function HFe(e,t){return TH(null,e,t)}function hm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ma(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?hm(e,Nt(t)):hm(e,Nt({r:t,c:r||0}))}function VFe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function hj(){return{SheetNames:[],Sheets:{}}}function pj(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(j$e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function GFe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=VFe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function qFe(e,t){return e.z=t,e}function NH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function KFe(e,t,r){return NH(e,"#"+t,r)}function XFe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function YFe(e,t,r,n){for(var a=typeof t!="string"?t:Ur(t),s=typeof t=="string"?t:Kt(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var c=hm(e,i,o);c.t="n",c.F=s,delete c.v,i==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var JFe={encode_col:bn,encode_row:Un,encode_cell:Nt,encode_range:Kt,decode_col:ZC,decode_row:QC,split_cell:l4e,decode_cell:ma,decode_range:ch,format_cell:No,sheet_add_aoa:OW,sheet_add_json:TH,sheet_add_dom:wH,aoa_to_sheet:uh,json_to_sheet:HFe,table_to_sheet:_H,table_to_book:hFe,sheet_to_csv:EH,sheet_to_txt:zFe,sheet_to_json:AE,sheet_to_html:fFe,sheet_to_formulae:WFe,sheet_to_row_object_array:AE,sheet_get_cell:hm,book_new:hj,book_append_sheet:pj,book_set_sheet_visibility:GFe,cell_set_number_format:qFe,cell_set_hyperlink:NH,cell_set_internal_link:KFe,cell_add_comment:XFe,sheet_set_array_formula:YFe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const H_={growth:"Growth Phase",maturity:"Maturity Phase",adjustment:"Adjustment Phase"},CH={name:"Sugar - Product Market Lifecycle",sourceFile:"Sugar-Product Market Lifecycle.xlsx",sheet:"Sheet1",metric:"trade_value_or_volume",periodType:"quarter",notes:{growthDefinition:"The target product's trade value/volume quarterly CAGR is high over the past three years",maturityDefinition:"The target product's trade value/volume quarterly CAGR has been stable over the past three years",adjustmentDefinition:"The target product's trade value/volume quarterly CAGR is low over the past three years"}},cp=["South Sudan","Democratic Republic of the Congo","Malaysia","Indonesia","South Korea","Guatemala","Ghana","Pakistan","Tanzania","Taiwan, China","Canada","Kenya","Bulgaria","China"],QFe=()=>({growth:{phaseKey:"growth",phaseLabel:H_.growth,countriesCount:0,countries:[]},maturity:{phaseKey:"maturity",phaseLabel:H_.maturity,countriesCount:0,countries:[]},adjustment:{phaseKey:"adjustment",phaseLabel:H_.adjustment,countriesCount:0,countries:[]}}),Yo=e=>String(e??"").replace(/\u00A0/g," ").replace(/\s+/g," ").trim(),SD=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;const t=Yo(e).replace(/,/g,"");if(!t||t==="-"||t==="")return null;const r=Number(t);return Number.isFinite(r)?r:null},kD=e=>/growth phase/i.test(e)?"growth":/maturity phase/i.test(e)?"maturity":/adjustment phase/i.test(e)||/decline phase/i.test(e)?"adjustment":null,ED=e=>{const t=e.match(/^(\d{4})-Q([1-4])$/);return t?Number(t[1])*10+Number(t[2]):Number.MAX_SAFE_INTEGER},ZFe=(e,t)=>{const r=Yo(e);if(!r)return cp.slice(0,t);const n=[...cp].sort((i,o)=>o.length-i.length),a=[];let s=r;for(;s.length;){let i=null;for(const o of n)if(s.startsWith(o)){i=o;break}if(i)a.push(i),s=s.slice(i.length).trimStart();else{const o=s.indexOf(" ");if(o<0)break;s=s.slice(o+1).trimStart()}}return!a.length||a.length<Math.min(t,5)?cp.slice(0,t||cp.length):a.slice(0,t)},eLe=e=>{const t=e.flatMap(n=>n.countries).map(n=>n.quarterlyCAGR).filter(n=>n!==null);if(!t.length)return"maturity";const r=t.reduce((n,a)=>n+a,0)/t.length;return r>.05?"growth":r<-.05?"adjustment":"maturity"},tLe=e=>{const t=e.flatMap(s=>s.countries).flatMap(s=>s.trendSeries);if(!t.length)return"Not available";const r=new Map;t.forEach(s=>{r.set(s.period,(r.get(s.period)??0)+s.value)});const n=Array.from(r.entries()).sort(([s],[i])=>ED(s)-ED(i)).map(([,s])=>s);if(n.length<2||n[0]<=0)return"Not available";const a=(n[n.length-1]-n[0])/n[0];return a>.08?"Increasing":a<-.08?"Declining":"Stable"},rLe=e=>{const t=e.flatMap(s=>s.countries).map(s=>s.quarterlyCAGR).filter(s=>s!==null);if(t.length<2)return"Not available";const r=t.reduce((s,i)=>s+i,0)/t.length,n=t.reduce((s,i)=>s+(i-r)**2,0)/t.length,a=Math.sqrt(n);return a>=.5?"High":a>=.2?"Medium":"Low"},nLe=e=>{const t=QFe();let r=null,n="",a={count:0,countryNames:[]},s=0;for(;s<e.length;){const d=e[s]??[],f=Yo(d[0]),h=Yo(d[1]);if(!n&&/data interpretation/i.test(f)&&(n=f.replace(/^Data Interpretation:\s*/i,"").trim()),/^Other countries/i.test(f)){const m=f.match(/(\d+)/),v=m?Number(m[1]):cp.length;a={count:v,countryNames:ZFe(h,v)},s+=1;continue}const p=kD(f);if(p){r=p;const m=f.match(/(\d+)/);m&&(t[p].countriesCount=Number(m[1])),s+=1;continue}const g=h.match(/^(.+?)-[A-Za-z0-9 ]*Lifecycle$/i);if(g){const m=g[1].trim(),v=r??"maturity",y=e[s+1]??[],b=y.findIndex(k=>/cagr/i.test(Yo(k))),x=[];y.forEach((k,N)=>{const T=Yo(k);/^\d{4}$/.test(T)&&x.push({year:T,index:N})});let _=null;const S=[];let E=s+2;for(;E<e.length;){const k=e[E]??[],N=Yo(k[0]),T=Yo(k[1]);if(kD(N)||T.match(/^(.+?)-[A-Za-z0-9 ]*Lifecycle$/i))break;const A=T.match(/^Q([1-4])$/i);if(A){const C=`Q${A[1]}`;if(_===null&&b>=0){const j=SD(k[b]);j!==null&&(_=j)}x.forEach(({year:j,index:R})=>{const I=SD(k[R]);I!==null&&S.push({period:`${j}-${C}`,value:I})})}if(/^Total$/i.test(T))break;E+=1}t[v].countries.push({countryName:m,countryCode:null,quarterlyCAGR:_,cagrPercent:_===null?null:Number((_*100).toFixed(2)),trendSeries:S}),s=E;continue}s+=1}const i=["growth","maturity","adjustment"].map(d=>{const f=t[d],h=f.countriesCount>0?f.countriesCount:f.countries.length;return{...f,countriesCount:h,noData:f.countries.length===0}}),o=eLe(i),c=tLe(i),u=rLe(i);return{dataset:CH,phases:i,otherCountries:a,interpretation:n||"Demand conditions are mixed across countries. Focus on growth markets while protecting margin in adjustment markets.",currentPhase:o,demandDirection:c,stability:u}},aLe=e=>{const r=jE(e,{type:"array"}).Sheets[CH.sheet],n=JFe.sheet_to_json(r,{header:1,defval:""});return nLe(n)},sLe=async(e="/market-analysis-lifecycle.xlsx")=>{const t=await fetch(e);if(!t.ok)throw new Error(`Unable to load lifecycle workbook (${t.status})`);const r=await t.arrayBuffer();return aLe(r)},TD={growth:"bg-[#ef4444]",maturity:"bg-[#f59e0b]",adjustment:"bg-[#059669]"},OE={growth:"text-[#ef4444]",maturity:"text-[#b45309]",adjustment:"text-[#047857]"},iLe={growth:"border-red-100 bg-card/90",maturity:"border-amber-100 bg-card/90",adjustment:"border-emerald-100 bg-card/90"},oLe=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(e),lLe=({active:e,payload:t})=>{var n;if(!e||!(t!=null&&t.length))return null;const r=(n=t[0])==null?void 0:n.payload;return r?l.jsxs("div",{className:"rounded-lg border border-border/70 bg-card px-2.5 py-1.5 shadow-sm",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:r.period}),l.jsx("p",{className:"text-xs font-medium text-foreground",children:oLe(r.value)})]}):null},V_=e=>e==="growth"?"Growth Phase":e==="maturity"?"Maturity Phase":"Adjustment Phase",ND=e=>e==="growth"?"Quarterly CAGR has been high in the last 3 years.":e==="maturity"?"Quarterly CAGR has remained stable in the last 3 years.":"Quarterly CAGR has been low in the last 3 years.",cLe=({country:e,phaseKey:t})=>{const r=e.cagrPercent,n=(r??0)>=0,a=`${t}-${e.countryName.replace(/\s+/g,"-").toLowerCase()}`,s=OE[t];return l.jsxs("article",{className:"min-w-0 rounded-2xl border border-border/60 bg-background/90 p-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[l.jsxs("div",{className:"mb-2 flex flex-wrap items-end justify-between gap-1.5",children:[l.jsx("h4",{className:"min-w-0 break-words text-sm font-medium leading-tight text-foreground",children:e.countryName}),l.jsx("div",{className:me("shrink-0 whitespace-nowrap text-sm font-semibold leading-none",s),children:r===null?l.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"}):l.jsxs(l.Fragment,{children:[l.jsxs("span",{children:[Math.abs(r).toFixed(1),"%"]}),n?l.jsx(QK,{className:"h-4 w-4"}):l.jsx(JK,{className:"h-4 w-4"})]})})]}),l.jsx("div",{className:"h-14 w-full md:h-[60px]",children:e.trendSeries.length?l.jsx(ay,{width:"100%",height:"100%",children:l.jsxs(XPe,{data:e.trendSeries,margin:{top:4,right:0,left:0,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:a,x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#60a5fa",stopOpacity:.35}),l.jsx("stop",{offset:"95%",stopColor:"#60a5fa",stopOpacity:.03})]})}),l.jsx(Ba,{content:l.jsx(lLe,{})}),l.jsx(ic,{type:"monotone",dataKey:"value",stroke:"#60a5fa",strokeWidth:2,fill:`url(#${a})`,dot:!1,activeDot:{r:3}})]})}):l.jsx("div",{className:"flex h-full items-center justify-center rounded-lg bg-muted/50 text-[11px] text-muted-foreground",children:"No trend data"})})]})},CD=["growth","maturity","adjustment"],uLe=e=>e==="maturity"?"grid gap-3 sm:grid-cols-2 xl:grid-cols-2":"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",dLe=(e,t)=>e!=null&&e.length?l.jsx("div",{className:uLe(t),children:e.map(r=>l.jsx(cLe,{country:r,phaseKey:t},`${t}-${r.countryName}`))}):l.jsx("div",{className:"flex min-h-20 items-center justify-center rounded-2xl border border-dashed border-border/60 bg-background/70",children:l.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[l.jsx(aX,{className:"mb-1 h-6 w-6 opacity-40"}),l.jsx("p",{className:"text-sm",children:"No data"})]})}),fLe=({selectedProduct:e,dateRangeLabel:t})=>{const[r,n]=w.useState(null),[a,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{let u=!1;return s(!0),o(null),sLe().then(d=>{u||n(d)}).catch(d=>{if(u)return;const f=d instanceof Error?d.message:"Unable to load market analysis data";o(f)}).finally(()=>{u||s(!1)}),()=>{u=!0}},[e,t]);const c=w.useMemo(()=>{const u=new Map;return r==null||r.phases.forEach(d=>u.set(d.phaseKey,d)),u},[r]);return l.jsxs("section",{className:"mx-auto w-full max-w-7xl space-y-4",children:[l.jsxs("header",{className:"rounded-2xl border border-border/60 bg-card/90 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur md:p-5",children:[l.jsx("h2",{className:"text-xl font-semibold tracking-tight text-foreground md:text-2xl",children:"Market Analysis"}),l.jsx("p",{className:"mt-1.5 max-w-3xl text-sm text-muted-foreground",children:"A minimal lifecycle view of where demand is growing, stable, and adjusting."}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"rounded-full border border-border/70 bg-background/90 px-3 py-1 text-xs font-medium text-foreground",children:e}),l.jsx("span",{className:"rounded-full border border-border/70 bg-background/90 px-3 py-1 text-xs text-muted-foreground",children:t||"Time range not available"})]})]}),a?l.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/90 p-5 text-sm text-muted-foreground shadow-[0_1px_2px_rgba(15,23,42,0.05)]",children:"Preparing market lifecycle charts..."}):i?l.jsx("div",{className:"rounded-2xl border border-destructive/30 bg-card/90 p-5 text-sm text-destructive shadow-[0_1px_2px_rgba(15,23,42,0.05)]",children:i}):r?l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"grid gap-2.5 sm:grid-cols-2 xl:grid-cols-4",children:[CD.map(u=>{const d=c.get(u);return l.jsxs("article",{className:me("rounded-2xl border p-3 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",iLe[u]),children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:me("h-2.5 w-2.5 rounded-full",TD[u])}),l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:V_(u)})]}),l.jsx("span",{className:"text-lg font-semibold tracking-tight text-foreground",children:(d==null?void 0:d.countriesCount)??0})]}),l.jsx("p",{className:me("mt-1.5 text-xs leading-relaxed",OE[u]),children:ND(u)})]},`summary-${u}`)}),l.jsxs("article",{className:"rounded-2xl border border-border/60 bg-card/90 p-3 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Other countries"}),l.jsx("span",{className:"text-lg font-semibold tracking-tight text-foreground",children:r.otherCountries.count})]}),l.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground",children:"Countries outside the 3 main lifecycle groups."})]})]}),l.jsx("section",{className:"space-y-3",children:CD.map(u=>{const d=c.get(u);return l.jsxs("article",{className:"rounded-2xl border border-border/60 bg-card/90 p-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] md:p-4",children:[l.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2 border-b border-border/50 pb-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:me("h-2.5 w-2.5 rounded-full",TD[u])}),l.jsx("h3",{className:"text-base font-semibold text-foreground",children:V_(u)}),l.jsxs("span",{className:"rounded-full border border-border/60 bg-background/90 px-2 py-0.5 text-[11px] font-medium text-muted-foreground",children:[(d==null?void 0:d.countriesCount)??0," countries"]})]}),l.jsx("p",{className:me("text-xs font-medium",OE[u]),children:ND(u)})]}),dLe(d==null?void 0:d.countries,u)]},`phase-${u}`)})}),l.jsxs("section",{className:"rounded-2xl border border-border/60 bg-card/90 p-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] md:p-4",children:[l.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Other countries"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.otherCountries.count," total"]})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:(r.otherCountries.countryNames??[]).map(u=>l.jsx("span",{className:"rounded-full border border-border/70 bg-background/90 px-2.5 py-1 text-xs text-muted-foreground",children:u},u))})]}),l.jsxs("section",{className:"rounded-2xl border border-border/60 bg-card/90 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)]",children:[l.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Decision Signal"}),l.jsxs("span",{className:"rounded-full border border-border/60 bg-background/90 px-2.5 py-0.5 text-[11px] text-muted-foreground",children:["Current phase: ",V_(r.currentPhase)]}),l.jsxs("span",{className:"rounded-full border border-border/60 bg-background/90 px-2.5 py-0.5 text-[11px] text-muted-foreground",children:["Demand: ",r.demandDirection]}),l.jsxs("span",{className:"rounded-full border border-border/60 bg-background/90 px-2.5 py-0.5 text-[11px] text-muted-foreground",children:["Stability: ",r.stability]})]}),l.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:r.interpretation||"Not available"})]})]}):l.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/90 p-5 text-sm text-muted-foreground shadow-[0_1px_2px_rgba(15,23,42,0.05)]",children:"Market data is not available yet."})]})},hLe={sm:"h-5 w-7",md:"h-6 w-9"};function jD({countryCode:e,countryName:t,className:r,size:n="sm"}){const a=(e??"").trim().toUpperCase(),s=/^[A-Z]{2}$/.test(a),i=s?`https://flagcdn.com/${a.toLowerCase()}.svg`:"",o=s?`${t||a} flag`:"Country";return s?l.jsx("img",{src:i,alt:o,loading:"lazy",className:`${hLe[n]} rounded-[3px] border border-black/10 object-cover ${r??""}`.trim()}):l.jsx("span",{className:`inline-flex items-center justify-center rounded-md bg-muted text-muted-foreground ${n==="md"?"h-6 w-9":"h-5 w-7"} ${r??""}`.trim(),"aria-label":"Unknown country",title:"Unknown country",children:l.jsx(pX,{className:"h-3.5 w-3.5"})})}const jH="origo-your-product-requests-v1",AH="origo-ready-page-products-v1",OH={packaging:!1,application:!1,target_market:!1,material:!1},Qu=[{id:"ready-cane-sugar",product_name:"CANE SUGAR",hs_code:"170199",buyers_2023_count:1126,countries_2023_count:18,buyers_2026_count:1364,top_countries_2023:[{country:"Indonesia",code:"ID",share:19.4},{country:"Vietnam",code:"VN",share:16.2},{country:"Malaysia",code:"MY",share:13.1},{country:"Kenya",code:"KE",share:11.7},{country:"Uganda",code:"UG",share:9.5}],buyer_snapshot_preview:[{buyer_display_name:"Food Distributor (Indonesia)",country:"Indonesia",country_code:"ID",import_volume_kg:1482e3,frequency:"Monthly",last_active_year:2023},{buyer_display_name:"Beverage Processor (Vietnam)",country:"Vietnam",country_code:"VN",import_volume_kg:1264e3,frequency:"Monthly",last_active_year:2023},{buyer_display_name:"Retail Chain Supplier (Malaysia)",country:"Malaysia",country_code:"MY",import_volume_kg:932e3,frequency:"Quarterly",last_active_year:2023},{buyer_display_name:"Industrial Foods Buyer (Kenya)",country:"Kenya",country_code:"KE",import_volume_kg:811e3,frequency:"Quarterly",last_active_year:2023},{buyer_display_name:"Confectionery Group (Uganda)",country:"Uganda",country_code:"UG",import_volume_kg:705e3,frequency:"Monthly",last_active_year:2023}],ready_copy:"Historical demand is established. Priority opportunity is concentrated in repeat buyers with stable monthly purchase behavior.",created_at:"2026-02-19T00:00:00.000Z",updated_at:"2026-02-19T00:00:00.000Z"},{id:"ready-white-sugar",product_name:"WHITE SUGAR",hs_code:"170199",buyers_2023_count:768,countries_2023_count:14,buyers_2026_count:954,top_countries_2023:[{country:"Philippines",code:"PH",share:17.8},{country:"Thailand",code:"TH",share:15.9},{country:"Nigeria",code:"NG",share:12.6},{country:"Bangladesh",code:"BD",share:10.1},{country:"Pakistan",code:"PK",share:9.8}],buyer_snapshot_preview:[{buyer_display_name:"Bakery Ingredient Buyer (Philippines)",country:"Philippines",country_code:"PH",import_volume_kg:92e4,frequency:"Monthly",last_active_year:2023},{buyer_display_name:"Food Service Distributor (Thailand)",country:"Thailand",country_code:"TH",import_volume_kg:887e3,frequency:"Monthly",last_active_year:2023},{buyer_display_name:"Consumer Goods Importer (Nigeria)",country:"Nigeria",country_code:"NG",import_volume_kg:702e3,frequency:"Quarterly",last_active_year:2023},{buyer_display_name:"Packaged Foods Buyer (Bangladesh)",country:"Bangladesh",country_code:"BD",import_volume_kg:588e3,frequency:"Quarterly",last_active_year:2023},{buyer_display_name:"Regional Trading Buyer (Pakistan)",country:"Pakistan",country_code:"PK",import_volume_kg:546e3,frequency:"Quarterly",last_active_year:2023}],ready_copy:"Demand breadth is healthy. Forward signals indicate stronger performance in countries with regular food-service restocking.",created_at:"2026-02-19T00:00:00.000Z",updated_at:"2026-02-19T00:00:00.000Z"},{id:"ready-brown-sugar",product_name:"BROWN SUGAR",hs_code:"170114",buyers_2023_count:364,countries_2023_count:9,buyers_2026_count:492,top_countries_2023:[{country:"Japan",code:"JP",share:20.2},{country:"South Korea",code:"KR",share:16.4},{country:"Australia",code:"AU",share:14.1},{country:"Singapore",code:"SG",share:10.8},{country:"UAE",code:"AE",share:8.9}],buyer_snapshot_preview:[{buyer_display_name:"Organic Foods Buyer (Japan)",country:"Japan",country_code:"JP",import_volume_kg:332e3,frequency:"Monthly",last_active_year:2023},{buyer_display_name:"Premium Beverage Producer (South Korea)",country:"South Korea",country_code:"KR",import_volume_kg:281e3,frequency:"Quarterly",last_active_year:2023},{buyer_display_name:"Health Retail Group (Australia)",country:"Australia",country_code:"AU",import_volume_kg:244e3,frequency:"Quarterly",last_active_year:2023},{buyer_display_name:"Specialty Grocery Importer (Singapore)",country:"Singapore",country_code:"SG",import_volume_kg:183e3,frequency:"Monthly",last_active_year:2023},{buyer_display_name:"Hospitality Supplier (UAE)",country:"UAE",country_code:"AE",import_volume_kg:162e3,frequency:"Quarterly",last_active_year:2023}],ready_copy:"A focused but resilient segment. Opportunity expansion is strongest in premium retail and specialty food channels.",created_at:"2026-02-19T00:00:00.000Z",updated_at:"2026-02-19T00:00:00.000Z"}],PE=()=>{if(typeof window>"u")return Qu;const e=window.localStorage.getItem(AH);if(!e)return Qu;try{const t=JSON.parse(e);if(!Array.isArray(t))return Qu;const r=t.map(n=>({id:Je(n.id)||crypto.randomUUID(),product_name:Je(n.product_name),hs_code:ar(Je(n.hs_code)),buyers_2023_count:Number(n.buyers_2023_count??0),countries_2023_count:Number(n.countries_2023_count??0),buyers_2026_count:Number(n.buyers_2026_count??0),top_countries_2023:yl(n.top_countries_2023),buyer_snapshot_preview:yl(n.buyer_snapshot_preview).slice(0,5),ready_copy:ar(Je(n.ready_copy)),created_at:Je(n.created_at)||Pi(),updated_at:Je(n.updated_at)||Pi()}));return r.length>0?r:Qu}catch{return Qu}},pLe=e=>{typeof window>"u"||window.localStorage.setItem(AH,JSON.stringify(e))},mLe=e=>{const t=new Map;e.forEach(n=>{const a=Je(n.product_name).toUpperCase();if(!a)return;const s=t.get(a)??[];s.push(n),t.set(a,s)});const r=new Map;return t.forEach((n,a)=>{const s=n.length,i=new Map;n.forEach(u=>{const d=Je(u.country_code).toUpperCase(),f=Je(u.country);if(!d||!f)return;const h=i.get(d)??{country:f,code:d,count:0};h.count+=1,i.set(d,h)});const o=Array.from(i.values()).sort((u,d)=>d.count-u.count).slice(0,5).map(u=>({country:u.country,code:u.code,share:s>0?Number((u.count/s*100).toFixed(1)):0})),c=[...n].sort((u,d)=>Number(d.import_volume_kg??0)-Number(u.import_volume_kg??0)).slice(0,5).map(u=>({buyer_display_name:Je(u.buyer_display_name),country:Je(u.country),country_code:Je(u.country_code).toUpperCase(),import_volume_kg:Number(u.import_volume_kg??0),frequency:Je(u.frequency)||"Quarterly",last_active_year:Number(u.last_active_year??2023)}));r.set(a,{buyers_2023_count:s,countries_2023_count:i.size,top_countries_2023:o,buyer_snapshot_preview:c})}),r},Je=e=>typeof e!="string"?"":e.trim(),gLe=e=>{const t=Je(e).toUpperCase();switch(t){case"DRAFT":case"PENDING_REVIEW":case"NEED_MORE_INFO":case"READY":case"UNLOCKED":case"NOT_SUPPORTED":return t;default:return"PENDING_REVIEW"}},vLe=e=>{const t=Je(e).toUpperCase();return t==="HIGH"||t==="MEDIUM"||t==="LOW"?t:"LOW"},xLe=e=>{if(!e||typeof e!="object")return{...OH};const t=e;return{packaging:!!t.packaging,application:!!t.application,target_market:!!t.target_market,material:!!t.material}},yl=e=>{if(Array.isArray(e))return e;if(typeof e=="string")try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}return[]},Kl=e=>/schema cache|could not find the table|does not exist|column .* does not exist|relation .* does not exist/i.test(e),Pi=()=>new Date().toISOString(),ar=e=>{const t=(e??"").trim();return t.length===0?null:t},pm=e=>{const t=Je(e.submitted_at)||Je(e.created_at)||Pi(),r=Je(e.updated_at)||t;return{id:Je(e.id)||crypto.randomUUID(),customer_email:Je(e.customer_email),customer_username:Je(e.customer_username),customer_workspace:Je(e.customer_workspace),product_name:Je(e.product_name),hs_code:ar(Je(e.hs_code))??null,product_details:ar(Je(e.product_details))??ar(Je(e.details_keyword)||Je(e.details_application)||Je(e.details_material)||Je(e.details_packaging))??null,target_market:ar(Je(e.target_market))??null,image_url:ar(Je(e.image_url))??null,image_file_name:ar(Je(e.image_file_name))??null,status:gLe(e.status),submitted_at:t,updated_at:r,updated_by:ar(Je(e.updated_by))??null,customer_message:ar(Je(e.customer_message))??null,admin_note:ar(Je(e.admin_note))??null,missing_info_checklist:xLe(e.missing_info_checklist),confidence:vLe(e.confidence),ready_summary:ar(Je(e.ready_summary))??null}},mj=e=>({...e,missing_info_checklist:{...e.missing_info_checklist}}),r1=()=>{if(typeof window>"u")return[];const e=window.localStorage.getItem(jH);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(r=>pm(r)).sort((r,n)=>n.submitted_at.localeCompare(r.submitted_at)):[]}catch{return[]}},PH=e=>{typeof window>"u"||window.localStorage.setItem(jH,JSON.stringify(e.map(mj)))},RH=e=>{let t=0;return Je(e.hsCode).length>=6&&(t+=1),[e.productDetails,e.targetMarket].filter(n=>Je(n).length>0).length>=2&&(t+=1),e.matchedReadyProduct&&(t+=1),t>=3?"HIGH":t>=2?"MEDIUM":"LOW"},Dc={DRAFT:"Draft",PENDING_REVIEW:"Pending review",NEED_MORE_INFO:"Need more info",READY:"Ready",UNLOCKED:"Unlocked",NOT_SUPPORTED:"Not supported"},G_={DRAFT:"Complete product details before submit.",PENDING_REVIEW:"We are reviewing your product.",NEED_MORE_INFO:"Please update product details.",READY:"Preview available.",UNLOCKED:"Full buyer intelligence is available.",NOT_SUPPORTED:"Not enough matching data."};async function IH(){if(!Or||!Ee)return{rows:PE(),source:"local"};const{data:e,error:t}=await Ee.from("ready_page_products").select("*").order("created_at",{ascending:!1});if(t){if(Kl(t.message))return{rows:Qu,source:"local"};throw t}let r=new Map;const n=await Ee.from("ready_page_buyer_signals").select("product_name, signal_year, buyer_display_name, country, country_code, import_volume_kg, frequency, last_active_year").eq("signal_year",2023).limit(5e4);if(!n.error)r=mLe(n.data??[]);else if(!Kl(n.error.message))throw n.error;const a=(e??[]).map(s=>{const i=Je(s.product_name).toUpperCase(),o=r.get(i);return{id:Je(s.id)||crypto.randomUUID(),product_name:Je(s.product_name),hs_code:ar(Je(s.hs_code)),buyers_2023_count:(o==null?void 0:o.buyers_2023_count)??Number(s.buyers_2023_count??0),countries_2023_count:(o==null?void 0:o.countries_2023_count)??Number(s.countries_2023_count??0),buyers_2026_count:Number(s.buyers_2026_count??0),top_countries_2023:(o==null?void 0:o.top_countries_2023)??yl(s.top_countries_2023),buyer_snapshot_preview:(o==null?void 0:o.buyer_snapshot_preview)??yl(s.buyer_snapshot_preview).slice(0,5),ready_copy:ar(Je(s.ready_copy)),created_at:Je(s.created_at)||Pi(),updated_at:Je(s.updated_at)||Pi()}});return{rows:a.length>0?a:PE(),source:a.length>0?"supabase":"local"}}function gj(e,t,r=[]){const n=Je(e).toUpperCase(),a=Je(t).replace(/\D+/g,""),s=r.find(o=>Je(o.product_name).toUpperCase()===n);if(s)return s;if(a.length>=6){const o=r.find(c=>Je(c.hs_code).replace(/\D+/g,"")===a);if(o)return o}return r.find(o=>n.includes(Je(o.product_name).toUpperCase()))??null}async function vj(){if(!Or||!Ee)return{rows:r1(),source:"local"};const{data:e,error:t}=await Ee.from("your_product_requests").select("*").order("submitted_at",{ascending:!1}).limit(1e3);if(t){if(Kl(t.message))return{rows:r1(),source:"local"};throw t}return{rows:(e??[]).map(pm).sort((r,n)=>n.submitted_at.localeCompare(r.submitted_at)),source:"supabase"}}async function yLe(e,t=[]){const r=gj(e.product_name,e.hs_code,t),n=Pi(),a={id:crypto.randomUUID(),customer_email:Je(e.customer_email),customer_username:Je(e.customer_username),customer_workspace:Je(e.customer_workspace),product_name:Je(e.product_name),hs_code:ar(e.hs_code),product_details:ar(e.product_details),target_market:ar(e.target_market),image_url:ar(e.image_url),image_file_name:ar(e.image_file_name),status:"PENDING_REVIEW",submitted_at:n,updated_at:n,updated_by:"Customer",customer_message:"We received your product details. ORIGO is reviewing it to generate buyer opportunities.",admin_note:null,missing_info_checklist:{...OH},confidence:RH({hsCode:e.hs_code,productDetails:e.product_details,targetMarket:e.target_market,matchedReadyProduct:r}),ready_summary:(r==null?void 0:r.ready_copy)??null};if(Or&&Ee){const{data:o,error:c}=await Ee.from("your_product_requests").insert(mj(a)).select("*").single();if(!c&&o)return pm(o);if(c&&!Kl(c.message))throw c}const s=r1(),i=[a,...s];return PH(i),a}async function DH(e,t,r=[]){const n=c=>{const u={...c.missing_info_checklist,...t.missing_info_checklist??{}},d=gj(t.product_name??c.product_name,t.hs_code??c.hs_code,r)??null;return{...c,...t,id:c.id,product_name:Je(t.product_name??c.product_name),hs_code:t.hs_code!==void 0?ar(t.hs_code):c.hs_code,product_details:t.product_details!==void 0?ar(t.product_details):c.product_details,target_market:t.target_market!==void 0?ar(t.target_market):c.target_market,image_url:t.image_url!==void 0?ar(t.image_url):c.image_url,image_file_name:t.image_file_name!==void 0?ar(t.image_file_name):c.image_file_name,customer_workspace:t.customer_workspace!==void 0?Je(t.customer_workspace):c.customer_workspace,missing_info_checklist:u,updated_at:Pi(),confidence:RH({hsCode:t.hs_code??c.hs_code,productDetails:t.product_details??c.product_details,targetMarket:t.target_market??c.target_market,matchedReadyProduct:d}),ready_summary:t.ready_summary!==void 0?t.ready_summary:(d==null?void 0:d.ready_copy)??c.ready_summary}};if(Or&&Ee){const c=await Ee.from("your_product_requests").select("*").eq("id",e).maybeSingle();if(!c.error&&c.data){const u=pm(c.data),d=n(u),{data:f,error:h}=await Ee.from("your_product_requests").update(mj(d)).eq("id",e).select("*").maybeSingle();if(!h&&f)return pm(f);if(h&&!Kl(h.message))throw h}else if(c.error&&!Kl(c.error.message))throw c.error}const a=r1(),s=a.findIndex(c=>c.id===e);if(s<0)return null;const i=n(a[s]),o=[...a];return o[s]=i,PH(o),i}async function bLe(e,t){const r=o=>({...o,hs_code:t.hs_code!==void 0?ar(t.hs_code):o.hs_code,buyers_2026_count:t.buyers_2026_count!==void 0?Math.max(0,Math.floor(Number(t.buyers_2026_count)||0)):o.buyers_2026_count,ready_copy:t.ready_copy!==void 0?ar(t.ready_copy):o.ready_copy,top_countries_2023:t.top_countries_2023!==void 0?t.top_countries_2023.slice(0,5):o.top_countries_2023,buyer_snapshot_preview:t.buyer_snapshot_preview!==void 0?t.buyer_snapshot_preview.slice(0,5):o.buyer_snapshot_preview,updated_at:Pi()});if(Or&&Ee){const o=await Ee.from("ready_page_products").select("*").eq("id",e).maybeSingle();if(!o.error&&o.data){const c=o.data??{},u={id:Je(c.id)||e,product_name:Je(c.product_name),hs_code:ar(Je(c.hs_code)),buyers_2023_count:Number(c.buyers_2023_count??0),countries_2023_count:Number(c.countries_2023_count??0),buyers_2026_count:Number(c.buyers_2026_count??0),top_countries_2023:yl(c.top_countries_2023),buyer_snapshot_preview:yl(c.buyer_snapshot_preview).slice(0,5),ready_copy:ar(Je(c.ready_copy)),created_at:Je(c.created_at)||Pi(),updated_at:Je(c.updated_at)||Pi()},d=r(u),f={hs_code:d.hs_code,buyers_2026_count:d.buyers_2026_count,ready_copy:d.ready_copy,updated_at:d.updated_at};t.top_countries_2023!==void 0&&(f.top_countries_2023=d.top_countries_2023),t.buyer_snapshot_preview!==void 0&&(f.buyer_snapshot_preview=d.buyer_snapshot_preview);const{data:h,error:p}=await Ee.from("ready_page_products").update(f).eq("id",e).select("*").maybeSingle();if(!p&&h)return{id:Je(h.id)||e,product_name:Je(h.product_name),hs_code:ar(Je(h.hs_code)),buyers_2023_count:Number(h.buyers_2023_count??d.buyers_2023_count),countries_2023_count:Number(h.countries_2023_count??d.countries_2023_count),buyers_2026_count:Number(h.buyers_2026_count??d.buyers_2026_count),top_countries_2023:yl(h.top_countries_2023),buyer_snapshot_preview:yl(h.buyer_snapshot_preview).slice(0,5),ready_copy:ar(Je(h.ready_copy)),created_at:Je(h.created_at)||d.created_at,updated_at:Je(h.updated_at)||d.updated_at};if(p&&!Kl(p.message))throw p}else if(o.error&&!Kl(o.error.message))throw o.error}const n=PE(),a=n.findIndex(o=>o.id===e);if(a<0)return null;const s=r(n[a]),i=[...n];return i[a]=s,pLe(i),s}const wLe="Importer",_Le=365,q_=1e3,SLe="170199",AD="Refined Sugar";let Fp=null,Lp=null;const RE=e=>e.toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g," ").replace(/\b(the|republic of|state of|states of|kingdom of)\b/g," ").replace(/\s+/g," ").trim(),MH=()=>{if(Fp&&Lp)return;const e=new Map,t=new Map;if(typeof Intl<"u"&&typeof Intl.DisplayNames<"u"){const n=new Intl.DisplayNames(["en"],{type:"region"});for(let a=65;a<=90;a+=1)for(let s=65;s<=90;s+=1){const i=String.fromCharCode(a,s),o=n.of(i);if(!o||o===i||/\d/.test(o))continue;const c=RE(o);c&&!e.has(c)&&e.set(c,i),t.has(i)||t.set(i,o)}}Object.entries({usa:"US",us:"US","united states of america":"US",uk:"GB","u.k":"GB","u.k.":"GB","united kingdom":"GB",korea:"KR","south korea":"KR","north korea":"KP",russia:"RU",vietnam:"VN",laos:"LA",bolivia:"BO",tanzania:"TZ",moldova:"MD",syria:"SY",uganda:"UG","ivory coast":"CI","cote d ivoire":"CI"}).forEach(([n,a])=>{e.set(RE(n),a)}),Fp=e,Lp=t},IE=e=>(MH(),Lp==null?void 0:Lp.get(e.toUpperCase())),kLe=e=>{const t=(e??"").trim();if(!t)return{countryCode:"",countryName:""};if(/^[A-Za-z]{2}$/.test(t)){const n=t.toUpperCase();return{countryCode:n,countryName:IE(n)??n}}MH();const r=[t,...t.split(",").map(n=>n.trim()).filter(Boolean).reverse()];for(const n of r){const a=RE(n),s=Fp==null?void 0:Fp.get(a);if(s)return{countryCode:s,countryName:IE(s)??n}}return{countryCode:"",countryName:t}},OD=e=>{const t=e==null?void 0:e.trim();if(t)return/^https?:\/\//i.test(t)?t:`https://${t}`},xj=e=>(e??"").replace(/\D+/g,""),pv=e=>{const t=e==null?void 0:e.trim();if(!t)return"";const r=t.slice(0,10);if(/^\d{4}-\d{2}-\d{2}$/.test(r))return r;const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toISOString().slice(0,10)},zh=(...e)=>{for(const t of e){const r=t==null?void 0:t.trim();if(r)return r}},ELe=(...e)=>{for(const t of e){const r=xj(t);if(r.length>=6)return r.slice(0,6)}return""},mm=e=>xj(e).slice(0,6),n1=(e,t)=>{const r=mm(e),n=mm(t);return!!(r&&n&&r===n)},hc=e=>{if(typeof e=="number")return Number.isFinite(e)?e:0;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0},TLe=(e,t)=>{const r=new Map;return e.forEach(n=>{const a=t(n);r.has(a)||r.set(a,n)}),Array.from(r.values())},yj=async(e,t,r)=>{if(!Ee)throw new Error("Supabase client is not initialized.");const n=[];let a=0;for(;;){let s=Ee.from(e).select(t).range(a,a+q_-1);r&&(s=s.order(r,{ascending:!0}));const{data:i,error:o}=await s;if(o){const u=new Error(`${e}: ${o.message}`);throw u.code=o.code,u}const c=i??[];if(n.push(...c),c.length<q_)break;a+=q_}return n},bj=e=>{const t=e==null?void 0:e.code;if(t==="PGRST205"||t==="42P01")return!0;const r=e instanceof Error?e.message:String(e??"");return/could not find the table|relation .* does not exist|schema cache/i.test(r)},Bp=async(e,t="*",r)=>{try{return await yj(e,t,r)}catch(n){if(bj(n))return[];throw n}},NLe=async()=>{try{return await yj("supabase_companies","*")}catch(e){if(!bj(e))throw e}return Bp("companies","*")},CLe=async()=>{try{return await yj("purchase_trend","*","date")}catch(e){if(!bj(e))throw e}return Bp("purchase_trends","*","date")},jLe=e=>{if(!e)return!1;const t=new Date(e).getTime();return Number.isFinite(t)?Date.now()-t<=_Le*24*60*60*1e3:!1},ALe=e=>{const t=e==null?void 0:e.trim().toLowerCase();if(t){if(t==="yellow"||t==="new"||t.includes("high-potential")||t.includes("high potential"))return"new";if(t==="green"||t==="existing"||t.includes("general")||t==="active"||t==="mixed"||t==="red")return"existing"}},PD=(e,t)=>{var a;const r=new Map;return e.forEach(s=>{const i=t(s);i&&r.set(i,(r.get(i)??0)+1)}),(a=Array.from(r.entries()).sort((s,i)=>i[1]-s[1])[0])==null?void 0:a[0]},OLe=(e,t,r)=>{const n=e.indexOf(r);if(n<0)return{trend:"neutral",changePct:0};const a=e.slice(Math.max(0,n-11),n+1),s=e.slice(Math.max(0,n-23),Math.max(0,n-11));if(a.length<6||s.length<6)return{trend:"neutral",changePct:0};const i=d=>d.reduce((f,h)=>f+(t.get(h)??0),0),o=i(a),c=i(s);if(c===0)return{trend:"neutral",changePct:0};const u=(o-c)/c*100;return u>4?{trend:"up",changePct:u}:u<-4?{trend:"down",changePct:u}:{trend:"neutral",changePct:u}},$H=(e,t,r)=>e>=t&&e<=r,PLe=e=>e.find(t=>t.business_email)??e.find(t=>t.supplement_email_1)??e[0],RLe=async()=>{if(!Or||!Ee)return null;const[e,t,r,n,a]=await Promise.all([Bp("company_overview","*"),Bp("company_basic_info","*"),Bp("company_contacts","*","created_at"),CLe(),NLe()]),s=new Map(e.map(g=>[g.company_id,g])),i=new Map(t.map(g=>[g.company_id,g])),o=new Map(a.map(g=>[g.company_id,g])),c=new Map;r.forEach(g=>{const m=c.get(g.company_id)??[];m.push(g),c.set(g.company_id,m)});const u=TLe([...e.map(g=>g.company_id),...t.map(g=>g.company_id),...r.map(g=>g.company_id),...n.map(g=>g.company_id),...a.map(g=>g.company_id)].filter(Boolean).map(g=>({id:g})),g=>g.id).map(g=>g.id),d={},f=u.map(g=>{var C,j,R,I,M,W,K;const m=s.get(g),v=i.get(g),y=o.get(g),b=c.get(g)??[],x=PLe(b),_=((C=n.find(H=>H.company_id===g))==null?void 0:C.importer)??void 0,S=zh(v==null?void 0:v.company_name,y==null?void 0:y.customer_name,y==null?void 0:y.customer,_)??`Company ${g.slice(0,8)}`,E=kLe((v==null?void 0:v.location)??(x==null?void 0:x.region)??(y==null?void 0:y.customer_location)??(y==null?void 0:y.location));E.countryCode&&E.countryName&&(d[E.countryCode]=E.countryName);const k=OD(zh(v==null?void 0:v.website,y==null?void 0:y.website)),N=[x==null?void 0:x.social_media,v==null?void 0:v.twitter,v==null?void 0:v.instagram,v==null?void 0:v.facebook].map(H=>OD(H)).filter(Boolean),T=N.find(H=>/linkedin\.com/i.test(H))??N.find(H=>/twitter\.com|x\.com/i.test(H))??N[0],A=((R=(j=m==null?void 0:m.business_overview)==null?void 0:j.slice(0,120))==null?void 0:R.trim())||void 0;return{id:g,company:{id:g,name:S,countryCode:E.countryCode,buyerType:wLe,industry:A,website:k,contacts:{person:((I=x==null?void 0:x.name)==null?void 0:I.trim())||void 0,email:((M=x==null?void 0:x.business_email)==null?void 0:M.trim())||((W=x==null?void 0:x.supplement_email_1)==null?void 0:W.trim())||((K=x==null?void 0:x.supplement_email_2)==null?void 0:K.trim())||void 0,website:k,linkedIn:T}},countryName:E.countryName||void 0,status:ALe(zh(y==null?void 0:y.status,y==null?void 0:y.value_tag))??(jLe(m==null?void 0:m.trade_start_date)?"new":"existing"),overview:m,basicInfo:v,contacts:b}}),h=n.map(g=>{var y;const m=((y=g.date)==null?void 0:y.slice(0,10))??"",v=xj(g.hs_code);return!m||!v||!g.company_id?null:{companyId:g.company_id,date:m,month:m.slice(0,7),hsCode:v,hsCodeFamily:mm(v),product:g.product??void 0,productDescription:g.product_description??void 0,importer:g.importer??void 0,exporter:g.exporter??void 0,originCountry:g.origin_country??void 0,destinationCountry:g.destination_country??void 0,totalPriceUsd:hc(g.total_price_usd),weightKg:hc(g.weight_kg),quantity:hc(g.quantity)}}).filter(g=>!!g),p=h.length>0?h:f.map(g=>{var E,k,N,T;const m=o.get(g.id),v=s.get(g.id),y=pv(m==null?void 0:m.latest_purchase_time)||pv(v==null?void 0:v.latest_purchase_date)||pv(m==null?void 0:m.created_at)||pv(v==null?void 0:v.updated_at)||new Date().toISOString().slice(0,10),b=ELe(m==null?void 0:m.product,m==null?void 0:m.product_description,(E=v==null?void 0:v.core_products)==null?void 0:E[0])||SLe,x=zh(m==null?void 0:m.product,(k=v==null?void 0:v.core_products)==null?void 0:k[0],AD)??AD,_=zh(m==null?void 0:m.product_description,v==null?void 0:v.business_overview,x),S=hc(m==null?void 0:m.trades)||hc(v==null?void 0:v.purchase_frequency_per_year)||0;return{companyId:g.id,date:y,month:y.slice(0,7),hsCode:b,hsCodeFamily:mm(b),product:x,productDescription:_,importer:g.company.name,exporter:((N=v==null?void 0:v.core_suppliers)==null?void 0:N[0])??void 0,originCountry:((T=v==null?void 0:v.core_supplier_countries)==null?void 0:T[0])??void 0,destinationCountry:g.countryName??void 0,totalPriceUsd:hc(v==null?void 0:v.purchase_value_last_12m)||hc(v==null?void 0:v.total_purchase_value),weightKg:S,quantity:S}});return{companies:f,purchases:p,countryNameByCode:d}},ILe=(e,t)=>{var r;return(r=e.companies.find(n=>n.id===t))==null?void 0:r.company},DLe=(e,t)=>t?e.countryNameByCode[t]??IE(t)??t:"",MLe=e=>{const t=new Map;e.purchases.forEach(n=>{var c,u;const a=n.hsCodeFamily||mm(n.hsCode);if(!a)return;const s=t.get(a)??{productCounts:new Map,descriptionCounts:new Map},i=(c=n.product)==null?void 0:c.trim();i&&s.productCounts.set(i,(s.productCounts.get(i)??0)+1);const o=(u=n.productDescription)==null?void 0:u.trim();o&&s.descriptionCounts.set(o,(s.descriptionCounts.get(o)??0)+1),t.set(a,s)});const r=n=>{var a;return(a=Array.from(n.entries()).sort((s,i)=>i[1]-s[1])[0])==null?void 0:a[0]};return Array.from(t.entries()).map(([n,a])=>{const s=n.slice(0,2),i=r(a.productCounts)??`HS ${n}`,o=r(a.descriptionCounts)??i;return{code:n,product:i,description:o,category:s?`HS ${s}`:"Trade",chapter:s}}).sort((n,a)=>n.code.localeCompare(a.code))},FH=(e,t)=>{const r=new Set(e.purchases.filter(n=>n1(n.hsCode,t)).map(n=>n.month));return Array.from(r).sort()},$Le=e=>{const{dataset:t,hsCode:r,startMonth:n,endMonth:a}=e,s=new Map(t.companies.map(d=>[d.id,d])),i=FH(t,r),o=t.purchases.filter(d=>n1(d.hsCode,r)&&$H(d.month,n,a)),c=new Map;return o.forEach(d=>{const f=c.get(d.companyId)??[];f.push(d),c.set(d.companyId,f)}),Array.from(c.entries()).map(([d,f])=>{var E,k,N;const h=s.get(d),p=f.reduce((T,A)=>T+A.weightKg,0),g=f.reduce((T,A)=>T+(A.quantity||A.weightKg),0),m=f.length,v=new Set(f.map(T=>T.month)).size,y=f.reduce((T,A)=>A.date>T?A.date:T,""),b=PD(f,T=>{var A;return(A=T.product)==null?void 0:A.trim()}),x=PD(f,T=>{var A;return(A=T.productDescription)==null?void 0:A.trim()}),_=new Map;t.purchases.forEach(T=>{T.companyId!==d||!n1(T.hsCode,r)||_.set(T.month,(_.get(T.month)??0)+T.weightKg)});const S=OLe(i,_,a);return{id:d,name:(h==null?void 0:h.company.name)??d,countryCode:(h==null?void 0:h.company.countryCode)??"",buyerType:h==null?void 0:h.company.buyerType,industry:h==null?void 0:h.company.industry,website:h==null?void 0:h.company.website,metricTotal:p,shipmentsCount:m,frequency:v,trend:S.trend,changePct:S.changePct,lastActiveDate:y||void 0,status:(h==null?void 0:h.status)??"existing",tradeSum:g,product:b??((k=(E=h==null?void 0:h.overview)==null?void 0:E.core_products)==null?void 0:k[0])??void 0,productDescription:x??((N=h==null?void 0:h.overview)==null?void 0:N.business_overview)??void 0}})},FLe=e=>{const{dataset:t,companyId:r,hsCode:n,startMonth:a,endMonth:s}=e,i=t.purchases.filter(c=>c.companyId===r&&n1(c.hsCode,n)&&$H(c.month,a,s)),o=new Map;return i.forEach(c=>{const u=o.get(c.month)??{month:c.month,originCountry:c.originCountry,counterparty:c.exporter,weightKg:0,shipmentsCount:0,valueUsd:0};u.weightKg+=c.weightKg,u.shipmentsCount=(u.shipmentsCount??0)+1,u.valueUsd=(u.valueUsd??0)+c.totalPriceUsd,u.originCountry&&c.originCountry&&u.originCountry!==c.originCountry&&(u.originCountry="Multiple"),u.counterparty&&c.exporter&&u.counterparty!==c.exporter&&(u.counterparty="Multiple"),o.set(c.month,u)}),Array.from(o.values()).sort((c,u)=>c.month>u.month?-1:1)},Ho=e=>new Intl.NumberFormat("en-US").format(e),LLe="Total Weight (KG)",BLe=e=>`${Ho(e)} KG`,ULe="Buyers in the past 6 months",zLe=6,RD={code:"",product:"No product",description:"No product available in Supabase",category:"",chapter:""},mv=e=>{const[t,r]=e.split("-").map(Number),n=new Date(t,r-1,1);return Number.isNaN(n.getTime())?e:n.toLocaleString("en-US",{month:"short",year:"numeric"})},ID="market-intelligence-active-tab",WLe="market-intelligence-focus-company-ids",HLe="market-intelligence-focus-mode",VLe="market-intelligence-top-pin-company-ids",GLe="market-intelligence-company-replace-requests",DD="market-intelligence-company-column-order-v1",Mc=["pin","status","country","company","type","product","customerType","tradeSum","action"],qLe=[{key:"market-insights",label:"Global Demand"},{key:"market-analysis",label:"Market Analysis"}],K_=e=>{if(!Array.isArray(e))return Mc;const t=new Set(Mc),r=e.filter(a=>typeof a=="string"&&t.has(a)),n=Mc.filter(a=>!r.includes(a));return[...r,...n]};function KLe({value:e}){const t=(e??"").trim()||"";return l.jsx("div",{className:"line-clamp-2 min-h-[2.5rem] break-words text-sm leading-5 text-foreground",title:t!==""?t:void 0,children:t})}function XLe(){const e=Ao(),{toast:t}=Ff(),{email:r}=Pa(),[n,a]=w.useState(()=>{if(typeof window>"u")return"market-insights";const ne=window.sessionStorage.getItem(ID);return ne==="market-analysis"||ne==="market-insights"?ne:"market-insights"}),[s,i]=w.useState(RD),[o,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(!1),[p,g]=w.useState("overview"),[m,v]=w.useState([]),[y,b]=w.useState([]),x=RN(),_=w.useRef(null),[S,E]=w.useState("tradeSum"),[k,N]=w.useState("desc"),[T,A]=w.useState(()=>{if(typeof window>"u")return Mc;try{const ne=window.localStorage.getItem(DD);return ne?K_(JSON.parse(ne)):Mc}catch{return Mc}}),[C,j]=w.useState(""),[R,I]=w.useState(20),[M,W]=w.useState(1),[K,H]=w.useState([]),[O,Z]=w.useState(!1),[J,P]=w.useState(!1),[G,B]=w.useState(null),[z,ae]=w.useState(""),[V,ie]=w.useState(null),[re,L]=w.useState(!0),[oe,D]=w.useState(!1),[le,ye]=w.useState(null),[Se,_e]=w.useState(null),[pe,Le]=w.useState([]),ze=w.useMemo(()=>`${WLe}:${s.code||"__default__"}`,[s.code]),xt=w.useMemo(()=>`${HLe}:${s.code||"__default__"}`,[s.code]),nt=w.useMemo(()=>`${VLe}:${s.code||"__default__"}`,[s.code]),at=w.useMemo(()=>`${GLe}:${s.code||"__default__"}`,[s.code]);w.useEffect(()=>{let ne=!0;return(async()=>{D(!0);try{const et=await RLe();if(!ne)return;if(!et){ye(null),_e("Supabase is not configured or unavailable.");return}ye(et),_e(null)}catch(et){console.error("Unable to load Market Intelligence company dataset",et),ne&&(ye(null),_e("Unable to load data from Supabase."))}finally{ne&&D(!1)}})(),()=>{ne=!1}},[]),w.useEffect(()=>{let ne=!0;const Te=r.trim().toLowerCase();return Te?((async()=>{try{const ct=await vj();if(!ne)return;const er=ct.rows.filter(Et=>Et.customer_email.trim().toLowerCase()===Te&&(Et.status==="READY"||Et.status==="UNLOCKED")).map(Et=>({id:Et.id,name:Et.product_name,hsCode:(Et.hs_code??"").trim()})).filter(Et=>Et.name.trim().length>0&&Et.hsCode.length>0).filter((Et,An,tw)=>tw.findIndex(Aj=>Aj.name.trim().toUpperCase()===Et.name.trim().toUpperCase()&&Aj.hsCode===Et.hsCode)===An);Le(er)}catch{ne&&Le([])}})(),()=>{ne=!1}):(Le([]),()=>{ne=!1})},[r]);const yt=w.useMemo(()=>le?MLe(le):[],[le]),Y=w.useMemo(()=>{const ne=new Map(yt.map(Te=>[Te.code,Te]));return pe.forEach(Te=>{const et=ne.get(Te.hsCode);if(et){ne.set(Te.hsCode,{...et,product:Te.name});return}ne.set(Te.hsCode,{code:Te.hsCode,product:Te.name,description:"From YOUR Product (READY)",category:`HS ${Te.hsCode.slice(0,2)}`,chapter:Te.hsCode.slice(0,2)})}),Array.from(ne.values()).sort((Te,et)=>Te.code.localeCompare(et.code))},[yt,pe]);w.useEffect(()=>{if(!Y.length){s.code&&i(RD);return}Y.some(Te=>Te.code===s.code)||i(Y[0])},[Y,s.code]);const be=w.useMemo(()=>le&&s.code?FH(le,s.code):[],[le,s.code]),ge=w.useMemo(()=>be,[be]),{startMonth:Re,endMonth:ft}=w.useMemo(()=>{if(!ge.length)return{startMonth:"",endMonth:""};const ne=ge[ge.length-1];return{startMonth:ge[Math.max(0,ge.length-zLe)],endMonth:ne}},[ge]);w.useEffect(()=>{if(c(null),d(null),h(!1),typeof window>"u"){g("overview"),v([]);return}try{const ne=window.localStorage.getItem(ze),Te=ne?JSON.parse(ne):[],et=Array.isArray(Te)?Te.filter(er=>typeof er=="string"&&er.length>0):[];v(et),window.localStorage.getItem(xt)==="focus"&&et.length>0?g("focus"):g("overview")}catch{g("overview"),v([])}},[s.code,ze,xt]),w.useEffect(()=>{typeof window>"u"||!s.code||window.localStorage.setItem(ze,JSON.stringify(m))},[m,s.code,ze]),w.useEffect(()=>{if(typeof window>"u"){b([]);return}try{const ne=window.localStorage.getItem(nt),Te=ne?JSON.parse(ne):[],et=Array.isArray(Te)?Te.filter(ct=>typeof ct=="string"&&ct.length>0):[];b(et)}catch{b([])}},[nt]),w.useEffect(()=>{typeof window>"u"||!s.code||window.localStorage.setItem(nt,JSON.stringify(y))},[s.code,nt,y]),w.useEffect(()=>{typeof window>"u"||!s.code||window.localStorage.setItem(xt,p)},[p,s.code,xt]),w.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(DD,JSON.stringify(T))},[T]),w.useEffect(()=>{if(Z(!1),typeof window>"u"){H([]),Z(!0);return}try{const ne=window.localStorage.getItem(at),Te=ne?JSON.parse(ne):[];if(!Array.isArray(Te))H([]);else{const et=Te.flatMap(ct=>typeof ct=="string"&&ct.trim()?[{companyId:ct,reason:"Requested by customer",requestedAt:new Date().toISOString()}]:typeof ct=="object"&&ct!==null&&"companyId"in ct&&typeof ct.companyId=="string"&&ct.companyId.trim()&&"reason"in ct&&typeof ct.reason=="string"?[{companyId:ct.companyId,reason:ct.reason.trim()||"No reason provided",requestedAt:"requestedAt"in ct&&typeof ct.requestedAt=="string"?ct.requestedAt:new Date().toISOString()}]:[]);H(et)}}catch{H([])}finally{Z(!0)}},[at]),w.useEffect(()=>{!O||typeof window>"u"||window.localStorage.setItem(at,JSON.stringify(K))},[O,K,at]),w.useEffect(()=>{typeof window>"u"||window.sessionStorage.setItem(ID,n)},[n]),w.useEffect(()=>{L(!0);const ne=setTimeout(()=>L(!1),320);return()=>clearTimeout(ne)},[s.code,Re,ft,o,u]);const $t=re,st=re||oe;w.useEffect(()=>{u&&h(!0)},[u]);const wt=w.useMemo(()=>!Re||!ft?"":`${mv(Re)} - ${mv(ft)}`,[Re,ft]),Wt=w.useMemo(()=>!le||!Re||!ft?[]:$Le({dataset:le,hsCode:s.code,startMonth:Re,endMonth:ft}),[le,s.code,Re,ft]),Ct=w.useMemo(()=>o?Wt.filter(ne=>ne.countryCode===o):Wt,[Wt,o]),Ft=w.useCallback(ne=>ne?le?DLe(le,ne):ne:"Unknown",[le]),ce=w.useMemo(()=>{const ne=new Map;Wt.forEach(et=>{if(!et.countryCode)return;const ct=ne.get(et.countryCode)??{metricTotal:0,importersCount:0,newCustomers:0,existingCustomers:0};ct.metricTotal+=et.metricTotal,ct.importersCount+=1,et.status==="new"?ct.newCustomers+=1:ct.existingCustomers+=1,ne.set(et.countryCode,ct)});const Te=Array.from(ne.values()).reduce((et,ct)=>et+ct.metricTotal,0);return Array.from(ne.entries()).map(([et,ct])=>{const er=ct.newCustomers,Et=ct.existingCustomers;return{code:et,name:Ft(et),flag:NN(et),metricTotal:ct.metricTotal,importersCount:ct.importersCount,share:Te>0?ct.metricTotal/Te*100:0,customerStatus:er>0&&Et>0?"mixed":er>0?"new":"existing",newCustomers:er,existingCustomers:Et}})},[Wt,Ft]),ht=w.useMemo(()=>ce.filter(ne=>ne.importersCount>0).length,[ce]),pt=w.useMemo(()=>u?Ct.find(ne=>ne.id===u):void 0,[Ct,u]),Pe=w.useMemo(()=>{if(!u||!le)return;const ne=ILe(le,u);if(ne)return ne;if(pt)return{id:pt.id,name:pt.name,countryCode:pt.countryCode||o||"",buyerType:pt.buyerType,industry:pt.industry,website:pt.website}},[le,u,pt,o]),Ge=o??(Pe==null?void 0:Pe.countryCode)??"",Ae=Ge?{code:Ge,name:Ft(Ge)}:void 0,{tradeHistory:dt,tradeHistoryDateLabel:tt,tradeHistoryUsedFallback:_t}=w.useMemo(()=>{if(!u||!le||!Re||!ft)return{tradeHistory:[],tradeHistoryDateLabel:wt,tradeHistoryUsedFallback:!1};const ne=(Et,An)=>FLe({dataset:le,companyId:u,hsCode:s.code,startMonth:Et,endMonth:An}),Te=ne(Re,ft);if(Te.length>0)return{tradeHistory:Te,tradeHistoryDateLabel:wt,tradeHistoryUsedFallback:!1};if(!ge.length)return{tradeHistory:[],tradeHistoryDateLabel:wt,tradeHistoryUsedFallback:!1};const et=ge[0],ct=ge[ge.length-1],er=ne(et,ct);return er.length>0?{tradeHistory:er,tradeHistoryDateLabel:`${mv(et)} - ${mv(ct)}`,tradeHistoryUsedFallback:!0}:{tradeHistory:[],tradeHistoryDateLabel:wt,tradeHistoryUsedFallback:!1}},[le,u,s.code,Re,ft,ge,wt]),Vt=w.useMemo(()=>{if(!C.trim())return Ct;const ne=C.toLowerCase();return Ct.filter(Te=>Te.name.toLowerCase().includes(ne)||Te.id.toLowerCase().includes(ne)||(Te.buyerType??"").toLowerCase().includes(ne)||(Te.product??"").toLowerCase().includes(ne)||(Te.productDescription??"").toLowerCase().includes(ne)||Te.countryCode.toLowerCase().includes(ne)||Ft(Te.countryCode).toLowerCase().includes(ne))},[Ct,C,Ft]),je=w.useMemo(()=>{const ne=k==="asc"?1:-1,Te=et=>{switch(S){case"company":return et.name;case"type":return et.buyerType??"";case"customerType":return et.productDescription??"";case"country":return Ft(et.countryCode);case"status":return et.status;case"product":return et.product??"";case"tradeSum":default:return et.tradeSum}};return[...Vt].sort((et,ct)=>{const er=Te(et),Et=Te(ct);return typeof er=="string"&&typeof Et=="string"?er.localeCompare(Et)*ne:(er-Et)*ne})},[Vt,k,S,Ft]),se=w.useMemo(()=>new Set(m),[m]),ve=w.useMemo(()=>new Set(y),[y]),Ne=w.useMemo(()=>new Set(K.map(ne=>ne.companyId)),[K]),Ve=w.useMemo(()=>{const ne=new Map;return K.forEach(Te=>ne.set(Te.companyId,Te.reason)),ne},[K]),Ye=w.useMemo(()=>{const ne=new Map(je.map(Et=>[Et.id,Et])),Te=m.map(Et=>ne.get(Et)).filter(Et=>!!Et),et=y.map(Et=>ne.get(Et)).filter(Et=>!!Et);if(p==="focus")return Te;const ct=new Set(et.map(Et=>Et.id)),er=je.filter(Et=>!ct.has(Et.id));return[...et,...er]},[p,je,m,y]),Ht=Ye.length,Dt=w.useMemo(()=>Math.max(1,Math.ceil(Ht/R)),[Ht,R]),Cr=w.useMemo(()=>{const ne=(M-1)*R;return Ye.slice(ne,ne+R)},[Ye,M,R]),dh=Ht===0?0:(M-1)*R+1,fh=Math.min(M*R,Ht);w.useEffect(()=>{W(1)},[C,p,o,s.code,Re,ft]),w.useEffect(()=>{M>Dt&&W(Dt)},[M,Dt]);const F=w.useCallback(ne=>{v(Te=>Te.includes(ne)?Te.filter(et=>et!==ne):[ne,...Te])},[]),Q=w.useCallback(ne=>{b(Te=>Te.includes(ne)?Te.filter(et=>et!==ne):[ne,...Te])},[]),q=w.useCallback(ne=>{v(Te=>Te.includes(ne)?Te:[ne,...Te]),g("focus")},[]),X=w.useCallback(()=>{v([]),g("overview")},[]),ee=w.useCallback((ne,Te)=>{B({id:ne,name:Te}),ae(""),ie(null),P(!0)},[]),te=w.useCallback((ne,Te)=>{H(et=>et.filter(ct=>ct.companyId!==ne)),t({title:"Request removed",description:`${Te} replacement request was undone.`})},[t]),de=w.useCallback(()=>{if(!G)return;const ne=z.trim();if(!ne){ie("Please enter a reason.");return}H(Te=>{const et=Te.filter(ct=>ct.companyId!==G.id);return et.unshift({companyId:G.id,reason:ne,requestedAt:new Date().toISOString()}),et}),t({title:"Replacement request sent",description:`${G.name} was flagged for ORIGO backoffice review.`}),P(!1),ae(""),ie(null),B(null)},[z,G,t]),xe=w.useCallback((ne,Te)=>{A(et=>{const ct=K_(et);if(!ct.includes(ne)||!ct.includes(Te))return ct;const er=[...ct],Et=er.indexOf(ne),An=er.indexOf(Te);if(Et===-1||An===-1||Et===An)return ct;const[tw]=er.splice(Et,1);return er.splice(An,0,tw),er})},[]),ue=ne=>{N(Te=>S===ne?Te==="asc"?"desc":"asc":"desc"),E(ne)},fe=ne=>{E(ne),N("desc")},he=()=>{N(ne=>ne==="asc"?"desc":"asc")},Oe=[{value:"tradeSum",label:"Trade Sum"},{value:"status",label:"Status"},{value:"country",label:"Country"},{value:"type",label:"Type"},{value:"customerType",label:"Customer Type"},{value:"product",label:"Product"},{value:"company",label:"Company"}],We=ne=>{c(ne),d(null),h(!1)},Ke=()=>{c(null),d(null),h(!1)},De=ne=>{ne&&ne!==o&&(c(ne),d(null)),requestAnimationFrame(()=>{var Te;(Te=_.current)==null||Te.scrollIntoView({behavior:"smooth",block:"start"})})},qe=w.useCallback(ne=>{const Te=new URLSearchParams;s.code&&Te.set("hs",s.code),Re&&Te.set("start",Re),ft&&Te.set("end",ft),o&&Te.set("country",o),e(`/market-intelligence/company/${encodeURIComponent(ne)}?${Te.toString()}`)},[ft,e,o,s.code,Re]),St=w.useMemo(()=>({pin:{key:"pin",header:"Focus",width:"132px",align:"center",render:ne=>l.jsx(Ce,{type:"button",variant:"ghost",size:"icon",className:me("h-8 w-8 rounded-full",se.has(ne.id)?"text-[#b27700] hover:text-[#8b5f00]":"text-muted-foreground hover:text-foreground"),onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),se.has(ne.id)?F(ne.id):q(ne.id)},title:se.has(ne.id)?"Remove from focus list":"Add to focus list","aria-label":se.has(ne.id)?`Remove ${ne.name} from focus`:`Add ${ne.name} to focus`,children:se.has(ne.id)?l.jsx(eX,{className:"h-4 w-4"}):l.jsx(tX,{className:"h-4 w-4"})})},status:{key:"status",header:"Status",width:"88px",sortable:!0,align:"center",render:ne=>l.jsx("span",{className:me("inline-block h-3 w-3 rounded-full",ne.status==="new"?"bg-[#ffbd59]":"bg-emerald-500"),title:ne.status,"aria-label":ne.status})},country:{key:"country",header:"Country",width:"190px",sortable:!0,render:ne=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jD,{countryCode:ne.countryCode,countryName:Ft(ne.countryCode),size:"sm"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:Ft(ne.countryCode)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:ne.countryCode||"-"})]})]})},company:{key:"company",header:"Company",width:"260px",sortable:!0,render:ne=>l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"font-medium",children:ne.name}),ve.has(ne.id)?l.jsx("p",{className:"text-xs font-medium text-[#b27700]",children:"Pinned to top"}):null,Ne.has(ne.id)?l.jsxs("p",{className:"text-xs font-medium text-amber-700",children:["Replacement requested",Ve.get(ne.id)?`  ${Ve.get(ne.id)}`:""]}):null]})},type:{key:"type",header:"Type",width:"130px",sortable:!0,render:ne=>l.jsx("span",{children:ne.buyerType??"Importer"})},product:{key:"product",header:"Product",width:"190px",sortable:!0,align:"left",render:ne=>l.jsx("span",{children:ne.product??s.product})},customerType:{key:"customerType",header:"Customer Type",width:"300px",sortable:!0,align:"left",render:ne=>l.jsx(KLe,{value:ne.productDescription})},tradeSum:{key:"tradeSum",header:"Trade Sum",width:"150px",sortable:!0,align:"right",render:ne=>l.jsx("span",{className:"font-medium",children:Ho(ne.tradeSum)})},action:{key:"action",header:"",width:"300px",render:ne=>l.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[l.jsxs(Ce,{type:"button",variant:"ghost",size:"sm",className:"gap-1 text-primary hover:text-primary",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),qe(ne.id)},children:["View Profile",l.jsx(Ii,{className:"h-4 w-4"})]}),l.jsxs($x,{children:[l.jsx(Fx,{asChild:!0,children:l.jsx(Ce,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8 rounded-full border-border/70 bg-background/90","aria-label":`More actions for ${ne.name}`,onClick:Te=>{Te.preventDefault(),Te.stopPropagation()},children:l.jsx(YA,{className:"h-4 w-4"})})}),l.jsxs(k0,{align:"end",className:"w-44 bg-popover",children:[l.jsx(Vs,{onSelect:()=>{Q(ne.id)},children:ve.has(ne.id)?"Unpin from Top":"Pin to Top"}),l.jsx(Cd,{}),l.jsx(Vs,{onSelect:()=>{Ne.has(ne.id)?te(ne.id,ne.name):ee(ne.id,ne.name)},children:Ne.has(ne.id)?"Undo Requested":"Request Replace"})]})]})]})}}),[se,ve,Ft,q,Q,F,te,ee,qe,Ve,Ne,s.product]),yr=w.useMemo(()=>K_(T).map(Te=>St[Te]),[St,T]),hr=w.useMemo(()=>s.product.trim().toLowerCase().includes("cane sugar"),[s.product]);return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx(aa,{title:"Market Intelligence",subtitle:"Explore global trade data and market opportunities"}),l.jsxs("div",{className:"relative flex-1 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-5 md:pb-6",children:[l.jsx("div",{className:"mx-auto w-full max-w-7xl",children:l.jsx("div",{className:"overflow-x-auto pb-1",children:l.jsx("div",{className:"inline-flex min-w-full rounded-2xl border border-border/70 bg-card/80 p-1.5 shadow-[0_1px_2px_rgba(15,23,42,0.05)] backdrop-blur",children:qLe.map(ne=>{const Te=n===ne.key;return l.jsx("button",{type:"button",onClick:()=>a(ne.key),className:me("min-w-[148px] flex-1 whitespace-nowrap rounded-xl px-4 py-2 text-sm font-medium transition sm:min-w-[176px]",Te?"bg-slate-900 text-white shadow-sm":"text-muted-foreground hover:text-foreground"),children:ne.label},ne.key)})})})}),n==="market-analysis"?l.jsx("div",{className:"mt-6",children:l.jsx(fLe,{selectedProduct:s.product,dateRangeLabel:wt})}):l.jsxs("div",{className:"mt-5 space-y-5",children:[l.jsxs("section",{className:"rounded-2xl border border-border/60 bg-card/90 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur md:p-5",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Market Scope"})}),l.jsxs("div",{className:"mt-3 grid gap-3 lg:grid-cols-[minmax(0,1fr)_auto] lg:items-end",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Product"}),l.jsxs(gn,{value:s.code,onValueChange:ne=>{const Te=Y.find(et=>et.code===ne);Te&&i(Te)},disabled:Y.length===0,children:[l.jsx(Zr,{className:"h-10 w-full rounded-2xl border-border/70 bg-background/90 px-3.5 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{children:Y.length>0?s.product:"No product data"})}),l.jsx(en,{className:"bg-popover",children:Y.map(ne=>l.jsx(kt,{value:ne.code,children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-medium",children:ne.product}),l.jsx("p",{className:"truncate text-xs text-muted-foreground",children:ne.description})]})},ne.code))})]})]}),l.jsxs("div",{className:"rounded-2xl border border-border/70 bg-background/90 px-4 py-3 lg:min-w-[168px]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Active Countries"}),l.jsx("p",{className:"mt-1 text-xl font-semibold leading-none text-foreground",children:ht})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:me("space-y-5",hr&&"pointer-events-none blur-[2px]"),children:[Se&&!oe&&l.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:Se}),!Se&&!oe&&Y.length===0&&l.jsx("div",{className:"rounded-2xl border border-dashed border-border/70 bg-card/90 px-4 py-3 text-sm text-muted-foreground",children:"No HS code data found in Supabase."}),l.jsxs("section",{className:"overflow-hidden rounded-2xl border border-border/60 bg-card/90 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h2",{className:"text-base font-semibold text-foreground",children:"Global Import Volume"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Country-level distribution with customer counts"}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px]",children:[l.jsx("span",{className:"text-muted-foreground",children:"Marker colors:"}),l.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-[#ffbd59]/55 bg-[#fffbf0] px-2 py-0.5 font-medium text-amber-800",children:[l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-[#ffbd59] ring-2 ring-[#ffbd59]/35"}),"New"]}),l.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-emerald-500/45 bg-emerald-50 px-2 py-0.5 font-medium text-emerald-800",children:[l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500 ring-2 ring-emerald-500/30"}),"Existing"]}),l.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-blue-500/45 bg-blue-50 px-2 py-0.5 font-medium text-blue-800",children:[l.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-blue-500 ring-2 ring-blue-500/30"}),"Mixed"]})]})]}),l.jsx("div",{className:"border-b border-border/70 bg-background/70 px-4 py-2.5 md:px-5",children:l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-card px-3 py-1.5",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[#0a84ff]"}),l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Time Window"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:ULe})]})}),l.jsx("section",{className:"w-full p-1 md:p-2",children:l.jsx("div",{className:"relative aspect-[1.9/1] w-full md:aspect-[2.35/1]",children:$t?l.jsx(Ks,{className:"h-full w-full rounded-xl"}):l.jsx(eoe,{fallback:l.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-xl border border-dashed bg-muted/20 px-4 text-sm text-muted-foreground",children:"Map is temporarily unavailable. Please refresh the page."}),children:l.jsx(Moe,{data:ce.map(ne=>({code:ne.code,name:ne.name,flag:ne.flag,metricValue:ne.metricTotal,share:ne.share,importersCount:ne.importersCount,customerStatus:ne.customerStatus,newCustomers:ne.newCustomers,existingCustomers:ne.existingCustomers})),metricLabel:LLe,formatMetric:BLe,onCountryClick:We,selectedCountryCode:o,dateRangeLabel:wt,enableHoverCard:!x,onViewCompanies:De,onClearSelection:Ke,autoZoomKey:`${s.code}-${Re}-${ft}`})})})})]}),l.jsxs("section",{ref:_,className:"overflow-hidden rounded-2xl border border-border/60 bg-card/90 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur",children:[l.jsx("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Company List"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:p==="focus"?`Focused companies (${Ht})`:Ae?`Showing companies in ${Ae.name}`:"Showing all companies across all countries"}),p==="overview"&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the Focus button to add a company into Focus mode."}),!x&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag table headers to reorder columns."})]}),l.jsxs("div",{className:"flex w-full flex-wrap items-center gap-2 sm:w-auto",children:[l.jsxs("div",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 p-1",children:[l.jsx("button",{type:"button",onClick:()=>g("overview"),className:me("h-8 rounded-full px-3.5 text-xs font-medium transition",p==="overview"?"bg-[#ffbd59] text-[#3b2a06]":"text-muted-foreground hover:text-foreground"),children:"Overview"}),l.jsx("button",{type:"button",onClick:()=>g("focus"),className:me("h-8 rounded-full px-3.5 text-xs font-medium transition",p==="focus"?"bg-[#ffbd59] text-[#3b2a06]":"text-muted-foreground hover:text-foreground"),children:"Focus"})]}),p==="focus"&&l.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:X,className:"rounded-2xl border-border/70 bg-background/90",children:"Clear focus"}),Ae&&l.jsxs(sr,{variant:"secondary",className:"gap-2",children:["Selected: ",Ae.name," (",Ae.code,")",l.jsx("button",{type:"button",onClick:Ke,className:"text-xs hover:underline",children:" Clear"})]}),Ae&&l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",onClick:Ke,className:"hidden rounded-2xl border-border/70 bg-background/90 sm:inline-flex",children:[l.jsx(wx,{className:"mr-2 h-4 w-4"}),"Reset view"]}),!x&&l.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>A(Mc),className:"rounded-2xl border-border/70 bg-background/90",children:"Reset columns"}),l.jsxs("div",{className:"relative w-full sm:w-auto",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{placeholder:"Search company, type, product...",className:"h-10 w-full rounded-2xl border-border/70 bg-background/90 pl-10 text-sm focus-visible:ring-1 focus-visible:ring-slate-300 sm:w-72",value:C,onChange:ne=>j(ne.target.value)})]})]})]})}),l.jsxs("div",{className:"space-y-3 p-4 md:p-5",children:[x&&l.jsxs("div",{className:"mb-3 flex items-center gap-2 md:hidden",children:[l.jsxs(gn,{value:S,onValueChange:fe,children:[l.jsx(Zr,{className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{placeholder:"Sort by"})}),l.jsx(en,{className:"bg-popover",children:Oe.map(ne=>l.jsx(kt,{value:ne.value,children:ne.label},ne.value))})]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0 gap-1.5 rounded-2xl border-border/70 bg-background/90 px-3",onClick:he,children:[l.jsx(gF,{className:"h-3.5 w-3.5"}),k==="desc"?"Desc":"Asc"]})]}),st?l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ks,{className:"h-12 w-full rounded-2xl"}),l.jsx(Ks,{className:"h-12 w-full rounded-2xl"}),l.jsx(Ks,{className:"h-12 w-full rounded-2xl"})]}):x?Ht===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-border/70 bg-card/90 p-6 text-center text-sm text-muted-foreground",children:p==="focus"?"No focused companies yet. Focus a company in Overview.":"No companies found"}):l.jsx("div",{className:"space-y-3",children:Cr.map(ne=>l.jsxs("div",{className:me("rounded-2xl border border-border/60 bg-card px-4 py-4 shadow-[0_1px_2px_rgba(15,23,42,0.05)]",se.has(ne.id)&&"border-[#ffbd59]/65"),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0 flex items-center gap-3",children:[l.jsx(jD,{countryCode:ne.countryCode,countryName:Ft(ne.countryCode),size:"md"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-semibold text-foreground",children:ne.name}),se.has(ne.id)&&l.jsx("p",{className:"text-xs font-medium text-[#b27700]",children:"Pinned in Focus"}),ve.has(ne.id)&&l.jsx("p",{className:"text-xs font-medium text-[#b27700]",children:"Pinned to Top"}),Ne.has(ne.id)&&l.jsxs("p",{className:"truncate text-xs font-medium text-amber-700",children:["Requested  ",Ve.get(ne.id)]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:me("inline-block h-3 w-3 rounded-full",ne.status==="new"?"bg-[#ffbd59]":"bg-emerald-500"),title:ne.status,"aria-label":ne.status}),l.jsxs($x,{children:[l.jsx(Fx,{asChild:!0,children:l.jsx(Ce,{type:"button",variant:"outline",size:"icon",className:me("h-8 w-8 rounded-xl border-border/70 bg-background/90",Ne.has(ne.id)&&"border-amber-300 bg-amber-50 text-amber-800 hover:bg-amber-50"),"aria-label":`More actions for ${ne.name}`,onClick:Te=>{Te.preventDefault(),Te.stopPropagation()},children:l.jsx(YA,{className:"h-4 w-4"})})}),l.jsxs(k0,{align:"end",className:"w-44 bg-popover",children:[l.jsx(Vs,{onSelect:()=>{Q(ne.id)},children:ve.has(ne.id)?"Unpin from Top":"Pin to Top"}),l.jsx(Cd,{}),l.jsx(Vs,{onSelect:()=>{Ne.has(ne.id)?te(ne.id,ne.name):ee(ne.id,ne.name)},children:Ne.has(ne.id)?"Undo Requested":"Request Replace"})]})]})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 rounded-xl bg-secondary/45 p-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Trade Sum"}),l.jsx("p",{className:"font-semibold text-foreground",children:Ho(ne.tradeSum)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Type"}),l.jsx("p",{className:"font-semibold text-foreground",children:ne.buyerType??"Importer"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Product"}),l.jsx("p",{className:"font-semibold text-foreground",children:ne.product??s.product})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Customer Type"}),l.jsx("p",{className:"font-semibold text-foreground",children:ne.productDescription??""})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-10 rounded-2xl border-border/70 bg-background/90",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),se.has(ne.id)?F(ne.id):q(ne.id)},children:se.has(ne.id)?"Unfocus":"Focus"}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"relative h-10 justify-center rounded-2xl border-border/70 bg-background/90",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),qe(ne.id)},children:[l.jsx("span",{children:"View Profile"}),l.jsx(Ii,{className:"pointer-events-none absolute right-4 h-4 w-4"})]})]})]},ne.id))}):l.jsx(V1,{columns:yr,data:Cr,sortKey:S,sortDirection:k,onSort:ue,enableColumnReorder:!0,onColumnReorder:xe,emptyMessage:p==="focus"?"No focused companies yet. Focus a company in Overview.":"No companies found",className:["[&_table]:min-w-[1340px] [&_table]:border-separate [&_table]:border-spacing-0","[&_th]:px-6 [&_th]:py-4 [&_th]:text-[13px] [&_th]:font-semibold [&_th]:tracking-[0.01em] [&_th]:text-slate-600","[&_td]:px-6 [&_td]:py-4 [&_td]:align-middle [&_td]:text-[14px] [&_td]:leading-6","[&_tbody_tr]:border-b [&_tbody_tr]:border-slate-200/70","[&_tbody_tr:nth-child(odd)]:bg-white [&_tbody_tr:nth-child(even)]:bg-slate-50/45","[&_tbody_tr:hover]:bg-slate-100/70"].join(" ")}),!st&&Ht>0&&l.jsxs("div",{className:"mt-3 flex flex-col gap-2 rounded-2xl border border-border/70 bg-card/70 px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",Ho(dh),"-",Ho(fh)," of ",Ho(Ht)]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border/60 bg-background/80 px-2 py-1",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:"Per page"}),l.jsxs(gn,{value:String(R),onValueChange:ne=>{I(Number(ne)),W(1)},children:[l.jsx(Zr,{className:"h-7 w-[74px] rounded-full border-none bg-transparent px-2 text-xs shadow-none focus:ring-0",children:l.jsx(vn,{placeholder:"20"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"10",children:"10"}),l.jsx(kt,{value:"20",children:"20"}),l.jsx(kt,{value:"30",children:"30"}),l.jsx(kt,{value:"50",children:"50"})]})]})]}),l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>W(ne=>Math.max(1,ne-1)),disabled:M===1,children:"Previous"}),l.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Page ",Ho(M)," / ",Ho(Dt)]}),l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>W(ne=>Math.min(Dt,ne+1)),disabled:M>=Dt,children:"Next"})]})]})]})]})]}),hr?l.jsx("div",{className:"pointer-events-none absolute inset-0 z-20 flex items-center justify-center rounded-2xl bg-slate-900/10 backdrop-blur-sm",children:l.jsxs("div",{className:"space-y-2 rounded-2xl border border-slate-200/90 bg-white/90 px-5 py-4 text-center shadow-[0_18px_45px_-26px_rgba(15,23,42,0.45)]",children:[l.jsx(UT,{className:"mx-auto h-10 w-10 text-slate-700"}),l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Locked for Cane Sugar"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Change Product to Refined Sugar in Market Scope."})]})}):null]})]})]}),l.jsx(ru,{open:J,onOpenChange:ne=>{P(ne),ne||(ae(""),ie(null),B(null))},children:l.jsxs(Ll,{className:"sm:max-w-[540px]",children:[l.jsxs(Bl,{children:[l.jsx(Ul,{children:"Request company replacement"}),l.jsx(zl,{children:G?`Why do you want to replace "${G.name}"?`:"Please provide a reason."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:["Not relevant to current target","Duplicate company","Wrong market/country fit","Low potential"].map(ne=>l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full px-3 text-xs",onClick:()=>{ae(ne),ie(null)},children:ne},ne))}),l.jsx(fo,{value:z,onChange:ne=>{ae(ne.target.value),V&&ie(null)},placeholder:"Type reason (required)",className:"min-h-[110px] rounded-xl"}),V?l.jsx("p",{className:"text-xs text-destructive",children:V}):null]}),l.jsxs(W6,{children:[l.jsx(Ce,{type:"button",variant:"outline",onClick:()=>{P(!1),ae(""),ie(null),B(null)},children:"Cancel"}),l.jsx(Ce,{type:"button",onClick:de,children:"Submit request"})]})]})}),l.jsx(Qoe,{open:f,onOpenChange:ne=>{h(ne),ne||d(null)},company:Pe,country:Ae,hsCode:s,dateRangeLabel:tt||wt,tradeHistory:dt,tradeHistoryUsedFallback:_t,isLoading:st})]})}var Qb="Tabs",[YLe,MBe]=_a(Qb,[q1]),LH=q1(),[JLe,wj]=YLe(Qb),BH=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Am(o),[f,h]=Ri({prop:n,onChange:a,defaultProp:s??"",caller:Qb});return l.jsx(JLe,{scope:r,baseId:hs(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:l.jsx(rt.div,{dir:d,"data-orientation":i,...u,ref:t})})});BH.displayName=Qb;var UH="TabsList",zH=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=wj(UH,r),i=LH(r);return l.jsx(l8,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(rt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});zH.displayName=UH;var WH="TabsTrigger",HH=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=wj(WH,r),o=LH(r),c=qH(i.baseId,n),u=KH(i.baseId,n),d=n===i.value;return l.jsx(c8,{asChild:!0,...o,focusable:!a,active:d,children:l.jsx(rt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:$e(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:$e(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:$e(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});HH.displayName=WH;var VH="TabsContent",GH=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,o=wj(VH,r),c=qH(o.baseId,n),u=KH(o.baseId,n),d=n===o.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(_n,{present:a||d,children:({present:h})=>l.jsx(rt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});GH.displayName=VH;function qH(e,t){return`${e}-trigger-${t}`}function KH(e,t){return`${e}-content-${t}`}var QLe=BH,XH=zH,YH=HH,JH=GH;const QH=QLe,_j=w.forwardRef(({className:e,...t},r)=>l.jsx(XH,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_j.displayName=XH.displayName;const zs=w.forwardRef(({className:e,...t},r)=>l.jsx(YH,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));zs.displayName=YH.displayName;const Ws=w.forwardRef(({className:e,...t},r)=>l.jsx(JH,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ws.displayName=JH.displayName;const Pn=e=>typeof e=="number"?new Intl.NumberFormat("en-US").format(e):"",MD=e=>typeof e=="number"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e):"",$D=e=>typeof e=="number"?`${e.toFixed(1)}%`:"",gv=e=>{if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:null}return null},pc=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("en-US",{dateStyle:"medium"}).format(t)},di=e=>{if(!e)return;const t=e.trim(),r=t.toLowerCase();if(t&&!["-","--","n/a","na","none","null","undefined"].includes(r))return/^https?:\/\//i.test(t)?t:`https://${t}`},Vo=(...e)=>{for(const t of e){const r=t==null?void 0:t.trim();if(r)return r}},ZLe=(...e)=>{const t=e.map(n=>n==null?void 0:n.trim()).filter(n=>!!n);if(t.length===0)return;const r=n=>{const a=n.split(/\s+/).filter(Boolean).length,s=n.toUpperCase(),i=/(CNG TY|COMPANY|LIMITED|LTD|CORP|CORPORATION|CO\.)/.test(s),o=n.length<=12&&/^[A-Z0-9]+(?:[-/][A-Z0-9]+)+$/.test(n);let c=0;return n.length>=18&&(c+=4),a>=3&&(c+=4),i&&(c+=3),o&&(c-=6),c};return[...new Set(t)].sort((n,a)=>r(a)-r(n)||a.length-n.length)[0]},FD=e=>e.toLowerCase().replace(/[^a-z0-9]/g,""),Be=(e,t)=>{const r=Object.entries(e);for(const n of t){const a=FD(n),s=r.find(([o])=>FD(o)===a);if(!s)continue;const i=s[1];if(!(i==null||i===""))return i}},Xe=e=>{if(e==null)return null;if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return typeof e=="number"||typeof e=="boolean"?String(e):null},la=e=>{if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="string"){const t=e.replace(/,/g,"").trim();if(!t)return null;const r=Number(t);return Number.isFinite(r)?r:null}return null},vv=e=>e?e.code==="PGRST205"||e.code==="42P01"?!0:/could not find the table|relation .* does not exist|schema cache/i.test(e.message??""):!1,LD=e=>e?/column .* does not exist|could not find .*column|schema cache/i.test(e.message??""):!1,e8e=(e,t,r)=>{const n=Xe(Be(e,["company_id","companyid"]))??t;return{id:Xe(Be(e,["id","history_id","line_id"]))??`history-${n}-${r}`,company_id:n,date:Xe(Be(e,["date","trade_date","purchase_date","invoice_date","shipment_date","month"])),importer:Xe(Be(e,["importer","company_name","customer","buyer"])),exporter:Xe(Be(e,["exporter","supplier","vendor","counterparty"])),hs_code:Xe(Be(e,["hs_code","hscode","hs"])),product:Xe(Be(e,["product","product_name","item"])),product_description:Xe(Be(e,["product_description","description"])),origin_country:Xe(Be(e,["origin_country","supplier_country","origin"])),destination_country:Xe(Be(e,["destination_country","country","destination"])),total_price_usd:la(Be(e,["total_price_usd","value_usd","amount_usd","invoice_usd","usd"])),weight_kg:la(Be(e,["weight_kg","weightkg","weight","kg"])),quantity:la(Be(e,["quantity","qty","volume"])),unit_price_usd_kg:la(Be(e,["unit_price_usd_kg","usd_per_kg"])),unit_price_usd_qty:la(Be(e,["unit_price_usd_qty","usd_per_qty"])),quantity_unit:Xe(Be(e,["quantity_unit","unit"])),created_at:Xe(Be(e,["created_at","updated_at"]))}},t8e=(e,t,r)=>{const n=Xe(Be(e,["company_id","companyid"]))??t,a=Xe(Be(e,["exporter","supplier_name","supplier","vendor","counterparty"])),s=la(Be(e,["trades_sum","trades","trade_sum"])),i=la(Be(e,["trade_frequency_ratio","frequency_ratio","trade_freq_ratio"])),o=la(Be(e,["kg_weight","weight_kg","weightkg","weight","kg"])),c=la(Be(e,["weight_ratio"])),u=la(Be(e,["quantity","qty","volume"])),d=la(Be(e,["quantity_ratio","qty_ratio"])),f=la(Be(e,["total_price_usd","total_value_usd","value_usd","amount_usd","usd"])),h=la(Be(e,["total_price_ratio","value_ratio","usd_ratio"])),p=la(Be(e,["volume_mt","qty_mt","quantity_mt","mt"]));return{id:Xe(Be(e,["id","supplychain_id","line_id"]))??`supply-${n}-${r}`,company_id:n,exporter:a,importer:Xe(Be(e,["importer","buyer","customer","company_name"])),trades_sum:s,trade_frequency_ratio:i,kg_weight:o,weight_ratio:c,quantity:u,quantity_ratio:d,total_price_usd:f,total_price_ratio:h,supplier_name:a,supplier_country:Xe(Be(e,["supplier_country","origin_country","origin"])),relationship_type:Xe(Be(e,["relationship_type","relationship","type"])),product:Xe(Be(e,["product","product_name","item"])),hs_code:Xe(Be(e,["hs_code","hscode","hs"])),incoterm:Xe(Be(e,["incoterm","incoterms","terms"])),lead_time_days:la(Be(e,["lead_time_days","leadtime_days","lead_time","leadtime"])),risk_level:Xe(Be(e,["risk_level","risk","risk_tier"])),last_shipment_date:Xe(Be(e,["last_shipment_date","last_purchase_date","latest_date","date"])),volume_mt:p??(o!==null?o/1e3:null),total_value_usd:f,status:Xe(Be(e,["status"])),notes:Xe(Be(e,["notes","remark","remarks"])),created_at:Xe(Be(e,["created_at","updated_at"]))}},r8e=(e,t)=>({company_id:Xe(Be(e,["company_id","companyid"]))??t,company_name:Xe(Be(e,["company_name","name_en","name_standard","customer"])),name_standard:Xe(Be(e,["name_standard"])),name_en:Xe(Be(e,["name_en"])),location:Xe(Be(e,["location","country","customer_location"])),website:Xe(Be(e,["website","url","site"])),operating_status:Xe(Be(e,["operating_status","status"])),address:Xe(Be(e,["address"])),organization_type:Xe(Be(e,["organization_type","org_type"])),zip_code:Xe(Be(e,["zip_code","zipcode","postal_code"])),founded:Xe(Be(e,["founded","founded_year"])),employees:Xe(Be(e,["employees","employee_size"])),company_profile:Xe(Be(e,["company_profile","profile"])),twitter:Xe(Be(e,["twitter"])),instagram:Xe(Be(e,["instagram"])),facebook:Xe(Be(e,["facebook"])),created_at:Xe(Be(e,["created_at"])),updated_at:Xe(Be(e,["updated_at","created_at"]))}),BD=(e,t,r)=>{const n=Xe(Be(e,["company_id","companyid","companyId","customer_id","customerid","id"]))??t;return{id:Xe(Be(e,["id"]))??`contact-${n}-${r}`,company_id:n,name:Xe(Be(e,["name","contact_name","contact","full_name","fullname","contact_person","contactperson","person_name","representative","representative_name","owner_name","pic_name"])),position:Xe(Be(e,["position","job_title","title","role","designation"])),department:Xe(Be(e,["department","team","division","function"])),employment_date:Xe(Be(e,["employment_date","employment_year","joined_at"])),business_email:Xe(Be(e,["contact_email","business_email","email","company_email","work_email"])),supplement_email_1:Xe(Be(e,["contact_email_1","supplement_email_1","email_1","secondary_email"])),supplement_email_2:Xe(Be(e,["contact_email_2","supplement_email_2","email_2","alternate_email"])),social_media:Xe(Be(e,["social_media"])),tel:Xe(Be(e,["tel","phone","telephone","mobile","phone_number","contact_number"])),fax:Xe(Be(e,["fax"])),whatsapp:Xe(Be(e,["whatsapp"])),linkedin:Xe(Be(e,["linkedin"])),twitter:Xe(Be(e,["twitter"])),instagram:Xe(Be(e,["instagram"])),facebook:Xe(Be(e,["facebook"])),region:Xe(Be(e,["region","country"])),created_at:Xe(Be(e,["created_at","updated_at"]))}},Wh=e=>(e==null?void 0:e.trim().toLowerCase())??"",n8e=e=>(e??"").split(/[\s,;|]+/).map(t=>t.trim()).filter(Boolean),a8e=e=>{const t=e.toLowerCase();return t.includes("linkedin.com")?{label:"LinkedIn",Icon:_X}:t.includes("instagram.com")?{label:"Instagram",Icon:bX}:t.includes("facebook.com")?{label:"Facebook",Icon:gX}:t.includes("twitter.com")||t.includes("x.com")?{label:"X",Icon:IX}:t.includes("youtube.com")||t.includes("youtu.be")?{label:"YouTube",Icon:MX}:t.includes("whatsapp.com")||t.includes("wa.me")||t.includes("line.me")?{label:"Chat",Icon:EX}:{label:"Link",Icon:ro}},UD=e=>!!Vo(e.name,e.business_email,e.supplement_email_1,e.supplement_email_2,e.tel,e.whatsapp,e.fax,e.linkedin,e.twitter,e.instagram,e.facebook,e.social_media),s8e=(e,t,r)=>{const n=Xe(Be(e,["company_id","companyid"]))??t;return{id:Xe(Be(e,["id"]))??`company-email-${n}-${r}`,company_id:n,email:Xe(Be(e,["email","business_email","contact_email","work_email","company_email"])),importance:Xe(Be(e,["importance","priority"])),source_description:Xe(Be(e,["source_description","description"])),source:Xe(Be(e,["source"])),created_at:Xe(Be(e,["created_at","updated_at"]))}},i8e=e=>{const t=(e==null?void 0:e.trim().toLowerCase())??"";return t?t==="yellow"||t==="new"||t.includes("high potential")?{label:"High Potential",className:"rounded-full bg-amber-100 px-3 text-amber-900"}:t==="green"||t==="existing"||t.includes("general")||t==="active"?{label:"Existing",className:"rounded-full bg-emerald-100 px-3 text-emerald-900"}:{label:e??"Profile",className:"rounded-full bg-muted px-3 text-muted-foreground"}:{label:"Profile",className:"rounded-full bg-muted px-3 text-muted-foreground"}},an=({label:e,value:t})=>l.jsxs("div",{className:"grid gap-1 border-b border-border/55 py-3 sm:grid-cols-[180px_1fr] sm:items-center sm:gap-3 last:border-b-0",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-muted-foreground",children:e}),l.jsx("p",{className:"text-sm break-words text-foreground",children:t==null||t===""?"":String(t)})]}),ia=({label:e,value:t})=>l.jsxs("div",{className:"rounded-xl bg-muted/35 px-4 py-3",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-[0.11em] text-muted-foreground",children:e}),l.jsx("p",{className:"mt-1 text-xl font-semibold leading-none tracking-tight text-foreground",children:t})]}),zD=e=>typeof e!="number"||!Number.isFinite(e)?"":new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(e),o8e=(e,t)=>e&&t?"translateX(0%) scale(1)":e&&!t?"translateX(6%) scale(1.08)":!e&&t?"translateX(-6%) scale(1.08)":"translateX(0%) scale(1.06)",l8e=(e,t)=>e&&t?"Balanced view":e?"Focus on exporters":t?"Focus on importers":"Focus on company only",c8e=(e,t=26,r=3)=>{if(!e)return[""];const n=e.trim().split(/\s+/),a=[];let s="",i=0;for(let o=0;o<n.length;o+=1){const c=n[o],u=c.length>t?`${c.slice(0,t-1)}`:c,d=s?`${s} ${u}`:u;if(d.length<=t||!s){s=d,i=o+1;continue}if(a.push(s),s=u,i=o+1,a.length===r-1)break}return a.length<r&&s&&a.push(s),i<n.length&&a.length>0&&(a[a.length-1]=`${a[a.length-1]}...`),a.slice(0,r)},sn={bg:"#ffffff",laneLeft:"rgba(243, 181, 74, 0.06)",laneRight:"rgba(111, 152, 246, 0.06)",exporterRail:"#f3b54a",importerRail:"#6f98f6",exporterStroke:"rgba(243, 181, 74, 0.74)",exporterGlow:"rgba(243, 181, 74, 0.2)",importerStroke:"rgba(111, 152, 246, 0.74)",importerGlow:"rgba(111, 152, 246, 0.18)",text:"#0f172a",subText:"#475569",muted:"#9aa9bc"},u8e=({companyName:e,exporters:t,importers:r})=>{const n=RN(),[a,s]=w.useState(!0),[i,o]=w.useState(!1),c=r.length>0,u=a?t.slice(0,10):[],d=i?r.slice(0,10):[],f=Math.max(1,...u.map(_e=>_e.value)),h=Math.max(1,...d.map(_e=>_e.value)),p=o8e(a,i),g=l8e(a,i),m=a,v=i&&c,y=n?36:32,b=Math.max(u.length,d.length,3),x=b*y+(n?104:120),_=n?420:1e3,S=n?168:300,E=Math.max(n?122:154,Math.min(n?176:220,b*(n?20:24))),k=_/2-S/2,N=(x-E)/2,T=c8e(e,n?14:24,n?4:3),A=n?10:18,C=Math.max(0,k-A*2),j=n?24:104,R=k-j,I=k+S+j,M=R-(n?8:12),W=I+(n?8:9),K=R+(n?8:70),H=k-(n?6:18),O=k+S+(n?6:18),Z=I-(n?8:70),J=n?10:90,P=Math.max(n?82:160,k-A*2-J),G=A-2,B=_-P-(A-2),z=n?14:19,ae=n?12.5:17,V=n?11.5:16,ie=n?9.4:12.5,re=n?8.4:10.5,L=n?12.5:16,oe=A+C/2,D=k+S+A+C/2,le=(_e,pe)=>{if(pe<=1)return x/2;const Le=(pe-1)*y;return(x-Le)/2+_e*y},ye=(_e,pe)=>{if(pe<=1)return N+E/2;const Le=N+24,ze=N+E-24;return Le+(ze-Le)*_e/(pe-1)},Se=(_e,pe=n?15:24)=>_e.length>pe?`${_e.slice(0,pe-1)}`:_e;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:g}),l.jsxs("div",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 p-1",children:[l.jsx(Ce,{type:"button",size:"sm",variant:"ghost",className:a?"h-8 rounded-full border border-[#ffbd59] bg-[#ffbd59] px-3.5 text-xs font-semibold text-[#3b2a06] hover:bg-[#ffbd59]":"h-8 rounded-full px-3.5 text-xs font-medium text-muted-foreground hover:text-foreground",onClick:()=>s(_e=>!_e),children:"Exporters"}),l.jsx(Ce,{type:"button",size:"sm",variant:"ghost",className:i?"h-8 rounded-full border border-[#ffbd59] bg-[#ffbd59] px-3.5 text-xs font-semibold text-[#3b2a06] hover:bg-[#ffbd59]":"h-8 rounded-full px-3.5 text-xs font-medium text-muted-foreground hover:text-foreground",onClick:()=>o(_e=>!_e),children:"Importers"})]})]}),l.jsxs("div",{className:me("grid grid-cols-3 items-center text-center font-medium uppercase text-muted-foreground",n?"text-[9px] tracking-[0.08em]":"text-[10px] tracking-[0.14em]"),children:[l.jsx("span",{children:a?"Exporters":""}),l.jsx("span",{className:"truncate px-3",children:"Company"}),l.jsx("span",{children:i?"Importers":""})]}),l.jsx("div",{className:"relative overflow-hidden rounded-xl border border-border/40 bg-white",children:l.jsxs("svg",{viewBox:`0 0 ${_} ${x}`,className:"h-auto w-full",preserveAspectRatio:"xMidYMid meet",children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"flow-left-lane",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:sn.laneLeft}),l.jsx("stop",{offset:"100%",stopColor:"rgba(243, 181, 74, 0.01)"})]}),l.jsxs("linearGradient",{id:"flow-right-lane",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(111, 152, 246, 0.01)"}),l.jsx("stop",{offset:"100%",stopColor:sn.laneRight})]}),l.jsxs("linearGradient",{id:"flow-exporter-stroke",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:sn.exporterStroke}),l.jsx("stop",{offset:"100%",stopColor:"rgba(243, 181, 74, 0.24)"})]}),l.jsxs("linearGradient",{id:"flow-importer-stroke",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(111, 152, 246, 0.24)"}),l.jsx("stop",{offset:"100%",stopColor:sn.importerStroke})]}),l.jsx("clipPath",{id:"flow-left-text-clip",children:l.jsx("rect",{x:G,y:16,width:P,height:x-32})}),l.jsx("clipPath",{id:"flow-right-text-clip",children:l.jsx("rect",{x:B,y:16,width:P,height:x-32})}),l.jsx("filter",{id:"flow-soft-shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:l.jsx("feDropShadow",{dx:"0",dy:"8",stdDeviation:"8",floodColor:"rgba(15,23,42,0.12)"})}),l.jsx("style",{children:`
                .flow-exporter-core { animation: flowExporterPulse 2.4s ease-in-out infinite; }
                .flow-importer-core { animation: flowImporterPulse 2.4s ease-in-out infinite; }
                .flow-exporter-glow { animation: flowExporterGlow 2.4s ease-in-out infinite; }
                .flow-importer-glow { animation: flowImporterGlow 2.4s ease-in-out infinite; }
                @keyframes flowExporterPulse {
                  0%, 100% { stroke-width: var(--core-width); opacity: .9; }
                  50% { stroke-width: calc(var(--core-width) + 0.7px); opacity: 1; }
                }
                @keyframes flowImporterPulse {
                  0%, 100% { stroke-width: var(--core-width); opacity: .88; }
                  50% { stroke-width: calc(var(--core-width) + 0.7px); opacity: 1; }
                }
                @keyframes flowExporterGlow {
                  0%, 100% { opacity: .26; }
                  50% { opacity: .5; }
                }
                @keyframes flowImporterGlow {
                  0%, 100% { opacity: .2; }
                  50% { opacity: .42; }
                }
              `})]}),l.jsx("rect",{x:0,y:0,width:_,height:x,fill:sn.bg}),m&&l.jsx("rect",{x:A,y:16,width:C,height:x-32,rx:24,fill:"url(#flow-left-lane)"}),v&&l.jsx("rect",{x:k+S+A,y:16,width:C,height:x-32,rx:24,fill:"url(#flow-right-lane)"}),l.jsxs("g",{style:{transform:p,transformOrigin:`${_/2}px 50%`},className:"origin-center transition-transform duration-500 ease-out",children:[a&&l.jsx("rect",{x:k-1,y:N+20,width:4,height:E-40,fill:sn.exporterRail,rx:4}),i&&l.jsx("rect",{x:k+S-3,y:N+20,width:4,height:E-40,fill:sn.importerRail,rx:4}),T.map((_e,pe)=>l.jsx("text",{x:_/2,y:N+E/2-(T.length-1)*z/2+pe*z+2,textAnchor:"middle",fontSize:pe===0?ae:V,fontWeight:600,fill:sn.text,children:_e},`${_e}-${pe}`)),a&&u.length===0&&l.jsx("text",{x:oe,y:x/2+4,textAnchor:"middle",fontSize:L,fill:sn.muted,children:"No exporter data"}),i&&!c&&l.jsx("text",{x:D,y:x/2+4,textAnchor:"middle",fontSize:L,fill:sn.muted,children:"No Data"}),i&&c&&d.length===0&&l.jsx("text",{x:D,y:x/2+4,textAnchor:"middle",fontSize:L,fill:sn.muted,children:"No importer data"}),u.map((_e,pe)=>{const Le=le(pe,u.length),ze=ye(pe,u.length),nt=1.4+_e.value/f*4.2,at=`M ${R} ${Le} C ${K} ${Le}, ${H} ${ze}, ${k} ${ze}`;return l.jsxs("g",{children:[l.jsx("path",{d:at,stroke:sn.exporterGlow,strokeWidth:nt+5,fill:"none",strokeLinecap:"round",className:"flow-exporter-glow"}),l.jsx("path",{d:at,stroke:"url(#flow-exporter-stroke)",strokeWidth:nt,fill:"none",strokeLinecap:"round",className:"flow-exporter-core",style:{"--core-width":`${nt}px`}}),l.jsx("circle",{cx:R,cy:Le,r:n?2.4:2.9,fill:sn.exporterRail}),l.jsx("text",{x:M,y:Le+4,textAnchor:"end",fontSize:ie,fill:sn.text,fontWeight:500,clipPath:"url(#flow-left-text-clip)",children:Se(_e.name)}),l.jsx("text",{x:M,y:Le+(n?14:19),textAnchor:"end",fontSize:re,fill:sn.subText,clipPath:"url(#flow-left-text-clip)",children:zD(_e.value)})]},`exporter-${_e.name}-${pe}`)}),d.map((_e,pe)=>{const Le=le(pe,d.length),ze=ye(pe,d.length),nt=1.4+_e.value/h*4.2,at=`M ${k+S} ${ze} C ${O} ${ze}, ${Z} ${Le}, ${I} ${Le}`;return l.jsxs("g",{children:[l.jsx("path",{d:at,stroke:sn.importerGlow,strokeWidth:nt+5,fill:"none",strokeLinecap:"round",className:"flow-importer-glow"}),l.jsx("path",{d:at,stroke:"url(#flow-importer-stroke)",strokeWidth:nt,fill:"none",strokeLinecap:"round",className:"flow-importer-core",style:{"--core-width":`${nt}px`}}),l.jsx("circle",{cx:I,cy:Le,r:n?2.2:2.6,fill:sn.importerRail}),l.jsx("text",{x:W,y:Le+4,textAnchor:"start",fontSize:ie,fill:sn.text,fontWeight:500,clipPath:"url(#flow-right-text-clip)",children:Se(_e.name)}),l.jsx("text",{x:W,y:Le+(n?14:18),textAnchor:"start",fontSize:re,fill:sn.subText,clipPath:"url(#flow-right-text-clip)",children:zD(_e.value)})]},`importer-${_e.name}-${pe}`)})]})]})})]})},WD="rounded-2xl border border-border/60 bg-card",xv="rounded-2xl border border-border/60 bg-card",X_="rounded-lg border border-transparent px-3.5 py-2 text-sm font-medium text-muted-foreground transition hover:text-foreground data-[state=active]:border-[#ffbd59] data-[state=active]:bg-[#ffbd59] data-[state=active]:text-[#3b2a06]";function d8e(){var nt,at,yt;const{companyId:e=""}=FZ(),[t]=oN(),r=t.get("hs"),[n,a]=w.useState(!0),[s,i]=w.useState(null),[o,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState([]),[m,v]=w.useState([]),[y,b]=w.useState([]),[x,_]=w.useState([]),[S,E]=w.useState([]),[k,N]=w.useState(10),[T,A]=w.useState(1);w.useEffect(()=>{let Y=!0;return(async()=>{if(!e){i("Missing company reference."),a(!1);return}if(!Or||!Ee){i("Data connection is not configured."),a(!1);return}a(!0),i(null);try{const ge=async()=>{const je=await Ee.from("supabase_companies").select("*").eq("company_id",e).maybeSingle();if(!je.error)return je.data??null;if(!vv(je.error))throw je.error;const se=await Ee.from("companies").select("*").eq("company_id",e).maybeSingle();if(se.error&&!vv(se.error))throw se.error;return se.data??null},Re=async je=>{const se=await Ee.from(je).select("*").eq("company_id",e).maybeSingle();if(se.error){if(vv(se.error))return null;throw se.error}return se.data??null},ft=async(je,se)=>{for(const ve of je){const Ne=await Re(ve);if(Ne)return se?se(Ne):Ne}return null},$t=async(je,se,ve,Ne)=>{const Ve=["company_id","companyid","companyId","customer_id","customerid","id"];for(const Ye of Ve){let Ht=Ee.from(je).select("*").eq(Ye,e).order(se,{ascending:ve});typeof Ne=="number"&&(Ht=Ht.limit(Ne));let Dt=await Ht;if(Dt.error&&LD(Dt.error)){let Cr=Ee.from(je).select("*").eq(Ye,e);typeof Ne=="number"&&(Cr=Cr.limit(Ne)),Dt=await Cr}if(!Dt.error)return Dt.data??[];if(vv(Dt.error))return[];if(!LD(Dt.error))throw Dt.error}return[]},st=async(je,se,ve,Ne)=>{for(const Ve of je){const Ye=await $t(Ve,se,ve,Ne);if(Ye.length>0)return Ye}return[]},wt=async()=>(await st(["supabese-company_history","supabese_company_history","supabase_company_history","company_history","purchase_trend","purchase_trends"],"date",!1,1e3)).map((se,ve)=>e8e(se,e,ve)),Wt=async()=>(await st(["supabese-company_supplychain","supabese_company_supplychain","supabase_company_supplychain","company_supplychain","company_supply_chain"],"created_at",!1,1e3)).map((se,ve)=>t8e(se,e,ve)),Ct=async()=>{const ve=(await $t("company_contract","created_at",!0,300)).map((Ve,Ye)=>BD(Ve,e,Ye)).filter(UD).filter(Ve=>!!Wh(Ve.business_email)),Ne=new Map;return ve.forEach(Ve=>{const Ye=Wh(Ve.business_email);Ye&&(Ne.has(Ye)||Ne.set(Ye,Ve))}),Array.from(Ne.values()).sort((Ve,Ye)=>Wh(Ve.business_email).localeCompare(Wh(Ye.business_email)))},Ft=async()=>{const je=["company_email","company_emails","company_contact","company_contacts","company_contract"];for(const se of je){const ve=await $t(se,"created_at",!0,300);if(ve.length!==0)return ve.map((Ne,Ve)=>{const Ye=s8e(Ne,e,Ve);return{...Ye,source:Ye.source??se,source_description:Ye.source_description??se}}).filter(Ne=>!!Ne.email)}return[]},ce=async()=>{const se=(await $t("company_contract","created_at",!0,500)).map((Ne,Ve)=>BD(Ne,e,Ve)).filter(UD),ve=new Map;return se.forEach((Ne,Ve)=>{var Ht,Dt;const Ye=[Wh(Ne.business_email),((Ht=Ne.name)==null?void 0:Ht.trim().toLowerCase())??"",((Dt=Ne.position)==null?void 0:Dt.trim().toLowerCase())??"",String(Ve)].join("|");ve.has(Ye)||ve.set(Ye,Ne)}),Array.from(ve.values())},ht=async()=>ft(["company_basic_info","company_info"],je=>r8e(je,e)),[pt,Pe,Ge,Ae,dt,tt,_t,Vt]=await Promise.all([ge(),Re("company_overview"),ht(),Ct(),ce(),Ft(),wt(),Wt()]);if(!Y)return;!pt&&!Pe&&!Ge&&Ae.length===0&&tt.length===0&&_t.length===0&&Vt.length===0&&i("No profile data found for this company yet."),c(pt),d(Pe),h(Ge),g(Ae),v(dt),b(tt),_(_t),E(Vt)}catch(ge){console.error("Failed to load company profile page",ge),Y&&i("Unable to load company profile right now.")}finally{Y&&a(!1)}})(),()=>{Y=!1}},[e]);const C=w.useMemo(()=>{var Y;return ZLe(f==null?void 0:f.company_name,f==null?void 0:f.name_standard,f==null?void 0:f.name_en,o==null?void 0:o.customer_name,(Y=x[0])==null?void 0:Y.importer,o==null?void 0:o.customer)??Vo(u==null?void 0:u.company_id,e)??e},[f==null?void 0:f.company_name,f==null?void 0:f.name_en,f==null?void 0:f.name_standard,o==null?void 0:o.customer,o==null?void 0:o.customer_name,x,u==null?void 0:u.company_id,e]),j=w.useMemo(()=>Vo(f==null?void 0:f.location,o==null?void 0:o.location,o==null?void 0:o.customer_location),[f==null?void 0:f.location,o==null?void 0:o.location,o==null?void 0:o.customer_location]),R=w.useMemo(()=>Vo(f==null?void 0:f.website,o==null?void 0:o.website),[f==null?void 0:f.website,o==null?void 0:o.website]),I=w.useMemo(()=>di(R),[R]),M=w.useMemo(()=>(u==null?void 0:u.is_active)===!0?{label:"Active",className:"rounded-full bg-amber-100 px-3 text-amber-900"}:(u==null?void 0:u.is_active)===!1?{label:"Inactive",className:"rounded-full bg-rose-100 px-3 text-rose-800"}:i8e((o==null?void 0:o.status)??(o==null?void 0:o.value_tag)??null),[u==null?void 0:u.is_active,o==null?void 0:o.status,o==null?void 0:o.value_tag]),W=w.useMemo(()=>{var Re,ft,$t;if(x.length>0)return[];const Y=Vo(u==null?void 0:u.latest_purchase_date,o==null?void 0:o.latest_purchase_time,u==null?void 0:u.updated_at,o==null?void 0:o.created_at),be=gv(o==null?void 0:o.trades),ge=gv(u==null?void 0:u.purchase_value_last_12m);return!Y&&be===null&&ge===null?[]:[{id:`fallback-${e}`,company_id:e,date:Y??null,importer:C,exporter:((Re=u==null?void 0:u.core_suppliers)==null?void 0:Re[0])??null,hs_code:null,product:((ft=u==null?void 0:u.core_products)==null?void 0:ft[0])??(o==null?void 0:o.product)??null,product_description:Vo(o==null?void 0:o.product_description,u==null?void 0:u.business_overview)??null,origin_country:(($t=u==null?void 0:u.core_supplier_countries)==null?void 0:$t[0])??null,destination_country:j??null,total_price_usd:ge,weight_kg:be,quantity:be,unit_price_usd_kg:null,unit_price_usd_qty:null,quantity_unit:null,created_at:null}]},[x,u==null?void 0:u.latest_purchase_date,u==null?void 0:u.updated_at,u==null?void 0:u.purchase_value_last_12m,u==null?void 0:u.core_products,u==null?void 0:u.core_suppliers,u==null?void 0:u.core_supplier_countries,u==null?void 0:u.business_overview,o==null?void 0:o.latest_purchase_time,o==null?void 0:o.created_at,o==null?void 0:o.trades,o==null?void 0:o.product,o==null?void 0:o.product_description,e,C,j]),K=w.useMemo(()=>x.length>0?x:W,[x,W]),H=w.useMemo(()=>{if(!r)return K;const Y=r.replace(/\D+/g,"").slice(0,6);return Y?K.filter(be=>(be.hs_code??"").replace(/\D+/g,"").startsWith(Y)):K},[K,r]),O=w.useMemo(()=>r&&H.length>0?H:K,[K,H,r]),Z=w.useMemo(()=>!!(r&&H.length===0&&K.length>0),[K.length,H.length,r]),J=O.length,P=w.useMemo(()=>new Set(O.map(Y=>Y.exporter).filter(Boolean)).size,[O]),G=w.useMemo(()=>new Set(O.map(Y=>Y.origin_country).filter(Boolean)).size,[O]),B=w.useMemo(()=>new Set(O.map(Y=>Y.destination_country).filter(Boolean)).size,[O]),z=w.useMemo(()=>new Set(O.map(Y=>Y.product).filter(Boolean)).size,[O]),ae=w.useMemo(()=>O.map(Y=>Y.date).filter(Y=>!!Y).sort((Y,be)=>Y>be?-1:1)[0]??null,[O]),V=w.useMemo(()=>Math.max(1,Math.ceil(J/k)),[J,k]),ie=w.useMemo(()=>{const Y=(T-1)*k;return O.slice(Y,Y+k)},[O,T,k]),re=J===0?0:(T-1)*k+1,L=Math.min(T*k,J),oe=w.useMemo(()=>{const Y=new Map;return S.forEach(be=>{const ge=(be.exporter??be.supplier_name??"").trim();if(!ge)return;const Re=be.trades_sum??be.quantity??be.kg_weight??be.volume_mt??be.total_price_usd??0;Y.set(ge,(Y.get(ge)??0)+Re)}),Y.size===0&&O.forEach(be=>{const ge=(be.exporter??"").trim();if(!ge)return;const Re=be.quantity??be.weight_kg??be.total_price_usd??0;Y.set(ge,(Y.get(ge)??0)+Re)}),Array.from(Y.entries()).map(([be,ge])=>({name:be,value:ge})).sort((be,ge)=>ge.value-be.value).slice(0,10)},[S,O]),D=w.useMemo(()=>{const Y=new Map,be=C.trim().toLowerCase();return S.forEach(ge=>{const Re=(ge.importer??"").trim();if(!Re||Re.toLowerCase()===be)return;const ft=ge.trades_sum??ge.quantity??ge.kg_weight??ge.volume_mt??ge.total_price_usd??0;Y.set(Re,(Y.get(Re)??0)+ft)}),Array.from(Y.entries()).map(([ge,Re])=>({name:ge,value:Re})).sort((ge,Re)=>Re.value-ge.value).slice(0,10)},[C,S]);w.useEffect(()=>{A(1)},[r,e,k,J]),w.useEffect(()=>{T>V&&A(V)},[T,V]);const le=typeof(u==null?void 0:u.employee_size)=="number"?`The company has approximately ${Pn(u.employee_size)} employees.`:"Employee size is not available.",ye=gv((u==null?void 0:u.growth_rate_last_3m)??(u==null?void 0:u.recent_trends)??null),Se=gv((u==null?void 0:u.yoy_growth_rate)??(u==null?void 0:u.purchasing_trend)??null),_e=Vo(u==null?void 0:u.purchase_activity_label,u==null?void 0:u.purchase_activity),pe=w.useMemo(()=>{const Y=p[0],be=[{label:"Website",href:I,icon:ro,pattern:null},{label:"LinkedIn",href:di(Y==null?void 0:Y.linkedin),icon:ro,pattern:/linkedin\.com/i},{label:"Twitter",href:di((f==null?void 0:f.twitter)??(Y==null?void 0:Y.twitter)),icon:ro,pattern:/(twitter\.com|x\.com)/i},{label:"Instagram",href:di((f==null?void 0:f.instagram)??(Y==null?void 0:Y.instagram)),icon:ro,pattern:/instagram\.com/i},{label:"Facebook",href:di((f==null?void 0:f.facebook)??(Y==null?void 0:Y.facebook)),icon:ro,pattern:/facebook\.com/i}].filter(Re=>Re.href).filter(Re=>Re.pattern?Re.pattern.test(Re.href):!0),ge=new Map;return be.forEach(Re=>{Re.href&&(ge.has(Re.href)||ge.set(Re.href,Re))}),Array.from(ge.values())},[f==null?void 0:f.facebook,f==null?void 0:f.instagram,f==null?void 0:f.twitter,I,p]),Le=w.useMemo(()=>{const Y=y.map(ge=>{var Re;return{email:((Re=ge.email)==null?void 0:Re.trim())??"",source:ge.source_description??ge.source??ge.importance??"company_email"}}).filter(ge=>ge.email).filter(ge=>/\S+@\S+\.\S+/.test(ge.email)),be=new Map;return Y.forEach(ge=>{const Re=ge.email.toLowerCase();be.has(Re)||be.set(Re,ge)}),Array.from(be.values())},[y]),ze=w.useMemo(()=>{const Y=[{label:"Website",href:I},...p.flatMap(ge=>[{label:"LinkedIn",href:di(ge.linkedin)},{label:"Twitter",href:di(ge.twitter)},{label:"Instagram",href:di(ge.instagram)},{label:"Facebook",href:di(ge.facebook)}])].filter(ge=>ge.href),be=new Map;return Y.forEach(ge=>{ge.href&&(be.has(ge.href)||be.set(ge.href,{label:ge.label,href:ge.href}))}),Array.from(be.values())},[I,p]),xt=w.useMemo(()=>m.filter(Y=>!!Vo(Y.name,Y.position,Y.department,Y.employment_date,Y.business_email,Y.social_media,Y.region)),[m]);return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:C||"Company Profile"}),l.jsx("div",{className:"flex-1 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-5 md:pb-6",children:l.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-4",children:n?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ks,{className:"h-44 w-full rounded-[26px]"}),l.jsx(Ks,{className:"h-12 w-full rounded-2xl"}),l.jsx(Ks,{className:"h-72 w-full rounded-[26px]"})]}):s?l.jsx(Lt,{className:`${WD}`,children:l.jsx(Bt,{className:"p-6 text-sm text-muted-foreground",children:s})}):l.jsxs(l.Fragment,{children:[l.jsx(Lt,{className:`${WD}`,children:l.jsxs(Bt,{className:"space-y-5 p-5 sm:p-6",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Company"}),l.jsx("h2",{className:"mt-1 break-words text-2xl font-semibold tracking-tight text-foreground sm:text-[2rem]",children:C}),l.jsxs("p",{className:"mt-1 inline-flex items-center gap-1.5 text-sm text-muted-foreground",children:[l.jsx(SX,{className:"h-3.5 w-3.5"}),j||"Location not available"]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(sr,{variant:"secondary",className:M.className,children:M.label}),u!=null&&u.purchase_stability?l.jsx(sr,{variant:"outline",className:"rounded-full bg-background/80 px-3",children:u.purchase_stability}):null]})]}),l.jsxs("div",{className:"grid gap-2.5 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(ia,{label:"Total Purchase Value",value:MD(u==null?void 0:u.total_purchase_value)}),l.jsx(ia,{label:"Last 12 Months",value:MD(u==null?void 0:u.purchase_value_last_12m)}),l.jsx(ia,{label:"Purchase Frequency / Year",value:Pn(u==null?void 0:u.purchase_frequency_per_year)}),l.jsx(ia,{label:"Latest Purchase",value:pc((u==null?void 0:u.latest_purchase_date)||(o==null?void 0:o.latest_purchase_time))})]}),l.jsxs("div",{className:"grid gap-3 lg:grid-cols-2",children:[l.jsxs("div",{className:"rounded-2xl border border-border/60 bg-muted/20 p-4",children:[l.jsx("p",{className:"text-base font-semibold text-foreground",children:"Contact"}),l.jsxs("div",{className:"mt-2 space-y-0",children:[l.jsx(an,{label:"Company name",value:C}),l.jsx(an,{label:"Location",value:j}),l.jsx(an,{label:"Website",value:R}),l.jsx(an,{label:"Last profile update",value:pc((f==null?void 0:f.updated_at)||(u==null?void 0:u.updated_at)||(o==null?void 0:o.created_at))})]})]}),l.jsxs("div",{className:"rounded-2xl border border-border/60 bg-muted/20 p-4",children:[l.jsx("p",{className:"text-base font-semibold text-foreground",children:"Digital Channels"}),l.jsx("div",{className:"mt-2",children:pe.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No website or social channels available."}):l.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map(Y=>l.jsxs("a",{href:Y.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-background px-3 py-1.5 text-sm shadow-sm transition hover:bg-secondary",children:[l.jsx(Y.icon,{className:"h-3.5 w-3.5"}),Y.label]},`${Y.label}-${Y.href}`))})})]})]})]})}),l.jsxs(QH,{defaultValue:"overview",className:"w-full",children:[l.jsxs(_j,{className:"h-auto w-full justify-start gap-1.5 overflow-x-auto rounded-xl border border-border/60 bg-muted/30 p-1",children:[l.jsx(zs,{value:"overview",className:X_,children:"Overview"}),l.jsx(zs,{value:"company",className:X_,children:"Contact"}),l.jsx(zs,{value:"purchases",className:X_,children:"Purchase History"})]}),l.jsxs(Ws,{value:"overview",className:"mt-4 space-y-4",children:[l.jsxs(Lt,{className:xv,children:[l.jsx(tr,{className:"pb-2",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(rr,{className:"text-xl tracking-tight sm:text-2xl",children:"Business Overview"}),l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-sky-200 bg-sky-50 px-2.5 py-1 text-xs font-medium text-sky-800",children:[l.jsx(EF,{className:"h-3.5 w-3.5"}),"AI-generated"]})]})}),l.jsxs(Bt,{className:"space-y-0",children:[l.jsx(an,{label:"Company introduction",value:u==null?void 0:u.company_introduction}),l.jsx(an,{label:"Business summary",value:u==null?void 0:u.business_overview}),l.jsx(an,{label:"Operational insight",value:u==null?void 0:u.indicator_review}),l.jsx(an,{label:"Employee Size",value:le})]})]}),l.jsxs(Lt,{className:xv,children:[l.jsx(tr,{className:"pb-2",children:l.jsx(rr,{className:"text-xl tracking-tight sm:text-2xl",children:"Key Procurement Details"})}),l.jsxs(Bt,{className:"space-y-0",children:[l.jsx(an,{label:"Procurement summary",value:u==null?void 0:u.procurement_overview}),l.jsx(an,{label:"Procurement structure",value:u==null?void 0:u.procurement_structure}),l.jsx(an,{label:"Purchase activity",value:_e}),l.jsx(an,{label:"Average purchase interval (days)",value:Pn(u==null?void 0:u.purchase_interval_days)}),l.jsx(an,{label:"3-month growth",value:$D(ye)}),l.jsx(an,{label:"Year-over-year growth",value:$D(Se)}),l.jsx(an,{label:"Trade start date",value:pc(u==null?void 0:u.trade_start_date)}),l.jsx(an,{label:"Trade end date",value:pc(u==null?void 0:u.trade_end_date)}),l.jsx(an,{label:"Core products",value:(nt=u==null?void 0:u.core_products)==null?void 0:nt.join(", ")}),l.jsx(an,{label:"Main supplier countries",value:(at=u==null?void 0:u.core_supplier_countries)==null?void 0:at.join(", ")}),l.jsx(an,{label:"Key suppliers",value:(yt=u==null?void 0:u.core_suppliers)==null?void 0:yt.join(", ")})]})]})]}),l.jsx(Ws,{value:"company",className:"mt-4 space-y-4",children:l.jsxs(Lt,{className:xv,children:[l.jsxs(tr,{className:"pb-3",children:[l.jsx(rr,{className:"text-xl tracking-tight sm:text-2xl",children:"Contact Hub"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Company channels and key contact persons in one place."})]}),l.jsxs(Bt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-2.5 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(ia,{label:"Contact Persons",value:Pn(p.length)}),l.jsx(ia,{label:"Company Emails",value:Pn(Le.length)}),l.jsx(ia,{label:"Digital Channels",value:Pn(ze.length)}),l.jsx(ia,{label:"Last Update",value:pc((f==null?void 0:f.updated_at)||(f==null?void 0:f.created_at))})]}),l.jsxs("div",{className:"rounded-2xl border border-border/60 bg-muted/20 p-4 sm:p-5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Company Contact Profile"})]}),l.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{className:"rounded-xl bg-background/75 p-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-muted-foreground",children:"Company"}),l.jsx("p",{className:"mt-1 text-sm font-medium text-foreground",children:C})]}),l.jsxs("div",{className:"rounded-xl bg-background/75 p-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-muted-foreground",children:"Location"}),l.jsx("p",{className:"mt-1 text-sm font-medium text-foreground",children:j||""})]}),l.jsxs("div",{className:"rounded-xl bg-background/75 p-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-muted-foreground",children:"Website"}),I?l.jsxs("a",{href:I,target:"_blank",rel:"noreferrer",className:"mt-1 inline-flex items-center gap-1 text-sm font-medium text-foreground hover:underline",children:[R,l.jsx(mX,{className:"h-3.5 w-3.5"})]}):l.jsx("p",{className:"mt-1 text-sm font-medium text-foreground",children:""})]}),l.jsxs("div",{className:"rounded-xl bg-background/75 p-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-muted-foreground",children:"Operating Status"}),l.jsx("p",{className:"mt-1 text-sm font-medium text-foreground",children:(f==null?void 0:f.operating_status)||""})]}),l.jsxs("div",{className:"rounded-xl bg-background/75 p-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-muted-foreground",children:"Organization Type"}),l.jsx("p",{className:"mt-1 text-sm font-medium text-foreground",children:(f==null?void 0:f.organization_type)||""})]}),l.jsxs("div",{className:"rounded-xl bg-background/75 p-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-muted-foreground",children:"Founded"}),l.jsx("p",{className:"mt-1 text-sm font-medium text-foreground",children:(f==null?void 0:f.founded)||""})]})]}),Le.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-muted-foreground",children:"Official Email Directory"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Le.map(Y=>l.jsxs("a",{href:`mailto:${Y.email}`,className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-background px-3 py-1.5 text-xs text-foreground transition hover:bg-secondary",children:[l.jsx(zT,{className:"h-3.5 w-3.5"}),Y.email]},Y.email))})]}),ze.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-muted-foreground",children:"Company Channels"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ze.map(Y=>l.jsxs("a",{href:Y.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-background px-3 py-1.5 text-xs text-foreground transition hover:bg-secondary",children:[l.jsx(ro,{className:"h-3.5 w-3.5"}),Y.label]},`${Y.label}-${Y.href}`))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-base font-semibold text-foreground",children:"Contact Information"}),xt.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No contact records available."}):l.jsx("div",{className:"overflow-hidden rounded-2xl border border-border/60 bg-card",children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{className:"bg-muted/20",children:[l.jsx(He,{children:"Contact Name"}),l.jsx(He,{children:"Position"}),l.jsx(He,{children:"Department"}),l.jsx(He,{children:"Employment Date"}),l.jsx(He,{children:"Business Email"}),l.jsx(He,{children:"Social Media"}),l.jsx(He,{children:"Region"})]})}),l.jsx(mn,{children:xt.map((Y,be)=>{var ft;const ge=((ft=Y.business_email)==null?void 0:ft.trim())||"",Re=[...new Set(n8e(Y.social_media))].map($t=>di($t)).filter($t=>!!$t);return l.jsxs(Tt,{children:[l.jsx(Me,{className:"font-medium",children:Y.name||""}),l.jsx(Me,{children:Y.position||""}),l.jsx(Me,{children:Y.department||""}),l.jsx(Me,{children:Y.employment_date||""}),l.jsx(Me,{className:"max-w-[240px] truncate",title:ge||void 0,children:ge?l.jsx("a",{href:`mailto:${ge}`,className:"text-sm text-foreground hover:underline",children:ge}):""}),l.jsx(Me,{children:Re.length>0?l.jsx("div",{className:"flex items-center gap-1.5",children:Re.map($t=>{const{label:st,Icon:wt}=a8e($t);return l.jsx("a",{href:$t,target:"_blank",rel:"noreferrer",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border/70 bg-background text-muted-foreground transition hover:bg-secondary hover:text-foreground","aria-label":st,title:st,children:l.jsx(wt,{className:"h-3.5 w-3.5"})},`${Y.id??be}-${$t}`)})}):""}),l.jsx(Me,{children:Y.region||""})]},`${Y.id??Y.business_email??Y.name??"contact"}-${be}`)})})]})})]})]})]})}),l.jsx(Ws,{value:"purchases",className:"mt-4 space-y-4",children:l.jsxs(Lt,{className:xv,children:[l.jsxs(tr,{className:"pb-2",children:[l.jsx(rr,{className:"text-xl tracking-tight sm:text-2xl",children:"Purchase History"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase history for the past 12 months."})]}),l.jsxs(Bt,{className:"space-y-3",children:[l.jsxs("div",{className:"grid gap-2.5 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(ia,{label:"Records",value:Pn(J)}),l.jsx(ia,{label:"Suppliers",value:Pn(P)}),l.jsx(ia,{label:"Origin Countries",value:Pn(G)}),l.jsx(ia,{label:"Destination Markets",value:Pn(B)})]}),l.jsxs("div",{className:"grid gap-2.5 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsx(ia,{label:"Product Types",value:Pn(z)}),l.jsx(ia,{label:"Latest Trade",value:pc(ae)}),l.jsx(ia,{label:"HS Filter",value:r?r.replace(/\D+/g,"").slice(0,6)||"Applied":"All"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"mb-2",children:l.jsx("p",{className:"text-base font-semibold text-foreground",children:"Supply Chain Flow"})}),l.jsx(u8e,{companyName:C,exporters:oe,importers:D})]}),Z&&l.jsx("p",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"No rows matched the selected HS filter. Showing all available company history rows."}),O.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No purchase records available for this selection."}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 border-t border-border/50 pt-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs font-medium text-slate-600",children:[Pn(J)," visible records"]}),l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border/60 bg-background/80 px-2 py-1",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:"Per page"}),l.jsxs(gn,{value:String(k),onValueChange:Y=>N(Number(Y)),children:[l.jsx(Zr,{className:"h-7 w-[74px] rounded-full border-none bg-transparent px-2 text-xs shadow-none focus:ring-0",children:l.jsx(vn,{placeholder:"10"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"10",children:"10"}),l.jsx(kt,{value:"20",children:"20"}),l.jsx(kt,{value:"30",children:"30"}),l.jsx(kt,{value:"50",children:"50"})]})]})]})]}),l.jsx("div",{className:"overflow-hidden rounded-2xl border border-border/70 bg-card",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(hn,{className:"min-w-[1280px] text-sm",children:[l.jsx(pn,{children:l.jsxs(Tt,{className:"bg-slate-50/90 hover:bg-slate-50/90",children:[l.jsx(He,{className:"sticky left-0 z-20 w-[130px] min-w-[130px] bg-slate-50/90 font-semibold",children:"Date"}),l.jsx(He,{className:"w-[260px] min-w-[260px]",children:"Importer"}),l.jsx(He,{className:"w-[260px] min-w-[260px]",children:"Exporter"}),l.jsx(He,{className:"w-[120px] min-w-[120px]",children:"HS Code"}),l.jsx(He,{className:"w-[180px] min-w-[180px]",children:"Product"}),l.jsx(He,{className:"w-[280px] min-w-[280px]",children:"Product Description"}),l.jsx(He,{className:"w-[140px] min-w-[140px]",children:"Origin"}),l.jsx(He,{className:"w-[140px] min-w-[140px]",children:"Destination"})]})}),l.jsx(mn,{children:ie.map((Y,be)=>l.jsxs(Tt,{className:me("border-b border-slate-200/70 hover:bg-slate-100/70",be%2===0?"bg-white":"bg-slate-50/45"),children:[l.jsx(Me,{className:"sticky left-0 z-10 bg-inherit",children:pc(Y.date)}),l.jsx(Me,{className:"max-w-[260px] break-words",children:Y.importer??""}),l.jsx(Me,{className:"max-w-[260px] break-words",children:Y.exporter??""}),l.jsx(Me,{children:Y.hs_code??""}),l.jsx(Me,{className:"max-w-[180px] break-words",children:Y.product??""}),l.jsx(Me,{className:"max-w-[280px] text-muted-foreground",children:l.jsx("div",{className:"line-clamp-2 break-words leading-5",title:Y.product_description??"",children:Y.product_description??""})}),l.jsx(Me,{children:Y.origin_country??""}),l.jsx(Me,{children:Y.destination_country??""})]},Y.id??`${Y.company_id}-${Y.date??"na"}-${be}`))})]})})}),l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-border/70 bg-card/70 px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",Pn(re),"-",Pn(L)," of ",Pn(J)]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>A(Y=>Math.max(1,Y-1)),disabled:T===1,children:"Previous"}),l.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Page ",Pn(T)," / ",Pn(V)]}),l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>A(Y=>Math.min(V,Y+1)),disabled:T>=V,children:"Next"})]})]})]})]})]})})]})]})})})]})}function yv({title:e,value:t,subtitle:r,trend:n,icon:a,variant:s="default",className:i}){const o={up:"text-success",down:"text-destructive",neutral:"text-muted-foreground"},c=(n==null?void 0:n.direction)==="up"?WT:(n==null?void 0:n.direction)==="down"?TF:i0,u={default:"border-border",warning:"border-l-4 border-l-warning border-t border-r border-b border-border",success:"border-l-4 border-l-success border-t border-r border-b border-border",danger:"border-l-4 border-l-destructive border-t border-r border-b border-border"};return l.jsxs("div",{className:me("kpi-card animate-fade-in",u[s],i),children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),l.jsx("p",{className:"text-2xl font-semibold text-foreground",children:t}),r&&l.jsx("p",{className:"text-xs text-muted-foreground",children:r})]}),a&&l.jsx("div",{className:"p-2 rounded-lg bg-secondary",children:a})]}),n&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-3 pt-3 border-t border-border",children:[l.jsx(c,{className:me("h-4 w-4",o[n.direction])}),l.jsxs("span",{className:me("text-sm font-medium",o[n.direction]),children:[n.value>0?"+":"",n.value,"%"]}),n.label&&l.jsx("span",{className:"text-xs text-muted-foreground",children:n.label})]})]})}const f8e={urgent:{icon:NF,bg:"bg-red-50",border:"border-l-red-500",iconColor:"text-red-500",title:"text-red-900"},warning:{icon:LT,bg:"bg-amber-50",border:"border-l-amber-500",iconColor:"text-amber-500",title:"text-amber-900"},watch:{icon:Zd,bg:"bg-slate-50",border:"border-l-slate-400",iconColor:"text-slate-500",title:"text-slate-900"}};function h8e({severity:e,title:t,description:r,action:n,onClick:a,className:s}){const i=f8e[e],o=i.icon;return l.jsxs("div",{className:me("flex items-start gap-3 p-4 rounded-r-lg border-l-4 transition-all",i.bg,i.border,a&&"cursor-pointer hover:shadow-sm",s),onClick:a,children:[l.jsx(o,{className:me("h-5 w-5 mt-0.5 flex-shrink-0",i.iconColor)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:me("font-medium text-sm",i.title),children:t}),l.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:r})]}),(n||a)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-muted-foreground",children:[n&&l.jsx("span",{children:n}),l.jsx(Ii,{className:"h-4 w-4"})]})]})}var Zb="Popover",[ZH,$Be]=_a(Zb,[Ql]),tg=Ql(),[p8e,lc]=ZH(Zb),eV=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,o=tg(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=Ri({prop:n,defaultProp:a??!1,onChange:s,caller:Zb});return l.jsx(O1,{...o,children:l.jsx(p8e,{scope:t,contentId:hs(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:i,children:r})})};eV.displayName=Zb;var tV="PopoverAnchor",m8e=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lc(tV,r),s=tg(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=a;return w.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(Tm,{...s,...n,ref:t})});m8e.displayName=tV;var rV="PopoverTrigger",nV=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lc(rV,r),s=tg(r),i=It(t,a.triggerRef),o=l.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":lV(a.open),...n,ref:i,onClick:$e(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:l.jsx(Tm,{asChild:!0,...s,children:o})});nV.displayName=rV;var Sj="PopoverPortal",[g8e,v8e]=ZH(Sj,{forceMount:void 0}),aV=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=lc(Sj,t);return l.jsx(g8e,{scope:t,forceMount:r,children:l.jsx(_n,{present:r||s.open,children:l.jsx(vu,{asChild:!0,container:a,children:n})})})};aV.displayName=Sj;var Rf="PopoverContent",sV=w.forwardRef((e,t)=>{const r=v8e(Rf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=lc(Rf,e.__scopePopover);return l.jsx(_n,{present:n||s.open,children:s.modal?l.jsx(y8e,{...a,ref:t}):l.jsx(b8e,{...a,ref:t})})});sV.displayName=Rf;var x8e=Il("PopoverContent.RemoveScroll"),y8e=w.forwardRef((e,t)=>{const r=lc(Rf,e.__scopePopover),n=w.useRef(null),a=It(t,n),s=w.useRef(!1);return w.useEffect(()=>{const i=n.current;if(i)return K1(i)},[]),l.jsx(Rm,{as:x8e,allowPinchZoom:!0,children:l.jsx(iV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),b8e=w.forwardRef((e,t)=>{const r=lc(Rf,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return l.jsx(iV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),iV=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=lc(Rf,r),p=tg(r);return G1(),l.jsx(Om,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(gu,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(P1,{"data-state":lV(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oV="PopoverClose",w8e=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lc(oV,r);return l.jsx(rt.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});w8e.displayName=oV;var _8e="PopoverArrow",S8e=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=tg(r);return l.jsx(R1,{...a,...n,ref:t})});S8e.displayName=_8e;function lV(e){return e?"open":"closed"}var k8e=eV,E8e=nV,T8e=aV,cV=sV;const N8e=k8e,C8e=E8e,uV=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>l.jsx(T8e,{children:l.jsx(cV,{ref:a,align:t,sideOffset:r,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));uV.displayName=cV.displayName;const HD="trade-performance-visible-sections-v1",VD=[{id:"kpiCards",title:"KPI Cards",description:"Delivered Tons, Backlog Tons, Overdue Contracts, Invoice USD"},{id:"deliveredTrend",title:"Delivered Tons Trend",description:"Vertical bar chart by month"},{id:"topCustomers",title:"Top Customer Tables",description:"Top customers by Tons and USD"},{id:"salesByProduct",title:"Sale by Product (Tons)",description:"Horizontal bar chart"},{id:"overdueContracts",title:"Overdue Contracts Table",description:"Contracts that need follow-up"}],GD=["kpiCards","deliveredTrend","topCustomers","salesByProduct","overdueContracts"],bv={fontSize:11},kj="rounded-2xl border border-border/70 bg-card shadow-[0_1px_2px_rgba(15,23,42,0.05)]",Jo=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0},fi=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:1}).format(e),qD=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e),j8e=e=>{if(!e)return null;const t=e.match(/^(\d{4})-(\d{2})/);if(t){const n=Number(t[1]),a=Number(t[2]);if(n>0&&a>=1&&a<=12)return`${n}-${String(a).padStart(2,"0")}`}const r=new Date(e);return Number.isNaN(r.getTime())?null:`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`},A8e=e=>{const[t,r]=e.split("-").map(Number);return new Date(t,(r||1)-1,1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})},DE=e=>{if(!e)return null;const t=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(t){const[,n,a,s]=t;return new Date(Number(n),Number(a)-1,Number(s)).getTime()}const r=new Date(e);return Number.isNaN(r.getTime())?null:(r.setHours(0,0,0,0),r.getTime())},O8e=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},KD=(e,t)=>{const r=e.status.trim().toLowerCase(),n=Math.max(0,Jo(e.ton)-Jo(e.acc));if(r.includes("overdue"))return!0;const a=DE(e.dateTo??null);return r.includes("pending")&&a!==null&&a<t&&n>0};function wv({label:e,value:t}){return l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background/70 px-4 py-3",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-[0.08em] text-muted-foreground",children:e}),l.jsx("p",{className:"mt-1 text-xl font-semibold text-foreground",children:t})]})}function XD({title:e,description:t,children:r}){return l.jsxs("section",{className:me(kj,"px-4 py-4 md:px-5 md:py-5"),children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-base font-semibold tracking-tight text-foreground",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),r]})}function YD({message:e="No data available"}){return l.jsx("div",{className:"flex h-[260px] items-center justify-center rounded-xl border border-dashed border-border/70 bg-muted/10 text-sm text-muted-foreground",children:e})}function JD({title:e,unitLabel:t,rows:r,valueFormatter:n}){return l.jsxs("section",{className:me(kj,"px-4 py-4"),children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h4",{className:"text-sm font-semibold text-foreground",children:e}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t})]}),r.length===0?l.jsx("div",{className:"rounded-xl border border-dashed border-border/70 bg-muted/10 px-4 py-10 text-center text-sm text-muted-foreground",children:"No data available"}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-border/70",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Customer"}),l.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wide text-slate-600",children:t})]})}),l.jsx("tbody",{children:r.map(a=>l.jsxs("tr",{className:"border-t border-border/60",children:[l.jsx("td",{className:"px-3 py-2.5",children:a.label}),l.jsx("td",{className:"px-3 py-2.5 text-right font-medium",children:n(a.value)})]},`${a.label}-${a.value}`))})]})})]})}function P8e({contractRows:e,stockRows:t,invoiceRows:r,deliveryRows:n,loading:a=!1}){const[s,i]=w.useState(GD);w.useEffect(()=>{if(typeof window>"u")return;const b=window.localStorage.getItem(HD);if(b)try{const x=JSON.parse(b);if(!Array.isArray(x)||x.length===0)return;const _=x.filter(S=>VD.some(E=>E.id===S));_.length>0&&i(_)}catch{}},[]),w.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(HD,JSON.stringify(s))},[s]);const o=w.useMemo(()=>new Date().setHours(0,0,0,0),[]),c=w.useMemo(()=>e.map(b=>{var E,k;const x=Jo(b.ton),_=Jo(b.acc),S=Math.max(0,x-_);return{...b,ton:x,delivered:_,backlog:S,customer:((E=b.customer)==null?void 0:E.trim())||"Unknown customer",product:((k=b.product)==null?void 0:k.trim())||"Unknown product"}}),[e]),u=w.useMemo(()=>{const b=n.reduce((E,k)=>E+Jo(k.quantity),0),x=c.reduce((E,k)=>E+k.backlog,0),_=c.filter(E=>KD(E,o)).length,S=r.reduce((E,k)=>E+Jo(k.usd),0);return{deliveredTons:b,backlogTons:x,overdueContracts:_,invoiceUsd:S}},[n,r,c,o]),d=w.useMemo(()=>{const b=new Set,x=new Map;return n.forEach(S=>{const E=j8e(S.deliveryDate);E&&(b.add(E),x.set(E,(x.get(E)??0)+Jo(S.quantity)))}),[...b].sort((S,E)=>S.localeCompare(E)).slice(-12).map(S=>({month:S,label:A8e(S),deliveredTons:x.get(S)??0}))},[n]),f=w.useMemo(()=>{const b=new Map;return c.forEach(x=>{b.set(x.customer,(b.get(x.customer)??0)+x.ton)}),[...b.entries()].map(([x,_])=>({label:x,value:_})).sort((x,_)=>_.value-x.value).slice(0,8)},[c]),h=w.useMemo(()=>{const b=new Map;return r.forEach(x=>{var S;const _=((S=x.customerName)==null?void 0:S.trim())||"Unknown customer";b.set(_,(b.get(_)??0)+Jo(x.usd))}),[...b.entries()].map(([x,_])=>({label:x,value:_})).sort((x,_)=>_.value-x.value).slice(0,8)},[r]),p=w.useMemo(()=>{const b=new Map;return c.forEach(x=>{b.set(x.product,(b.get(x.product)??0)+x.ton)}),[...b.entries()].map(([x,_])=>({label:x,value:_})).sort((x,_)=>_.value-x.value).slice(0,10)},[c]),g=w.useMemo(()=>c.filter(b=>KD(b,o)).map(b=>({id:b.id,contractId:b.contractId,customer:b.customer,dueDate:b.dateTo??null,backlogTon:b.backlog,status:b.status||"Overdue"})).sort((b,x)=>{const _=DE(b.dueDate),S=DE(x.dueDate);return _===null&&S===null?x.backlogTon-b.backlogTon:_===null?1:S===null?-1:_-S}),[c,o]),m=w.useMemo(()=>[{key:"contractId",header:"Contract",render:b=>l.jsx("span",{className:"font-medium",children:b.contractId||"-"})},{key:"customer",header:"Customer",render:b=>l.jsx("span",{children:b.customer})},{key:"dueDate",header:"Due Date",render:b=>l.jsx("span",{children:O8e(b.dueDate)})},{key:"backlogTon",header:"Backlog Tons",align:"right",render:b=>l.jsx("span",{className:"font-medium",children:fi(b.backlogTon)})},{key:"status",header:"Status",render:b=>l.jsx(sr,{variant:"secondary",className:"rounded-full bg-amber-100 text-amber-900",children:b.status})}],[]),v=b=>s.includes(b),y=(b,x)=>{if(x===!0){i(S=>S.includes(b)?S:[...S,b]);return}i(S=>!S.includes(b)||S.length===1?S:S.filter(E=>E!==b))};return l.jsxs("section",{className:"rounded-2xl border bg-card/95 p-4 shadow-sm md:p-5",children:[l.jsxs("div",{className:"mb-5 flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Trade Performance Dashboard"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the view by business function."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(sr,{variant:"secondary",className:"gap-1",children:[l.jsx(wX,{className:"h-3.5 w-3.5"}),s.length," sections"]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"gap-1.5",onClick:()=>i(GD),children:[l.jsx(wx,{className:"h-3.5 w-3.5"}),"Reset"]}),l.jsxs(N8e,{children:[l.jsx(C8e,{asChild:!0,children:l.jsxs(Ce,{type:"button",size:"sm",className:"gap-1.5",children:[l.jsx(kF,{className:"h-3.5 w-3.5"}),"Customize View"]})}),l.jsxs(uV,{align:"end",className:"w-[350px] space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:"Choose Sections"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"At least one section must remain visible."})]}),l.jsx("div",{className:"space-y-3",children:VD.map(b=>{const x=s.includes(b.id);return l.jsxs("label",{className:"flex cursor-pointer items-start gap-3",children:[l.jsx(sb,{checked:x,onCheckedChange:_=>y(b.id,_),className:"mt-0.5 border-slate-300 data-[state=unchecked]:bg-slate-100"}),l.jsxs("div",{className:me(!x&&"text-slate-400"),children:[l.jsx("p",{className:me("text-sm font-medium leading-tight",!x&&"text-slate-500"),children:b.title}),l.jsx("p",{className:me("text-xs text-muted-foreground",!x&&"text-slate-400"),children:b.description})]})]},b.id)})})]})]})]})]}),a?l.jsx("div",{className:"rounded-2xl border border-dashed border-border/70 bg-muted/10 px-4 py-16 text-center text-sm text-muted-foreground",children:"Loading dashboard data..."}):l.jsxs("div",{className:"space-y-5",children:[v("kpiCards")&&l.jsxs("section",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[l.jsx(wv,{label:"Delivered Tons",value:fi(u.deliveredTons)}),l.jsx(wv,{label:"Backlog Tons",value:fi(u.backlogTons)}),l.jsx(wv,{label:"Overdue Contracts",value:fi(u.overdueContracts)}),l.jsx(wv,{label:"Invoice USD",value:qD(u.invoiceUsd)})]}),v("deliveredTrend")&&l.jsx(XD,{title:"Delivered Tons Trend",description:"Monthly delivered tons (Vertical Bar)",children:d.length===0?l.jsx(YD,{}):l.jsx("div",{className:"h-[280px] w-full",children:l.jsx(ay,{width:"100%",height:"100%",children:l.jsxs(yI,{data:d,margin:{top:8,right:12,left:8,bottom:0},children:[l.jsx(oE,{stroke:"hsl(var(--border))",strokeDasharray:"2 4",vertical:!1}),l.jsx(Hl,{dataKey:"label",tickLine:!1,axisLine:!1,tick:bv}),l.jsx(Vl,{tickLine:!1,axisLine:!1,tick:bv,tickFormatter:b=>fi(b)}),l.jsx(Ba,{formatter:b=>`${fi(b)} Tons`}),l.jsx(Wl,{dataKey:"deliveredTons",fill:"#ffbd59",radius:[8,8,0,0],maxBarSize:34,children:l.jsx(Ai,{dataKey:"deliveredTons",position:"top",formatter:b=>fi(b),style:{fill:"#475569",fontSize:11,fontWeight:600}})})]})})})}),v("topCustomers")&&l.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[l.jsx(JD,{title:"Top Customers by Tons (Operation)",unitLabel:"Tons",rows:f,valueFormatter:b=>fi(b)}),l.jsx(JD,{title:"Top Customers by USD (Finance)",unitLabel:"USD",rows:h,valueFormatter:b=>qD(b)})]}),v("salesByProduct")&&l.jsx(XD,{title:"Sale by Product (Tons)",description:"Horizontal bar chart by product",children:p.length===0?l.jsx(YD,{}):l.jsx("div",{className:"h-[300px] w-full",children:l.jsx(ay,{width:"100%",height:"100%",children:l.jsxs(yI,{data:p,layout:"vertical",margin:{top:8,right:12,left:38,bottom:0},children:[l.jsx(oE,{stroke:"hsl(var(--border))",strokeDasharray:"2 4",vertical:!1}),l.jsx(Hl,{type:"number",tickLine:!1,axisLine:!1,tick:bv,tickFormatter:b=>fi(b)}),l.jsx(Vl,{type:"category",dataKey:"label",tickLine:!1,axisLine:!1,width:130,tick:bv,tickFormatter:b=>b.length>18?`${b.slice(0,15)}...`:b}),l.jsx(Ba,{formatter:b=>`${fi(b)} Tons`}),l.jsx(Wl,{dataKey:"value",fill:"#334155",radius:[999,999,999,999],barSize:18})]})})})}),v("overdueContracts")&&l.jsxs("section",{className:me(kj,"overflow-hidden"),children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h3",{className:"text-base font-semibold tracking-tight text-foreground",children:"Overdue Contracts Table"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Contracts with overdue status or overdue pending backlog."})]}),l.jsx("div",{className:"p-0",children:l.jsx(V1,{columns:m,data:g,emptyMessage:"No overdue contracts.",className:["rounded-none border-0 shadow-none","[&_table]:min-w-[860px] [&_table]:border-separate [&_table]:border-spacing-0","[&_thead_tr]:border-b [&_thead_tr]:border-slate-200/70 [&_thead_tr]:bg-slate-50/90","[&_th]:px-5 [&_th]:py-3.5 [&_th]:text-[12px] [&_th]:font-semibold [&_th]:tracking-[0.01em] [&_th]:text-slate-600","[&_td]:px-5 [&_td]:py-4 [&_td]:align-middle [&_td]:text-[13px] sm:[&_td]:text-sm","[&_tbody_tr]:border-b [&_tbody_tr]:border-slate-200/70","[&_tbody_tr:nth-child(odd)]:bg-white [&_tbody_tr:nth-child(even)]:bg-slate-50/45","[&_tbody_tr:hover]:bg-slate-100/70"].join(" ")})})]})]})]})}const mc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0},Y_=(e,t)=>{var r;return e?Array.isArray(e)?((r=e[0])==null?void 0:r[t])??null:e[t]??null:null},QD=e=>(e??"-").trim().toUpperCase(),ME=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e),J_=e=>`${ME(e)} MT`,R8e=e=>Math.abs(e)>=1e9?`$${(e/1e9).toFixed(2)}B`:Math.abs(e)>=1e6?`$${(e/1e6).toFixed(2)}M`:Math.abs(e)>=1e3?`$${(e/1e3).toFixed(1)}K`:`$${e.toFixed(0)}`,ZD=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},Hh=e=>{if(!e)return null;const t=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(t){const[,n,a,s]=t;return new Date(Number(n),Number(a)-1,Number(s)).getTime()}const r=new Date(e);return Number.isNaN(r.getTime())?null:(r.setHours(0,0,0,0),r.getTime())},I8e=e=>{const t=e.trim().toLowerCase();return t.includes("overdue")?l.jsx(ha,{status:"error",label:"Overdue",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):t.includes("pending")?l.jsx(ha,{status:"pending",label:"Pending",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):t.includes("complete")?l.jsx(ha,{status:"success",label:"Complete",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):l.jsx(ha,{status:"neutral",label:e||"Unknown",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"})};function D8e(){const e=Ao(),{email:t}=Pa(),[r,n]=w.useState([]),[a,s]=w.useState([]),[i,o]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(!0),[g,m]=w.useState(null);w.useEffect(()=>{let _=!1;return(async()=>{var W,K,H,O;if(!Or||!Ee){_||(m("Supabase is not configured."),p(!1));return}p(!0),m(null);const[E,k,N,T,A]=await Promise.all([Ee.from("contract_lines").select("line_id, contract_id, job, product, team, status, ton, acc, date_to, contracts(customer, type, contractdate)").order("date_to",{ascending:!1}),Ee.from("stock").select("stock_id, factory, qty, tag, type"),Ee.from("finance_invoices").select("id, invoice_date, status_type, usd, total_invoice, tons, customer_name, fac").order("invoice_date",{ascending:!1}),Ee.from("deliveries").select("delivery_id, contract_id, job, delivery_date, quantity").order("delivery_date",{ascending:!1}),Ee.from("your_product_requests").select("id, customer_email, product_name, status, updated_at").order("updated_at",{ascending:!1})]);if(_)return;if(E.error||k.error||N.error||T.error){m(((W=E.error)==null?void 0:W.message)??((K=k.error)==null?void 0:K.message)??((H=N.error)==null?void 0:H.message)??((O=T.error)==null?void 0:O.message)??"Failed to load trade performance data."),n([]),s([]),o([]),u([]),f([]),p(!1);return}const C=(E.data??[]).map((Z,J)=>{const P=mc(Z.ton),G=mc(Z.acc),B=Y_(Z.contracts,"customer")??"Unknown customer",z=Y_(Z.contracts,"type")??"-",ae=Y_(Z.contracts,"contractdate");return{id:Z.line_id??`${Z.contract_id??"contract"}-${J}`,customer:B,contractId:Z.contract_id??"-",commitDate:ae,status:Z.status??"Unknown",ton:P,acc:G,product:Z.product??"-",job:Z.job??"-",team:Z.team??"-",contractType:z,dateTo:Z.date_to??null,remainingTon:P-G}}),j=(k.data??[]).map((Z,J)=>({id:String(Z.stock_id??J),factory:QD(Z.factory),qty:mc(Z.qty),tag:(Z.tag??"-").trim()||"-",type:(Z.type??"-").trim()||"-"})),R=(N.data??[]).map((Z,J)=>({id:Z.id??`invoice-${J}`,invoiceDate:Z.invoice_date??null,statusType:Z.status_type??"Unknown",usd:mc(Z.usd)||mc(Z.total_invoice),tons:mc(Z.tons),customerName:Z.customer_name??"Unknown customer",factory:QD(Z.fac)})),I=(T.data??[]).map((Z,J)=>({id:Z.delivery_id??`delivery-${J}`,deliveryDate:Z.delivery_date??null,quantity:mc(Z.quantity),contractId:Z.contract_id,job:Z.job})),M=(A.data??[]).filter(Z=>{const J=(Z.customer_email??"").trim().toLowerCase(),P=(t??"").trim().toLowerCase();return P?J===P:!0}).map((Z,J)=>({id:Z.id??`your-product-${J}`,customer_email:Z.customer_email,product_name:Z.product_name,status:Z.status,updated_at:Z.updated_at}));n(C),s(j),o(R),u(I),f(M),p(!1)})(),()=>{_=!0}},[t]);const v=w.useMemo(()=>{const _=r.reduce((T,A)=>T+A.ton,0),S=r.reduce((T,A)=>T+A.acc,0),E=a.reduce((T,A)=>T+A.qty,0),k=i.reduce((T,A)=>T+A.usd,0),N=_>0?S/_*100:0;return{totalCommitTon:_,totalDeliveredTon:S,totalInventory:E,totalInvoiceUsd:k,completionRate:N}},[r,a,i]),y=w.useMemo(()=>{const _=[],S=new Date().setHours(0,0,0,0),E=r.filter(A=>{const C=A.status.toLowerCase();if(C.includes("overdue"))return!0;const j=Hh(A.dateTo);return C.includes("pending")&&j!==null&&j<S&&A.remainingTon>0});if(E.length>0){const A=E.map(C=>C.dateTo).filter(Boolean).sort((C,j)=>(Hh(C)??0)-(Hh(j)??0))[0]??null;_.push({severity:"urgent",title:`${E.length} Orders & Shipments overdue`,description:`Earliest overdue date: ${ZD(A)}`,action:"Open orders",href:"/my-company/orders?attention=overdue-orders"})}const k=d.filter(A=>(A.status??"").trim().toUpperCase()==="NEED_MORE_INFO"),N=d.filter(A=>(A.status??"").trim().toUpperCase()==="PENDING_REVIEW"),T=d.filter(A=>{const C=(A.status??"").trim().toUpperCase();return C==="READY"||C==="UNLOCKED"});return k.length>0&&_.push({severity:"urgent",title:`YOUR Product: ${k.length} need more info`,description:"Update product details and submit again for ORIGO review.",action:"Open YOUR Product",href:"/upload/your-product"}),N.length>0&&_.push({severity:"warning",title:`YOUR Product: ${N.length} pending review`,description:"ORIGO review is in progress.",action:"Open YOUR Product",href:"/upload/your-product"}),T.length>0&&_.push({severity:"watch",title:`YOUR Product: ${T.length} ready`,description:"Opportunity preview is available.",action:"Open YOUR Product",href:"/upload/your-product"}),_.length===0&&_.push({severity:"watch",title:"No alerts detected",description:"No overdue orders or YOUR Product status alerts at this time.",action:"Monitor"}),_},[r,d]),b=w.useMemo(()=>[...r].sort((_,S)=>(Hh(S.commitDate)??0)-(Hh(_.commitDate)??0)).slice(0,5).map(_=>({id:_.id,customer:_.customer,contractId:_.contractId,commitDate:_.commitDate,job:_.job,team:_.team,commitTon:_.ton,remainingTon:_.remainingTon,status:_.status})),[r]),x=w.useMemo(()=>[{key:"job",header:"Job",render:_=>l.jsxs("div",{children:[l.jsx("button",{type:"button",className:"font-medium text-primary underline-offset-2 hover:underline",onClick:()=>e(`/my-company/orders?job=${encodeURIComponent(_.job)}`),children:_.job}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Team: ",_.team]})]})},{key:"customer",header:"Customer",render:_=>l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:_.customer}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Contract: ",_.contractId]})]})},{key:"commitTon",header:"Commit (MT)",align:"right",render:_=>l.jsxs("span",{className:"font-medium",children:[ME(_.commitTon)," MT"]})},{key:"remainingTon",header:"Balance (MT)",align:"right",render:_=>l.jsxs("span",{children:[ME(_.remainingTon)," MT"]})},{key:"status",header:"Status",align:"center",render:_=>I8e(_.status)},{key:"commitDate",header:"Commit Date",render:_=>l.jsx("span",{className:"text-muted-foreground",children:ZD(_.commitDate)})}],[e]);return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Trade Performance",subtitle:`Live trade snapshot  Updated ${new Date().toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}`}),l.jsxs("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[g?l.jsx("section",{className:"rounded-2xl border border-destructive/30 bg-card p-6 text-sm text-destructive",children:g}):null,l.jsxs("section",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Executive Overview"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time summary from Orders & Shipments, Inventory, and Invoices & Payments."})]}),l.jsx("div",{className:"p-4 md:p-5",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:[l.jsx(yv,{title:"Commit Volume",value:J_(v.totalCommitTon),subtitle:"From contract lines",icon:l.jsx(bx,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(yv,{title:"Delivered Volume",value:J_(v.totalDeliveredTon),subtitle:`Delivery rate ${v.completionRate.toFixed(1)}%`,icon:l.jsx(LT,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(yv,{title:"Inventory On Hand",value:J_(v.totalInventory),subtitle:"Live stock snapshot",icon:l.jsx(N1,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(yv,{title:"Invoice Value",value:R8e(v.totalInvoiceUsd),subtitle:"From finance invoices",icon:l.jsx(yF,{className:"h-5 w-5 text-muted-foreground"})})]})})]}),l.jsx(P8e,{contractRows:r,stockRows:a,invoiceRows:i,deliveryRows:c,loading:h}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[l.jsxs("section",{className:"rounded-2xl border bg-card lg:col-span-1",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(NF,{className:"h-5 w-5 text-warning"}),l.jsx("h2",{className:"font-semibold",children:"Attention Required"})]}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[y.length," items"]})]}),l.jsx("div",{className:"max-h-[420px] space-y-2 overflow-auto p-3",children:h?l.jsx("div",{className:"rounded-xl border border-dashed border-border/70 bg-muted/10 px-3 py-8 text-center text-sm text-muted-foreground",children:"Loading alerts..."}):y.map((_,S)=>l.jsx(h8e,{severity:_.severity,title:_.title,description:_.description,action:_.action,onClick:_.href?()=>e(_.href):void 0},`${_.title}-${S}`))})]}),l.jsxs("section",{className:"rounded-2xl border bg-card lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bx,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("h2",{className:"font-semibold",children:"Recent Commit Date"})]}),l.jsx(Ce,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>e("/my-company/orders"),children:"View Orders & Shipments"})]}),l.jsx("div",{className:"p-0",children:h?l.jsx("div",{className:"rounded-xl border border-dashed border-border/70 bg-muted/10 px-3 py-10 text-center text-sm text-muted-foreground",children:"Loading recent commit dates..."}):l.jsx(V1,{columns:x,data:b,className:["rounded-none border-0 shadow-none","[&_table]:min-w-[980px] [&_table]:border-separate [&_table]:border-spacing-0","[&_thead_tr]:border-b [&_thead_tr]:border-slate-200/70 [&_thead_tr]:bg-slate-50/90","[&_th]:px-5 [&_th]:py-3.5 [&_th]:text-[12px] [&_th]:font-semibold [&_th]:tracking-[0.01em] [&_th]:text-slate-600","[&_td]:px-5 [&_td]:py-4 [&_td]:align-middle [&_td]:text-[13px] sm:[&_td]:text-sm","[&_tbody_tr]:border-b [&_tbody_tr]:border-slate-200/70","[&_tbody_tr:nth-child(odd)]:bg-white [&_tbody_tr:nth-child(even)]:bg-slate-50/45","[&_tbody_tr:hover]:bg-slate-100/70"].join(" "),emptyMessage:"No commit date records found."})})]})]})]})]})}const M8e=()=>{const e=zi();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},$8e="THAI ROONG RUANG INDUSTRY CO., LTD.",Kr=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e),Ia=e=>`${Kr(e)} MT`,_v=(e,t)=>e<=0?t>0?100:0:Math.max(0,Math.min(100,t/e*100)),Qo=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},F8e=e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",year:"numeric"})},eM=(e,t)=>{const r=e?new Date(e):null,n=t?new Date(t):null,a=r&&!Number.isNaN(r.getTime()),s=n&&!Number.isNaN(n.getTime());if(a&&s&&r.getFullYear()===n.getFullYear()){const c=r.toLocaleDateString("en-US",{month:"short",day:"2-digit"}),u=n.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"});return`${c} - ${u}`}const i=Qo(e),o=Qo(t);return i==="-"&&o==="-"?"-":i==="-"?o:o==="-"?i:`${i} - ${o}`},As=e=>{if(!e)return null;const t=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(t){const[,n,a,s]=t;return new Date(Number(n),Number(a)-1,Number(s)).getTime()}const r=new Date(e);return Number.isNaN(r.getTime())?null:(r.setHours(0,0,0,0),r.getTime())},L8e=(e,t)=>t<=0?"not_started":t>=e?"completed":"in_progress",a1=e=>{const t=e.match(/\d+/g);if(!t)return null;const r=t.join(""),n=Number(r);return Number.isFinite(n)?n:null},B8e=(e,t)=>{const r=a1(e.job),n=a1(t.job);return r!==null&&n!==null&&r!==n?n-r:r!==null&&n===null?-1:r===null&&n!==null?1:t.job.localeCompare(e.job,void 0,{numeric:!0,sensitivity:"base"})},U8e=(e,t)=>{const r=a1(e.job),n=a1(t.job);return r!==null&&n!==null&&r!==n?r-n:r!==null&&n===null?-1:r===null&&n!==null?1:e.job.localeCompare(t.job,void 0,{numeric:!0,sensitivity:"base"})},z8e=e=>{var t;return e?Array.isArray(e)?((t=e[0])==null?void 0:t.customer)??"-":e.customer??"-":"-"},W8e=e=>{var t;return e?Array.isArray(e)?((t=e[0])==null?void 0:t.type)??"-":e.type??"-":"-"},H8e=e=>{var t;return e?Array.isArray(e)?((t=e[0])==null?void 0:t.contractdate)??null:e.contractdate??null:null},V8e=e=>{if(!e||typeof e!="object")return null;const t=Object.entries(e).reduce((n,[a,s])=>(n[a.toLowerCase().replace(/\s+/g,"").replace(/_/g,"")]=s,n),{}),r=t.paymentterms??t.paymentterm??t.terms??t.paymentcondition??null;return typeof r=="string"&&r.trim().length>0?r.trim():null},Q_=e=>{const t=e.toLowerCase();return t==="pending"?l.jsx(ha,{status:"pending",label:"Pending",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):t==="overdue"?l.jsx(ha,{status:"error",label:"Overdue",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):t==="complete"||t==="completed"?l.jsx(ha,{status:"success",label:"Complete",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"}):l.jsx(ha,{status:"neutral",label:e||"Unknown",showIcon:!1,className:"px-2.5 py-1 text-[11px] font-semibold uppercase tracking-wide"})},Sv=e=>{const t=e.toLowerCase();return t==="pending"?"pending":t==="overdue"?"overdue":"complete"},tM={all:"All",pending:"Pending",overdue:"Overdue",complete:"Complete"},rM={all:"All Progress",not_started:"Not Started",in_progress:"In Progress",completed:"Completed"},Z_={all:{active:"bg-slate-900 text-white shadow-sm",inactive:"text-slate-600 hover:bg-white/80 hover:text-slate-900",dot:"bg-slate-400"},pending:{active:"bg-blue-50 text-blue-700 ring-1 ring-blue-200 shadow-sm",inactive:"text-slate-600 hover:bg-white/80 hover:text-slate-900",dot:"bg-blue-500"},overdue:{active:"bg-red-50 text-red-700 ring-1 ring-red-200 shadow-sm",inactive:"text-slate-600 hover:bg-white/80 hover:text-slate-900",dot:"bg-red-500"},complete:{active:"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200 shadow-sm",inactive:"text-slate-600 hover:bg-white/80 hover:text-slate-900",dot:"bg-emerald-500"}};function G8e(){var Ft;const[e]=oN(),[t,r]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(null),[o,c]=w.useState("overdue"),[u,d]=w.useState(""),[f,h]=w.useState("all"),[p,g]=w.useState("all"),[m,v]=w.useState("all"),[y,b]=w.useState("none"),[x,_]=w.useState(""),[S,E]=w.useState(""),[k,N]=w.useState(!1),[T,A]=w.useState(10),[C,j]=w.useState(1),[R,I]=w.useState({key:"commitDate",direction:"desc"}),[M,W]=w.useState(null),[K,H]=w.useState(!1),[O,Z]=w.useState([]),[J,P]=w.useState(!1),[G,B]=w.useState(null),[z,ae]=w.useState(null),[V,ie]=w.useState(!1),[re,L]=w.useState([]),[oe,D]=w.useState(!1),[le,ye]=w.useState(null);w.useEffect(()=>{const ce=e.get("attention"),ht=e.get("job");if(ht&&ht.trim().length>0){b("none"),c("all"),d(ht.trim());return}if(ce==="overdue-orders"){b("overdue_orders"),c("overdue"),d("");return}if(ce==="due-orders-3d"){b("due_orders_3d"),c("pending"),d("");return}b("none"),d("");const pt=e.get("status");if(pt==="all"||pt==="pending"||pt==="overdue"||pt==="complete"){c(pt);return}c("overdue")},[e]),w.useEffect(()=>{let ce=!1;return(async()=>{if(!Or||!Ee){i("Supabase is not configured."),a(!1);return}a(!0),i(null);const{data:pt,error:Pe}=await Ee.from("contract_lines").select("line_id, contract_id, job, product, price, team, status, ton, acc, date_from, date_to, extra_fields, contracts(customer, type, contractdate)").order("date_to",{ascending:!0});if(ce)return;if(Pe){i(Pe.message),a(!1);return}const Ge=(pt??[]).map(Ae=>{const dt=Ae.ton??0,tt=Ae.acc??0;return{id:Ae.line_id,customer:z8e(Ae.contracts),contractType:W8e(Ae.contracts),contractId:Ae.contract_id??"-",commitDate:H8e(Ae.contracts),job:Ae.job??"-",jobValue:Ae.job??null,product:Ae.product??"-",team:Ae.team??"-",status:Ae.status??"Unknown",price:Ae.price??null,paymentTerms:V8e(Ae.extra_fields),ton:dt,acc:tt,remainingTon:dt-tt,dateFrom:Ae.date_from??null,dateTo:Ae.date_to??null}});r(Ge),a(!1)})(),()=>{ce=!0}},[]),w.useEffect(()=>{let ce=!1;return(async()=>{if(!K||!M)return;if(!Or||!Ee||M.contractId==="-"){Z([]),B(null);return}P(!0),B(null);let pt=Ee.from("deliveries").select("delivery_id, contract_id, job, delivery_date, record, quantity, remark").eq("contract_id",M.contractId);M.jobValue?pt=pt.eq("job",M.jobValue):pt=pt.is("job",null);const{data:Pe,error:Ge}=await pt.order("delivery_date",{ascending:!1});if(!ce){if(Ge){B(Ge.message),Z([]),P(!1);return}Z(Pe??[]),P(!1)}})(),()=>{ce=!0}},[K,M]);const Se=ce=>{W(ce),H(!0)},_e=ce=>{ae(ce),ie(!0)},pe=w.useMemo(()=>z?t.filter(ce=>ce.customer===z):[],[t,z]),Le=w.useMemo(()=>{const ce=new Set,ht=new Set;let pt=0,Pe=0,Ge=0,Ae=0,dt=0,tt=0,_t=null;for(const je of pe){je.contractId&&je.contractId!=="-"&&ce.add(je.contractId),je.job&&je.job!=="-"&&ht.add(je.job),pt+=je.ton,Pe+=je.acc,Ge+=je.remainingTon;const se=Sv(je.status);se==="pending"&&(Ae+=1),se==="overdue"&&(dt+=1),se==="complete"&&(tt+=1),je.commitDate&&(!_t||new Date(je.commitDate).getTime()>new Date(_t).getTime())&&(_t=je.commitDate)}const Vt=pt>0?Math.max(0,Math.min(100,Pe/pt*100)):0;return{contractCount:ce.size,jobCount:ht.size,commitTon:pt,deliveredTon:Pe,balanceTon:Ge,progressPct:Vt,pending:Ae,overdue:dt,complete:tt,latestCommitDate:_t,contractIds:Array.from(ce)}},[pe]),ze=w.useMemo(()=>{const ce=new Map,ht=new Map;for(const Ae of pe){if(!Ae.contractId||Ae.contractId==="-"||Ae.price===null)continue;const dt=Ae.contractId,tt=`${Ae.contractId}::${Ae.jobValue??""}`;ht.has(dt)||ht.set(dt,new Set),ht.get(dt).add(Ae.price),ce.has(tt)||ce.set(tt,new Set),ce.get(tt).add(Ae.price)}const pt=Ae=>{const dt=Array.from(Ae).sort((tt,_t)=>tt-_t);return dt.length===0?"":dt.length===1?`USD ${Kr(dt[0])}`:`USD ${Kr(dt[0])} - ${Kr(dt[dt.length-1])}`},Pe=new Map,Ge=new Map;return ce.forEach((Ae,dt)=>Pe.set(dt,pt(Ae))),ht.forEach((Ae,dt)=>Ge.set(dt,pt(Ae))),{byJobLabel:Pe,byContractLabel:Ge}},[pe]),xt=ce=>{const ht=`${ce.contract_id}::${ce.job??""}`;return ze.byJobLabel.get(ht)??ze.byContractLabel.get(ce.contract_id)??""};w.useEffect(()=>{let ce=!1;return(async()=>{if(!V||!z)return;if(!Or||!Ee){L([]),ye("Supabase is not configured."),D(!1);return}const pt=Le.contractIds;if(pt.length===0){L([]),ye(null),D(!1);return}D(!0),ye(null);const{data:Pe,error:Ge}=await Ee.from("deliveries").select("delivery_id, contract_id, job, delivery_date, record, quantity, remark").in("contract_id",pt).order("delivery_date",{ascending:!1});if(!ce){if(Ge){L([]),ye(Ge.message),D(!1);return}L(Pe??[]),D(!1)}})(),()=>{ce=!0}},[V,z,Le.contractIds]);const nt=w.useMemo(()=>t.reduce((ce,ht)=>{ce.total+=1,ce.remainingTon+=ht.remainingTon;const pt=Sv(ht.status);return ce[pt]+=1,ce},{total:0,pending:0,overdue:0,complete:0,remainingTon:0}),[t]),at=w.useMemo(()=>Array.from(new Set(t.map(ce=>ce.contractType).filter(ce=>ce&&ce!=="-"))).sort((ce,ht)=>ce.localeCompare(ht)),[t]),yt=w.useMemo(()=>Array.from(new Set(t.map(ce=>ce.team).filter(ce=>ce&&ce!=="-"))).sort((ce,ht)=>ce.localeCompare(ht)),[t]),Y=y!=="none"||f!=="all"||p!=="all"||m!=="all"||!!x||!!S,be=w.useMemo(()=>{const ce=u.trim().toLowerCase(),ht=As(x),pt=As(S),Pe=new Date().setHours(0,0,0,0),Ge=1e3*60*60*24;return t.filter(Ae=>{if(!(o==="all"||Sv(Ae.status)===o))return!1;if(y==="overdue_orders"){const tt=Ae.status.toLowerCase(),_t=As(Ae.dateTo),Vt=tt.includes("overdue"),je=tt.includes("pending")&&_t!==null&&_t<Pe&&Ae.remainingTon>0;if(!Vt&&!je)return!1}if(y==="due_orders_3d"){const tt=Ae.status.toLowerCase(),_t=As(Ae.dateTo);if(!tt.includes("pending")||_t===null)return!1;const Vt=Math.floor((_t-Pe)/Ge);if(Vt<0||Vt>3)return!1}if(f!=="all"&&Ae.contractType!==f||p!=="all"&&Ae.team!==p||m!=="all"&&L8e(Ae.ton,Ae.acc)!==m)return!1;if(ht!==null||pt!==null){const tt=As(Ae.commitDate);if(tt===null||ht!==null&&tt<ht||pt!==null&&tt>pt)return!1}return ce?Ae.customer.toLowerCase().includes(ce)||Ae.contractId.toLowerCase().includes(ce)||Ae.job.toLowerCase().includes(ce)||Ae.team.toLowerCase().includes(ce)||Ae.contractType.toLowerCase().includes(ce):!0})},[t,o,y,f,p,m,x,S,u]),ge=w.useMemo(()=>{const ce=(Pe,Ge)=>Pe===null&&Ge===null?0:Pe===null?1:Ge===null?-1:Pe-Ge,ht=Pe=>{const Ge=Sv(Pe);return Ge==="overdue"?0:Ge==="pending"?1:2},pt=[...be].sort((Pe,Ge)=>{switch(R.key){case"job":return R.direction==="asc"?U8e(Pe,Ge):B8e(Pe,Ge);case"commitDate":return ce(As(Pe.commitDate),As(Ge.commitDate));case"customer":return Pe.customer.localeCompare(Ge.customer,void 0,{sensitivity:"base"});case"contractId":return Pe.contractId.localeCompare(Ge.contractId,void 0,{numeric:!0,sensitivity:"base"});case"deliveryPeriod":{const Ae=ce(As(Pe.dateTo),As(Ge.dateTo));return Ae!==0?Ae:ce(As(Pe.dateFrom),As(Ge.dateFrom))}case"commitBalance":return Pe.remainingTon-Ge.remainingTon;case"status":return ht(Pe.status)-ht(Ge.status);default:return 0}});return R.direction==="asc"||R.key==="job"?pt:pt.reverse()},[be,R]);w.useEffect(()=>{j(1)},[o,y,f,p,m,x,S,u,T,R.key,R.direction]);const Re=Math.max(1,Math.ceil(ge.length/T));w.useEffect(()=>{C>Re&&j(Re)},[C,Re]);const ft=w.useMemo(()=>{const ce=(C-1)*T;return ge.slice(ce,ce+T)},[ge,C,T]),$t=ge.length===0?0:(C-1)*T+1,st=Math.min(C*T,ge.length),wt=(y!=="none"?1:0)+(f!=="all"?1:0)+(p!=="all"?1:0)+(m!=="all"?1:0)+(x?1:0)+(S?1:0),Wt=ce=>{I(ht=>ht.key===ce?{key:ce,direction:ht.direction==="asc"?"desc":"asc"}:{key:ce,direction:ce==="job"||ce==="commitDate"||ce==="deliveryPeriod"?"desc":"asc"})},Ct=ce=>R.key!==ce?l.jsx(gF,{className:"h-3.5 w-3.5 text-muted-foreground/70"}):R.direction==="asc"?l.jsx($T,{className:"h-3.5 w-3.5 text-foreground"}):l.jsx(Ml,{className:"h-3.5 w-3.5 text-foreground"});return n?l.jsx("div",{className:"rounded-2xl border border-border/60 bg-card p-6 text-sm text-muted-foreground",children:"Loading contract lines..."}):s?l.jsx("div",{className:"rounded-2xl border border-destructive/30 bg-card p-6 text-sm text-destructive",children:s}):l.jsxs("div",{className:"space-y-4 p-4 md:p-5",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-5",children:[l.jsxs("div",{className:"rounded-3xl border border-border/60 bg-card/80 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] backdrop-blur-sm",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Contract Number"}),l.jsx("p",{className:"mt-1.5 text-[24px] font-semibold leading-none tracking-tight text-slate-900 tabular-nums md:text-[30px]",children:Kr(nt.total)})]}),l.jsxs("div",{className:"rounded-3xl border border-blue-100 bg-blue-50/70 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-blue-700/80",children:"Pending"}),l.jsx("p",{className:"mt-1.5 text-[24px] font-semibold leading-none tracking-tight text-blue-700 tabular-nums md:text-[30px]",children:Kr(nt.pending)})]}),l.jsxs("div",{className:"rounded-3xl border border-red-100 bg-red-50/70 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-red-700/80",children:"Overdue"}),l.jsx("p",{className:"mt-1.5 text-[24px] font-semibold leading-none tracking-tight text-red-700 tabular-nums md:text-[30px]",children:Kr(nt.overdue)})]}),l.jsxs("div",{className:"rounded-3xl border border-emerald-100 bg-emerald-50/70 px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-emerald-700/80",children:"Completed"}),l.jsx("p",{className:"mt-1.5 text-[24px] font-semibold leading-none tracking-tight text-emerald-700 tabular-nums md:text-[30px]",children:Kr(nt.complete)})]}),l.jsxs("div",{className:"col-span-2 rounded-3xl border border-border/60 bg-gradient-to-br from-slate-50 to-card px-4 py-3.5 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_8px_24px_rgba(15,23,42,0.04)] md:col-span-1",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Remaining Volume (MT)"}),l.jsxs("p",{className:"mt-1.5 text-[22px] font-semibold leading-none tracking-tight text-slate-900 tabular-nums md:text-[24px]",children:[Kr(nt.remainingTon),l.jsx("span",{className:"ml-1 text-sm font-medium text-slate-500",children:"MT"})]})]})]}),l.jsx("div",{className:"rounded-3xl border border-border/60 bg-card/80 p-4 shadow-[0_1px_2px_rgba(15,23,42,0.05),0_10px_30px_rgba(15,23,42,0.04)] backdrop-blur-sm md:p-5",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 xl:flex-row xl:items-center xl:justify-between",children:[l.jsxs("div",{className:"order-2 space-y-2 md:order-1",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Status"}),l.jsx("div",{className:"grid w-full grid-cols-2 gap-1 rounded-2xl border border-border/60 bg-muted/25 p-1 sm:inline-flex sm:w-auto sm:max-w-full sm:items-center sm:rounded-full",children:Object.keys(tM).map(ce=>l.jsxs("button",{type:"button",onClick:()=>c(ce),className:me("inline-flex w-full items-center justify-center gap-1.5 rounded-full px-3 py-1.5 text-[13px] font-medium transition-all sm:w-auto sm:justify-start",o===ce?Z_[ce].active:Z_[ce].inactive),children:[l.jsx("span",{className:me("h-1.5 w-1.5 rounded-full",Z_[ce].dot)}),tM[ce]]},ce))})]}),l.jsxs("div",{className:"order-1 w-full space-y-1.5 md:order-2 md:max-w-sm xl:max-w-sm",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground md:hidden",children:"Quick Search"}),l.jsxs("div",{className:"relative w-full",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{placeholder:"Search customer, contract, team, type...",value:u,onChange:ce=>d(ce.target.value),className:"h-11 rounded-2xl border-border/70 bg-background/90 pl-10 text-sm focus-visible:ring-1 focus-visible:ring-slate-300 md:h-10"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between md:hidden",children:[l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-9 rounded-full px-3 text-xs",onClick:()=>N(ce=>!ce),children:[l.jsx(kF,{className:"mr-1.5 h-3.5 w-3.5"}),k?"Hide filters":"Filters"]}),Y?l.jsxs("span",{className:"rounded-full bg-muted/50 px-2.5 py-1 text-[11px] font-medium text-slate-600",children:[wt," active"]}):null,y!=="none"?l.jsx("span",{className:"rounded-full bg-amber-50 px-2.5 py-1 text-[11px] font-medium text-amber-700",children:y==="overdue_orders"?"Alert: Overdue orders":"Alert: Due in 3 days"}):null]}),l.jsxs("div",{className:me("grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",!k&&"hidden md:grid"),children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Type"}),l.jsxs(gn,{value:f,onValueChange:h,children:[l.jsx(Zr,{className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{placeholder:"Type"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"all",children:"All Type"}),at.map(ce=>l.jsx(kt,{value:ce,children:ce},ce))]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Team"}),l.jsxs(gn,{value:p,onValueChange:g,children:[l.jsx(Zr,{className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{placeholder:"Team"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"all",children:"All Team"}),yt.map(ce=>l.jsx(kt,{value:ce,children:ce},ce))]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Delivery Progress"}),l.jsxs(gn,{value:m,onValueChange:ce=>v(ce),children:[l.jsx(Zr,{className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus:ring-1 focus:ring-slate-300",children:l.jsx(vn,{placeholder:"Delivery Progress"})}),l.jsx(en,{children:Object.keys(rM).map(ce=>l.jsx(kt,{value:ce,children:rM[ce]},ce))})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.12em] text-muted-foreground",children:"Commit Date Range"}),l.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[l.jsx(ot,{type:"date",value:x,onChange:ce=>_(ce.target.value),className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus-visible:ring-1 focus-visible:ring-slate-300","aria-label":"Commit date from"}),l.jsx(ot,{type:"date",value:S,onChange:ce=>E(ce.target.value),className:"h-10 rounded-2xl border-border/70 bg-background/90 text-sm focus-visible:ring-1 focus-visible:ring-slate-300","aria-label":"Commit date to"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 border-t border-border/50 pt-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs font-medium text-slate-600",children:[Kr(be.length)," visible lines"]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border/60 bg-background/80 px-2 py-1",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:"Per page"}),l.jsxs(gn,{value:String(T),onValueChange:ce=>A(Number(ce)),children:[l.jsx(Zr,{className:"h-7 w-[74px] rounded-full border-none bg-transparent px-2 text-xs shadow-none focus:ring-0",children:l.jsx(vn,{placeholder:"10"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"10",children:"10"}),l.jsx(kt,{value:"20",children:"20"}),l.jsx(kt,{value:"30",children:"30"}),l.jsx(kt,{value:"50",children:"50"})]})]})]}),Y?l.jsxs("span",{className:"rounded-full bg-muted/50 px-2.5 py-1 text-[11px] font-medium text-slate-600",children:[wt," active filters"]}):null,y!=="none"?l.jsx("span",{className:"rounded-full bg-amber-50 px-2.5 py-1 text-[11px] font-medium text-amber-700",children:y==="overdue_orders"?"Alert filter: Overdue orders":"Alert filter: Due in 3 days"}):null,Y?l.jsx(Ce,{type:"button",variant:"ghost",size:"sm",className:"h-8 rounded-full px-3 text-xs text-slate-600 hover:bg-muted/50",onClick:()=>{b("none"),h("all"),g("all"),v("all"),_(""),E(""),N(!1)},children:"Clear filters"}):null]})]})]})}),be.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-border/70 bg-muted/10 px-4 py-8 text-center text-sm text-muted-foreground",children:"No contract lines match this filter."}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"overflow-hidden rounded-2xl border border-border/70 bg-card",children:[l.jsx("div",{className:"hidden overflow-x-auto md:block",children:l.jsxs("table",{className:"w-full min-w-[1320px] border-separate border-spacing-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-200/70 bg-slate-50/90",children:[l.jsx("th",{className:"w-[190px] whitespace-nowrap px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("job"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Job Number"}),Ct("job")]})}),l.jsx("th",{className:"w-[180px] whitespace-nowrap px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("commitDate"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Commit Date"}),Ct("commitDate")]})}),l.jsx("th",{className:"px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("customer"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Customer"}),Ct("customer")]})}),l.jsx("th",{className:"w-[220px] whitespace-nowrap px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("contractId"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Contract Number"}),Ct("contractId")]})}),l.jsx("th",{className:"w-[270px] whitespace-nowrap px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("deliveryPeriod"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Delivery Period"}),Ct("deliveryPeriod")]})}),l.jsx("th",{className:"w-[320px] whitespace-nowrap px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("commitBalance"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Commit/Balance"}),Ct("commitBalance")]})}),l.jsx("th",{className:"w-[140px] whitespace-nowrap px-6 py-4 text-left text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:l.jsxs("button",{type:"button",onClick:()=>Wt("status"),className:"inline-flex items-center gap-1.5",children:[l.jsx("span",{children:"Status"}),Ct("status")]})}),l.jsx("th",{className:"w-[110px] whitespace-nowrap px-6 py-4 text-right text-[13px] font-semibold tracking-[0.01em] text-slate-600",children:"Action"})]})}),l.jsx("tbody",{className:"[&>tr:nth-child(odd)]:bg-white [&>tr:nth-child(even)]:bg-slate-50/45",children:ft.map(ce=>l.jsxs("tr",{className:"border-b border-slate-200/70 transition-colors hover:bg-slate-100/70 last:border-b-0",children:[l.jsx("td",{className:"whitespace-nowrap px-6 py-4 align-middle",children:l.jsxs("p",{className:"whitespace-nowrap text-sm font-medium text-foreground",children:["Job: ",ce.job]})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 align-middle",children:l.jsxs("div",{className:"inline-flex items-center gap-1 whitespace-nowrap text-sm text-muted-foreground",children:[l.jsx(wp,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"whitespace-nowrap",children:Qo(ce.commitDate)})]})}),l.jsxs("td",{className:"px-6 py-4 align-middle",children:[l.jsx("button",{type:"button",onClick:()=>_e(ce.customer),className:"truncate text-left text-[17px] font-semibold text-foreground underline-offset-2 hover:text-primary hover:underline",children:ce.customer}),l.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Team: ",ce.team]})]}),l.jsx("td",{className:"px-6 py-4 align-middle",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("button",{type:"button",onClick:()=>Se(ce),className:"whitespace-nowrap text-base font-medium text-primary underline-offset-2 hover:underline",children:ce.contractId}),l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:ce.contractType})]})}),l.jsx("td",{className:"whitespace-nowrap px-6 py-4 align-middle",children:l.jsxs("div",{className:"inline-flex items-center gap-1 text-sm text-muted-foreground",children:[l.jsx(wp,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"whitespace-nowrap",children:eM(ce.dateFrom,ce.dateTo)})]})}),l.jsx("td",{className:"px-6 py-4 align-middle",children:l.jsxs("div",{className:"min-w-[220px] space-y-2.5",children:[l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Commit"}),l.jsx("p",{className:"text-sm font-semibold text-foreground",children:Ia(ce.ton)})]}),l.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[l.jsx("span",{className:"text-muted-foreground",children:"Delivered"}),l.jsxs("span",{className:"font-semibold text-foreground",children:[Math.round(_v(ce.ton,ce.acc)),"%"]})]}),l.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:l.jsx("div",{className:"h-full rounded-full bg-emerald-500",style:{width:`${Math.max(0,Math.min(100,_v(ce.ton,ce.acc)))}%`}})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 text-[11px]",children:[l.jsxs("span",{className:"rounded-full bg-emerald-50 px-2 py-0.5 font-medium text-emerald-700",children:["Sent ",Ia(ce.acc)]}),l.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 font-medium text-slate-700",children:["Balance ",Ia(ce.remainingTon)]})]})]})}),l.jsx("td",{className:"px-6 py-4 align-middle",children:Q_(ce.status)}),l.jsx("td",{className:"px-6 py-4 text-right align-middle",children:l.jsx(Ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Se(ce),className:"h-8 rounded-full border border-border/70 px-3.5 text-xs font-medium",children:"View"})})]},ce.id))})]})}),l.jsx("div",{className:"space-y-2.5 p-2 md:hidden",children:ft.map(ce=>l.jsxs("article",{className:"rounded-xl border border-border/70 bg-card px-3.5 py-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("button",{type:"button",onClick:()=>Se(ce),className:"text-sm font-medium text-primary underline-offset-2 hover:underline",children:ce.contractId}),l.jsx("button",{type:"button",onClick:()=>_e(ce.customer),className:"mt-1 block truncate text-left text-base font-semibold text-foreground underline-offset-2 hover:underline",children:ce.customer}),l.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[ce.contractType,"  Team: ",ce.team]}),l.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Job: ",ce.job]}),l.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Commit Date: ",Qo(ce.commitDate)]})]}),l.jsx("div",{className:"shrink-0",children:Q_(ce.status)})]}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{className:"inline-flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(wp,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:eM(ce.dateFrom,ce.dateTo)})]}),l.jsxs("div",{className:"w-full space-y-1.5",children:[l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:"Commit"}),l.jsx("p",{className:"text-xs font-semibold text-foreground",children:Ia(ce.ton)})]}),l.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[l.jsx("span",{className:"text-muted-foreground",children:"Delivered"}),l.jsxs("span",{className:"font-semibold text-foreground",children:[Math.round(_v(ce.ton,ce.acc)),"%"]})]}),l.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-muted",children:l.jsx("div",{className:"h-full rounded-full bg-emerald-500",style:{width:`${Math.max(0,Math.min(100,_v(ce.ton,ce.acc)))}%`}})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 text-[11px]",children:[l.jsxs("span",{className:"rounded-full bg-emerald-50 px-2 py-0.5 font-medium text-emerald-700",children:["Sent ",Ia(ce.acc)]}),l.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 font-medium text-slate-700",children:["Balance ",Ia(ce.remainingTon)]})]})]})]}),l.jsx("div",{className:"mt-2 flex justify-end",children:l.jsx(Ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Se(ce),className:"h-8 rounded-full border border-border/70 px-3 text-xs font-medium",children:"View"})})]},ce.id))})]}),l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-border/70 bg-card/70 px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",Kr($t),"-",Kr(st)," of ",Kr(ge.length)]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>j(ce=>Math.max(1,ce-1)),disabled:C===1,children:"Previous"}),l.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Page ",Kr(C)," / ",Kr(Re)]}),l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>j(ce=>Math.min(Re,ce+1)),disabled:C>=Re,children:"Next"})]})]})]}),l.jsx(ru,{open:V,onOpenChange:ie,children:l.jsxs(Ll,{className:"max-w-4xl",children:[l.jsxs(Bl,{children:[l.jsx(Ul,{children:"Customer Summary"}),l.jsx(zl,{children:z?`Executive view for ${z}`:"Customer performance summary"})]}),z&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2.5 md:grid-cols-6",children:[l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Contracts"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Kr(Le.contractCount)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Jobs"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Kr(Le.jobCount)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Commit"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Ia(Le.commitTon)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Delivered"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Ia(Le.deliveredTon)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Balance"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Ia(Le.balanceTon)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Delivery Progress"}),l.jsxs("p",{className:"mt-1 text-base font-semibold text-foreground",children:[Kr(Math.round(Le.progressPct)),"%"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-border/70 bg-card/70",children:[l.jsxs("div",{className:"border-b border-border/60 px-4 py-3",children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Delivery History"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Latest commit date: ",Qo(Le.latestCommitDate)]})]}),l.jsx("div",{className:"max-h-72 space-y-2 overflow-auto p-3",children:oe?l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading customer deliveries..."}):le?l.jsx("p",{className:"text-sm text-destructive",children:le}):re.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery history found for this customer."}):re.map(ce=>{var ht;return l.jsxs("div",{className:"rounded-lg border border-border/70 bg-background px-3 py-2.5",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:(ht=ce.record)!=null&&ht.trim()?ce.record:F8e(ce.delivery_date)}),l.jsxs("p",{className:"text-sm font-semibold text-foreground",children:["Qty: ",Ia(ce.quantity??0)]})]}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Date: ",Qo(ce.delivery_date)]}),l.jsxs("span",{children:["Contract: ",ce.contract_id]}),l.jsxs("span",{children:["Job: ",ce.job??"-"]}),xt(ce)?l.jsxs("span",{children:["Price: ",xt(ce)]}):null,ce.remark?l.jsxs("span",{children:["Remark: ",ce.remark]}):null]})]},ce.delivery_id)})})]})]})]})}),l.jsx(ru,{open:K,onOpenChange:H,children:l.jsxs(Ll,{className:"max-w-4xl",children:[l.jsxs(Bl,{children:[l.jsx(Ul,{children:"Contract Detail"}),l.jsx(zl,{children:M?`${M.customer}  ${M.contractId}`:"Contract information"})]}),M&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("section",{className:"rounded-2xl border border-border/70 bg-card/70",children:[l.jsxs("div",{className:"border-b border-border/60 px-4 py-3",children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Section 1  Contract Overview"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Executive summary for counterparty and commercial terms."})]}),l.jsxs("div",{className:"space-y-3 p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3.5 py-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-wide text-muted-foreground",children:"Seller"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:$8e})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3.5 py-3",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-wide text-muted-foreground",children:"Buyer"}),l.jsx("p",{className:"mt-1 min-h-[20px] text-sm font-semibold text-foreground",children:" "})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2.5 md:grid-cols-6",children:[l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Status"}),l.jsx("div",{className:"mt-1",children:Q_(M.status)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Contract Number"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:M.contractId})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Type"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:M.contractType})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Payment Terms"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:M.paymentTerms??""})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Price"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:M.price!==null?`USD ${Kr(M.price)}`:""})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Quantity"}),l.jsx("p",{className:"mt-1 text-sm font-semibold text-foreground",children:Ia(M.ton)})]})]})]})]}),l.jsxs("section",{className:"rounded-2xl border border-border/70 bg-card/70",children:[l.jsxs("div",{className:"border-b border-border/60 px-4 py-3",children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Section 2  Deliveries"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Contract ",M.contractId]})]}),l.jsxs("div",{className:"space-y-3 p-4",children:[!J&&!G&&O.length>0?l.jsxs("div",{className:"grid grid-cols-1 gap-2.5 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Total Deliveries"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Kr(O.length)})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Delivered Quantity"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Ia(O.reduce((ce,ht)=>ce+(ht.quantity??0),0))})]}),l.jsxs("div",{className:"rounded-xl border border-border/70 bg-background px-3 py-2.5",children:[l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Latest Delivery"}),l.jsx("p",{className:"mt-1 text-base font-semibold text-foreground",children:Qo(((Ft=O[0])==null?void 0:Ft.delivery_date)??null)})]})]}):null,l.jsx("div",{className:"max-h-64 overflow-auto rounded-xl border border-border/60 bg-background p-3",children:J?l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading deliveries..."}):G?l.jsx("p",{className:"text-sm text-destructive",children:G}):O.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No deliveries found for this contract."}):l.jsx("div",{className:"space-y-2",children:O.map(ce=>l.jsxs("div",{className:"rounded-lg border border-border/70 bg-card px-3 py-2.5",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm font-medium",children:ce.record??"-"}),l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:Qo(ce.delivery_date)})]}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Job: ",ce.job??"-"]}),l.jsxs("span",{children:["Qty: ",Ia(ce.quantity??0)]}),ce.remark?l.jsxs("span",{children:["Remark: ",ce.remark]}):null]})]},ce.delivery_id))})})]})]})]})]})})]})}function q8e(){return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx(aa,{title:"Orders & Shipments",subtitle:"Track order fulfillment and shipment status"}),l.jsx("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:l.jsxs("div",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Contract Lines"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Clean contract status view with quick drill-down by customer."})]}),l.jsx(G8e,{})]})})]})}const K8e=["activity_logs","admin_users","companies","contract_lines","deliveries","finance_invoices","supabase_companies","users"],X8e=new Set(["contract_lines","deliveries","companies","supabase_companies","finance_invoices"]),Vr=e=>{if(typeof e=="number")return Number.isFinite(e)?e:0;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0},lt=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e),If=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(e),Qs=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},si=e=>{const t=Qs(e);return t?t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}):"-"},Jt=e=>e.toLowerCase().replace(/\s+/g," ").trim(),sl=e=>{if(e&&typeof e=="object"&&"message"in e){const t=e.message;if(typeof t=="string"&&t.trim())return t}return e instanceof Error?e.message:String(e??"Unknown error")},Y8e=(e,t,r)=>{const n=new Set,a=e.includes("@")?e.split("@")[0]:e,s=e.includes("@")?e.split("@")[1]:"",i=o=>{const c=Jt(o);!c||c.length<3||n.add(c)};return i(t),i(a),s&&i(s.split(".")[0]||""),r&&(i(r),r.split(/[\s,.()/-]+/).forEach(i)),[...n]},Up=(e,t)=>{if(!e||t.length===0)return!1;const r=Jt(e);return r?t.some(n=>r.includes(n)):!1},Kv=(e,t)=>{if(!e)return!1;const r=Jt(e),n=Jt(t);if(!r||!n)return!1;if(r.includes(n))return!0;const a=n.split(" ").filter(i=>i.length>=3);return a.length?a.filter(i=>r.includes(i)).length>=Math.max(2,Math.floor(a.length/2)):!1},ut=e=>typeof e=="string"?e:typeof e=="number"?String(e):null,Vh=e=>({factory:ut(e.factory),qty:typeof e.qty=="number"||typeof e.qty=="string"?e.qty:null,type:ut(e.type),tag:ut(e.tag),stockId:ut(e.stock_id)??ut(e.id)}),Ej=e=>Object.values(e).filter(t=>{const r=typeof t;return r==="string"||r==="number"||r==="boolean"}),J8e=(e,t,r)=>{const n=ut(e.customer_id);if(t&&n&&Jt(n)===Jt(t.id))return!0;const a=[ut(e.customer_name),ut(e.company_name),ut(e.importer),ut(e.email),ut(e.uploaded_by),ut(e.username),ut(e.actor),ut(e.message),ut(e.id)];if(t&&a.some(i=>Kv(i,t.company_name))||r.length>0&&a.some(i=>Up(i,r)))return!0;if(r.length===0)return!1;const s=Ej(e).map(i=>Jt(String(i))).join(" ");return r.some(i=>s.includes(i))},Tj=e=>{const t=String(e||"").toLowerCase();return t==="pending"||t.includes("pending")},Nj=(e,t)=>{if(!Tj(e))return!1;const r=Qs(t);if(!r)return!1;const n=new Date;return n.setHours(0,0,0,0),n.getTime()-r.getTime()>3*24*60*60*1e3},Q8e=e=>{const t=Qs(e);if(!t)return 0;const r=new Date;return r.setHours(0,0,0,0),Math.floor((r.getTime()-t.getTime())/(24*60*60*1e3))},e2=e=>{if(!e)return null;const t=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(t){const[,n,a,s]=t;return new Date(Number(n),Number(a)-1,Number(s)).getTime()}const r=new Date(e);return Number.isNaN(r.getTime())?null:(r.setHours(0,0,0,0),r.getTime())},il=e=>{const t=e==null?void 0:e.code;if(t==="PGRST205"||t==="42P01")return!0;const r=e instanceof Error?e.message:String(e??"");return/relation .* does not exist|could not find the table|schema cache/i.test(r)};async function Z8e(e,t,r){if(!Ee)return null;const n=e.trim().toLowerCase(),a=t.trim();if(n){const s=await Ee.from("customers").select("id, company_name, email, contact_name, phone, country, status, updated_at").ilike("email",n).limit(1).maybeSingle();if(s.data)return s.data;s.error&&!il(s.error)&&r.push(`customers lookup by email failed: ${sl(s.error)}`)}if(a){const s=await Ee.from("customers").select("id, company_name, email, contact_name, phone, country, status, updated_at").ilike("id",a).limit(1).maybeSingle();if(s.data)return s.data;s.error&&!il(s.error)&&r.push(`customers lookup by id failed: ${sl(s.error)}`);const i=await Ee.from("customers").select("id, company_name, email, contact_name, phone, country, status, updated_at").ilike("company_name",`%${a}%`).limit(1).maybeSingle();if(i.data)return i.data;i.error&&!il(i.error)&&r.push(`customers lookup by company_name failed: ${sl(i.error)}`)}return r.push("Customer account is not mapped in customers table; results may be incomplete."),null}function e6e(e){const t=e.filter(s=>{const i=String(s.review_status||"").toLowerCase(),o=String(s.status||"").toLowerCase();return i.includes("pending")||o.includes("processing")||o.includes("uploading")}).length,r=e.filter(s=>String(s.review_status||"").toLowerCase().includes("approve")).length,n=e.filter(s=>{const i=String(s.review_status||"").toLowerCase();return i.includes("reject")||i.includes("change")}).length,a=e.map(s=>s.uploaded_at).filter(Boolean).sort((s,i)=>s>i?-1:1)[0]??null;return{total:e.length,pendingReview:t,approved:r,rejectedOrChanges:n,latestUploadAt:a}}function dV(e){const t=e.reduce((s,i)=>s+Vr(i.usd),0),r=e.filter(s=>Nj(s.status_type,s.invoice_date)).length,n=e.filter(s=>Tj(s.status_type)).length,a=e.map(s=>s.invoice_date).filter(Boolean).sort((s,i)=>s>i?-1:1)[0]??null;return{total:e.length,totalUsd:t,overdueCount:r,pendingCount:n,latestInvoiceDate:a}}function t6e(e){const t=new Map;let r=0;e.forEach(a=>{const s=Vr(a.qty);r+=s;const i=String(a.factory||"UNKNOWN").trim().toUpperCase();t.set(i,(t.get(i)??0)+s)});const n=[...t.entries()].map(([a,s])=>({factory:a,qty:s})).sort((a,s)=>s.qty-a.qty).slice(0,3);return{totalQty:r,itemCount:e.length,topFactories:n}}function r6e(e){const t=[...e].sort((h,p)=>String(h.date||"").localeCompare(String(p.date||""))),r=t.length>0?t[t.length-1].date:null,n=Qs(r);if(!n)return{rowCount:e.length,latestDate:null,current30dWeight:0,previous30dWeight:0,trendPct:0,topMarkets:[]};const a=24*60*60*1e3,s=n.getTime()-30*a,i=n.getTime()-60*a;let o=0,c=0;const u=new Map;e.forEach(h=>{var v;const p=(v=Qs(h.date))==null?void 0:v.getTime(),g=Vr(h.weight_kg);if(!p)return;p>=s&&p<=n.getTime()&&(o+=g),p>=i&&p<s&&(c+=g);const m=String(h.destination_country||"UNKNOWN").toUpperCase();u.set(m,(u.get(m)??0)+g)});const d=c>0?(o-c)/c*100:0,f=[...u.entries()].map(([h,p])=>({market:h,weight:p})).sort((h,p)=>p.weight-h.weight).slice(0,3);return{rowCount:e.length,latestDate:r,current30dWeight:o,previous30dWeight:c,trendPct:d,topMarkets:f}}const n6e=e=>{const t=Jt(e),r=t.match(/(\d{1,3})\s*(day|days|)/);if(r){const n=Number(r[1]);if(Number.isFinite(n)&&n>0)return Math.min(n,3650)}return t.includes("")||t.includes("quarter")?90:t.includes("")||t.includes("year")?365:30},a6e=e=>{const t=Jt(e),r=t.match(/top\s*(\d{1,2})/)??t.match(/(\d{1,2})\s*/)??t.match(/\s*(\d{1,2})/);if(!r)return 5;const n=Number(r[1]);return!Number.isFinite(n)||n<=0?5:Math.min(n,20)},$E=(e,t)=>{const r=Jt(e);return[...new Set(t.map(n=>n.trim()).filter(n=>n.length>=3))].sort((n,a)=>a.length-n.length).find(n=>r.includes(Jt(n)))??null},kv=(e,t)=>{const r=new Map;return e.forEach(n=>{const a=t==="destination_country"?n.destination_country:n.product,s=String(a||"UNKNOWN").trim();s&&r.set(s,(r.get(s)??0)+Vr(n.weight_kg))}),[...r.entries()].map(([n,a])=>({name:n,weight:a})).sort((n,a)=>a.weight-n.weight)};function t2(e,t){const r=Jt(e),n=t.market.filter(k=>Qs(k.date));if(n.length===0)return aM(t);const a=n.map(k=>Qs(k.date)).filter(k=>!!k).sort((k,N)=>N.getTime()-k.getTime())[0];if(!a)return aM(t);const s=n6e(e),i=24*60*60*1e3,o=a.getTime()-s*i,c=a.getTime()-s*2*i,u=$E(e,n.map(k=>String(k.destination_country||"")).filter(Boolean)),d=$E(e,n.map(k=>String(k.product||"")).filter(Boolean)),f=k=>k.filter(N=>!(u&&Jt(String(N.destination_country||""))!==Jt(u)||d&&Jt(String(N.product||""))!==Jt(d))),h=f(n).filter(k=>{var T;const N=(T=Qs(k.date))==null?void 0:T.getTime();return N?N>=o&&N<=a.getTime():!1}),p=f(n).filter(k=>{var T;const N=(T=Qs(k.date))==null?void 0:T.getTime();return N?N>=c&&N<o:!1});if(h.length===0)return["Market Intelligence",`-  ${s} `,u?`- market filter: ${u}`:"",d?`- product filter: ${d}`:""].filter(Boolean).join(`
`);const g=a6e(e),m=/top||||market share|/.test(r),v=/product|||/.test(r),y=/trend|||||compare/.test(r),b=h.reduce((k,N)=>k+Vr(N.weight_kg),0),x=p.reduce((k,N)=>k+Vr(N.weight_kg),0),_=x>0?(b-x)/x*100:0;if(y)return[" Market Intelligence Trend",`- : ${s}   ${si(a.toISOString())}`,`- : ${lt(b)} KG`,`- : ${lt(x)} KG`,`- Trend change: ${x>0?`${_.toFixed(1)}%`:" ( 0)"}`,u?`- market filter: ${u}`:"",d?`- product filter: ${d}`:""].filter(Boolean).join(`
`);if(v){const k=kv(h,"product").slice(0,g);return[`Top Products (${s} )`,...k.map((N,T)=>`${T+1}. ${N.name} | ${lt(N.weight)} KG`),u?`- market filter: ${u}`:""].filter(Boolean).join(`
`)}if(m||u){const k=kv(h,"destination_country").slice(0,g);return[`Top Markets (${s} )`,...k.map((N,T)=>`${T+1}. ${N.name} | ${lt(N.weight)} KG`),d?`- product filter: ${d}`:""].filter(Boolean).join(`
`)}const S=kv(h,"destination_country").slice(0,3),E=kv(h,"product").slice(0,3);return[" Market Intelligence",`- : ${s}   ${si(a.toISOString())}`,`- : ${lt(b)} KG  ${lt(h.length)} records`,`- Top markets: ${S.map(k=>`${k.name} (${lt(k.weight)} KG)`).join(" | ")||"-"}`,`- Top products: ${E.map(k=>`${k.name} (${lt(k.weight)} KG)`).join(" | ")||"-"}`].join(`
`)}const s6e=(e,t)=>{const r=String(t||"").trim();if(r)return r;const n=String(e||"").trim().toLowerCase();return n?n==="yellow"?"High-potential customers":n==="green"?"General customers":n==="red"?"Watchlist customers":n==="new"?"New customers":n==="existing"||n==="active"?"Existing customers":(e==null?void 0:e.toString())||"Unclassified":"Unclassified"},i6e=e=>{var n;const t=(n=e.supplemental.supabase_companies)!=null&&n.length?e.supplemental.supabase_companies:e.supplemental.companies??[],r=new Map;return t.forEach(a=>{const s=ut(a.customer_name)??ut(a.customer)??ut(a.company_name)??ut(a.importer)??ut(a.name);if(!s)return;const i=ut(a.company_id)??ut(a.id)??`${Jt(s)}-${Jt(ut(a.location)??"")}`,o=ut(a.customer_location)??ut(a.location)??ut(a.country)??"-",c=s6e(ut(a.status),ut(a.value_tag)),u=ut(a.latest_purchase_time)??ut(a.latest_purchase_date)??ut(a.updated_at),d=Vr(a.trades);r.set(i,{companyId:i,name:s.trim(),location:o.trim()||"-",status:c,lastPurchaseDate:u,trades:d})}),[...r.values()].sort((a,s)=>a.name.localeCompare(s.name))};function r2(e,t){const r=i6e(t);if(r.length===0)return"Market Intelligence:  companies";const a=/|all|every/.test(Jt(e))?100:10,s=new Map;r.forEach(c=>{const u=s.get(c.status)??[];u.push(c),s.set(c.status,u)});const o=[...s.entries()].sort((c,u)=>u[1].length-c[1].length||c[0].localeCompare(u[0])).flatMap(([c,u])=>{const d=u.slice(0,a).map((h,p)=>`${p+1}. ${h.name} | ${h.location} | last ${si(h.lastPurchaseDate)} | trades ${lt(h.trades)}`),f=u.length>a?[`... ${u.length-a} `]:[];return[`[${c}] ${u.length} `,...d,...f,""]});return[`Market Intelligence Customer List: ${r.length} `,...o].join(`
`).trim()}function o6e(e){const t=e.supplemental.contract_lines??[],r=fV(t),n=t.reduce((g,m)=>g+Vr(m.ton),0),a=t.reduce((g,m)=>g+Vr(m.acc),0),s=n-a,i=t.filter(g=>Jt(String(g.status??"")).includes("pending")).length,o=t.filter(g=>Jt(String(g.status??"")).includes("complete")).length,c=new Set(t.map(g=>{var v;const m=g.contracts;return Array.isArray(m)?ut((v=m[0])==null?void 0:v.customer):ut(m==null?void 0:m.customer)}).filter(Boolean)).size,u=e.supplemental.deliveries??[],d=u.reduce((g,m)=>g+Vr(m.quantity),0),f=e.supplemental.finance_invoices??[],h=f.reduce((g,m)=>g+Vr(m.usd),0),p=f.filter(g=>{const m=Jt(String(g.status_type??""));return m.includes("pending")||m.includes("provisional")}).length;return["Thai Roong Ruang (TRR) Performance",`- Orders & Shipments: ${lt(t.length)} lines | Buyers ${lt(c)} | Pending ${lt(i)} | Overdue ${lt(r.length)} | Complete ${lt(o)}`,`- Commit vs Delivered: Commit ${lt(n)} MT | Delivered ${lt(a)} MT | Remaining ${lt(s)} MT`,`- Deliveries: ${lt(u.length)} records | Quantity ${lt(d)} MT`,`- Invoices: ${lt(f.length)} records | Open ${lt(p)} | Total ${If(h)}`,`- Inventory: ${lt(e.stockStats.itemCount)} rows | Total ${lt(e.stockStats.totalQty)} MT`].join(`
`)}async function l6e(e,t){if(!Or||!Ee)throw new Error("Supabase is not configured.");const r=[],n=await Z8e(e,t,r),a=Y8e(e,t,n==null?void 0:n.company_name),s=(async()=>{try{let x=Ee.from("uploads").select("id, file_name, file_type, review_status, status, uploaded_at, uploaded_by").order("uploaded_at",{ascending:!1}).limit(500);if(n)x=x.eq("customer_id",n.id);else if(e)x=x.eq("uploaded_by",e);else return r.push("uploads skipped: no customer mapping and no account email for fallback."),[];const{data:_,error:S}=await x;if(S)throw S;return _??[]}catch(x){const _=sl(x);return il(x)||r.push(`uploads query failed: ${_}`),[]}})(),i=(async()=>{try{const{data:x,error:_}=await Ee.from("finance_invoices").select("invoice, usd, status_type, invoice_date, customer_name").order("invoice_date",{ascending:!1}).limit(1e3);if(_)throw _;const S=x??[];return n?S.filter(E=>Kv(E.customer_name,n.company_name)):a.length?S.filter(E=>Up(E.customer_name,a)):(r.push("finance_invoices not scoped: no customer mapping terms."),[])}catch(x){const _=sl(x);return il(x)||r.push(`finance_invoices query failed: ${_}`),[]}})(),o=(async()=>{try{const{data:x,error:_}=await Ee.from("stock").select("*").limit(2e3);if(_)throw _;const S=x??[];if(n){const k=S.filter(T=>{const A=ut(T.customer_id);return A?Jt(A)===Jt(n.id):!1});if(k.length>0)return k.map(Vh);const N=S.filter(T=>{const A=ut(T.customer_name)??ut(T.company_name)??ut(T.importer);return Kv(A,n.company_name)});return N.length>0?N.map(Vh):(r.push("stock table has no customer mapping; showing shared stock data."),S.map(Vh))}if(!a.length)return r.push("stock skipped: no customer mapping terms."),[];const E=S.filter(k=>[ut(k.customer_name),ut(k.company_name),ut(k.importer),ut(k.owner_email),ut(k.email)].some(T=>Up(T,a)));return E.length>0?E.map(Vh):(r.push("stock not scoped: missing customer key in stock table; fallback to shared stock data."),S.map(Vh))}catch(x){const _=sl(x);return il(x)||r.push(`stock query failed: ${_}`),[]}})(),c=(async()=>{try{const{data:x,error:_}=await Ee.from("purchase_trend").select("date, weight_kg, destination_country, product, importer").order("date",{ascending:!1}).limit(1500);if(_)throw _;const S=x??[];return n?S.filter(E=>Kv(E.importer,n.company_name)):a.length?S.filter(E=>Up(E.importer,a)):(r.push("purchase_trend not scoped: no customer mapping terms."),[])}catch(x){const _=sl(x);return il(x)||r.push(`purchase_trend query failed: ${_}`),[]}})(),[u,d,f,h]=await Promise.all([s,i,o,c]),p=await Promise.all(K8e.map(async x=>{try{let _=null,S=null;if(x==="contract_lines"){const N=await Ee.from("contract_lines").select("line_id, contract_id, job, status, ton, acc, date_to, contracts(customer)").order("date_to",{ascending:!0}).limit(3e3);_=N.data??[],S=N.error}else if(x==="deliveries"){const N=await Ee.from("deliveries").select("*").order("delivery_date",{ascending:!1}).limit(2e3);_=N.data??[],S=N.error}else if(x==="finance_invoices"){const N=await Ee.from("finance_invoices").select("invoice, usd, status_type, invoice_date, customer_name").order("invoice_date",{ascending:!1}).limit(2e3);_=N.data??[],S=N.error}else{const N=await Ee.from(x).select("*").limit(1e3);_=N.data??[],S=N.error}if(S)throw S;const E=_??[];if(X8e.has(x))return[x,E];const k=E.filter(N=>J8e(N,n,a));return[x,k]}catch(_){return il(_)||r.push(`${x} query failed: ${sl(_)}`),[x,[]]}})),g=Object.fromEntries(p),m=e6e(u),v=dV(d),y=t6e(f),b=r6e(h);return{loadedAt:new Date().toISOString(),customer:n,uploads:u,invoices:d,stock:f,market:h,uploadStats:m,invoiceStats:v,stockStats:y,marketStats:b,supplemental:g,warnings:r}}function fV(e){const t=new Date().setHours(0,0,0,0);return e.map(r=>{var g;const n=String(r.status??""),a=n.toLowerCase(),s=ut(r.date_to),i=e2(s),o=Vr(r.ton),c=Vr(r.acc),u=o-c,d=a.includes("overdue"),f=a.includes("pending")&&i!==null&&i<t&&u>0;if(!d&&!f)return null;const h=r.contracts,p=Array.isArray(h)?ut((g=h[0])==null?void 0:g.customer):ut(h==null?void 0:h.customer);return{contract_id:ut(r.contract_id)??"-",job:ut(r.job)??"-",customer:p??ut(r.customer_name)??"-",status:n||"-",date_to:s,remaining_ton:u}}).filter(r=>!!r).sort((r,n)=>{const a=e2(r.date_to)??Number.MAX_SAFE_INTEGER,s=e2(n.date_to)??Number.MAX_SAFE_INTEGER;return a-s})}function c6e(e){var i,o,c,u,d,f;const t=((i=e.customer)==null?void 0:i.company_name)||"Customer Account",r=((o=e.supplemental.contract_lines)==null?void 0:o.length)??0,n=((c=e.supplemental.deliveries)==null?void 0:c.length)??0,a=((u=e.supplemental.activity_logs)==null?void 0:u.length)??0,s=(((d=e.supplemental.companies)==null?void 0:d.length)??0)+(((f=e.supplemental.supabase_companies)==null?void 0:f.length)??0);return[` ${t}`,`- Uploads: ${lt(e.uploadStats.total)}  | Pending review ${lt(e.uploadStats.pendingReview)} | Approved ${lt(e.uploadStats.approved)}`,`- Invoices: ${lt(e.invoiceStats.total)}  | Pending ${lt(e.invoiceStats.pendingCount)} | Overdue ${lt(e.invoiceStats.overdueCount)} | Total ${If(e.invoiceStats.totalUsd)}`,`- Inventory: ${lt(e.stockStats.itemCount)}  |  ${lt(e.stockStats.totalQty)} MT`,`- Market: ${lt(e.marketStats.rowCount)} records | 30  ${lt(e.marketStats.current30dWeight)} KG`,`- Project tables: Contracts ${lt(r)} | Deliveries ${lt(n)} | Activity ${lt(a)} | Companies ${lt(s)}`,"","  `Orders & Shipments overdue `, ` overdue `, ` delivery `"].join(`
`)}function n2(e){const t=ew(e),r=dV(t);return[" Invoices & Payments",`- : ${lt(r.total)} `,`- Pending: ${lt(r.pendingCount)} `,`- Overdue (>3 ): ${lt(r.overdueCount)} `,`- : ${If(r.totalUsd)}`,`- : ${si(r.latestInvoiceDate)}`].join(`
`)}const u6e=e=>({invoice:ut(e.invoice),usd:typeof e.usd=="number"?e.usd:typeof e.usd=="string"?Number(e.usd):null,status_type:ut(e.status_type),invoice_date:ut(e.invoice_date),customer_name:ut(e.customer_name)}),ew=e=>{const t=(e.supplemental.finance_invoices??[]).map(r=>u6e(r));return t.length>0?t:e.invoices},nM=e=>{const t=e.match(/(?:detail|details|info|information|customer|client|company|for|||)\s+([A-Za-z0-9][A-Za-z0-9 .,&'()/-]{1,80})/i);if(t!=null&&t[1]){const s=t[1].replace(/\s+(please|pls||||)$/i,"").trim();if(s.length>=2)return s}const r=e.match(/\b[A-Z][A-Z0-9&()./-]{2,}\b/g)??[],n=new Set(["AI","ORIGO","TRR","USD","MT"]),a=r.find(s=>!n.has(s.toUpperCase()));return a||null},hV=(e,t)=>{const r=[...new Set(t.map(i=>String(i.customer_name||"").trim()).filter(Boolean))];if(r.length===0)return nM(e);const n=$E(e,r);if(n)return n;const a=nM(e);if(!a)return null;const s=Jt(a);return r.find(i=>Jt(i).includes(s)||s.includes(Jt(i)))??a},a2=(e,t)=>{const r=ew(t);return!!hV(e,r)};function s2(e,t){const r=ew(t),n=hV(e,r);if(r.length===0)return n?` ${n} `:" Invoices & Payments ";if(!n||n.length<2)return[""," ` ALVEAN`  ` COFCO`"].join(`
`);const a=r.filter(h=>Up(h.customer_name,[Jt(n)]));if(a.length===0)return` ${n}  Invoices & Payments`;const s=a.reduce((h,p)=>h+Vr(p.usd),0),i=a.filter(h=>Tj(h.status_type)).length,o=a.filter(h=>Nj(h.status_type,h.invoice_date)).length,c=a.map(h=>h.invoice_date).filter(Boolean).sort((h,p)=>h>p?-1:1)[0]??null,u=new Map;a.forEach(h=>{const p=String(h.status_type||"Unknown").trim()||"Unknown";u.set(p,(u.get(p)??0)+1)});const d=[...u.entries()].sort((h,p)=>p[1]-h[1]).slice(0,3).map(([h,p])=>`${h} ${p}`).join(" | "),f=[...a].sort((h,p)=>String(h.invoice_date||"")>String(p.invoice_date||"")?-1:1).slice(0,8).map((h,p)=>{const g=h.invoice||"(no-invoice-no)",m=If(Vr(h.usd)),v=h.status_type||"Unknown";return`${p+1}. ${g} | ${m} | ${v} | ${si(h.invoice_date)}`});return[` ${n} (Invoices & Payments)`,`- : ${lt(a.length)} `,`- Pending: ${lt(i)} | Overdue: ${lt(o)}`,`- : ${If(s)}`,`- : ${si(c)}`,d?`- : ${d}`:"","",":",...f].filter(Boolean).join(`
`)}function Ev(e,t=!1){const r=ew(e).filter(a=>Nj(a.status_type,a.invoice_date)).sort((a,s)=>{var c,u;const i=((c=Qs(a.invoice_date))==null?void 0:c.getTime())??Number.MAX_SAFE_INTEGER,o=((u=Qs(s.invoice_date))==null?void 0:u.getTime())??Number.MAX_SAFE_INTEGER;return i-o});if(r.length===0)return t?"":[" Overdue ",": status  pending  invoice_date  3 "].join(`
`);const n=r.slice(0,15).map((a,s)=>{const i=a.invoice||"(no-invoice-no)",o=a.customer_name||"(no-customer-name)",c=If(Vr(a.usd)),u=Q8e(a.invoice_date);return`${s+1}. ${i} | ${o} | ${c} | due ${si(a.invoice_date)} | overdue ${u} days`});return[` Overdue ${r.length} `,...n,r.length>15?`... ${r.length-15} `:""].filter(Boolean).join(`
`)}function Gh(e){const t=e.supplemental.contract_lines??[],r=fV(t);if(r.length===0)return["Orders & Shipments Overdue: ",": status = overdue  status = pending  date_to  remaining ton > 0"].join(`
`);const n=r.slice(0,20).map((a,s)=>`${s+1}. ${a.contract_id} | Job ${a.job} | ${a.customer} | due ${si(a.date_to)} | remaining ${lt(a.remaining_ton)} MT`);return[`Orders & Shipments Overdue: ${r.length} `,...n,r.length>20?`... ${r.length-20} `:""].filter(Boolean).join(`
`)}function d6e(e){const t=e.uploadStats;return[" Upload Center",`- : ${lt(t.total)} `,`- Pending review/processing: ${lt(t.pendingReview)} `,`- Approved: ${lt(t.approved)} `,`- Rejected/Changes requested: ${lt(t.rejectedOrChanges)} `,`- : ${si(t.latestUploadAt)}`].join(`
`)}function Xv(e){const t=e.stockStats,r=t.topFactories.length?t.topFactories.map((n,a)=>`${a+1}) ${n.factory}: ${lt(n.qty)} MT`).join(" | "):" factory";return[" Inventory",`-  stock: ${lt(t.itemCount)} `,`- : ${lt(t.totalQty)} MT`,`- Top factories: ${r}`].join(`
`)}const f6e=(e,t)=>{const r=Jt(e);return[...new Set(t.map(a=>String(a.factory||"").trim()).filter(Boolean))].sort((a,s)=>s.length-a.length).find(a=>r.includes(Jt(a)))??null};function i2(e,t){if(t.stock.length===0)return Xv(t);const r=f6e(e,t.stock),n=r?t.stock.filter(i=>Jt(String(i.factory||""))===Jt(r)):t.stock;if(n.length===0)return r?` ${r}`:"";const s=[...n].sort((i,o)=>Vr(o.qty)-Vr(i.qty)).slice(0,20).map((i,o)=>{const c=i.factory||"-",u=i.type||"-",d=i.tag||"-";return`${o+1}. ${c} | ${u} | tag ${d} | ${lt(Vr(i.qty))} MT`});return[r?` ${r}: ${n.length} `:`: ${n.length} `,...s,n.length>20?`... ${n.length-20} `:""].filter(Boolean).join(`
`)}function aM(e){const t=e.marketStats,r=t.topMarkets.length?t.topMarkets.map((n,a)=>`${a+1}) ${n.market}: ${lt(n.weight)} KG`).join(" | "):"";return[" Market Trend ( purchase_trend)",`- : ${si(t.latestDate)}`,`-  30 : ${lt(t.current30dWeight)} KG`,`-  30 : ${lt(t.previous30dWeight)} KG`,`- Trend change: ${t.previous30dWeight>0?`${t.trendPct.toFixed(1)}%`:" ( 0)"}`,`- Top markets: ${r}`].join(`
`)}function qu(e,t,r){const n=e.supplemental[t]??[];if(n.length===0)return`${r}
-  scope `;if(t==="contract_lines"){const s=n.slice(0,8).map((i,o)=>{const c=ut(i.contract_id)??"-",u=ut(i.job)??"-",d=ut(i.status)??"-",f=Vr(i.ton??null),h=Vr(i.acc??null),p=f-h,g=ut(i.date_to),m=i.contracts,v=Array.isArray(m)&&m[0]&&typeof m[0]=="object"?ut(m[0].customer)??"-":"-",y=[];return d&&d!=="-"&&y.push(d),p>0&&y.push(`remaining ${lt(p)} MT`),g&&y.push(`due ${si(g)}`),`${o+1}. ${c} | Job ${u} | ${v} | ${y.join(" | ")}`});return[r,`- : ${lt(n.length)}`,"- :",...s].join(`
`)}const a=n.slice(0,5).map((s,i)=>{const o=Ej(s).slice(0,4).map(c=>String(c)).join(" | ");return`${i+1}. ${o||"-"}`});return[r,`- : ${lt(n.length)}`,"- :",...a].join(`
`)}function h6e(e,t,r="all"){const n=Jt(e),a=_=>_.test(n),s="",i=a(/help|||/),o=a(/over\s*due|overdue|past\s*due|||/),c=a(/|||list|detail|details||show/),u=a(/|detail|info||customer|/),d=a(/invoice|payment|bill||/),f=a(/order|orders|shipment|shipments|||/),h=a(/upload|file|review||/),p=a(/inventory|stock|warehouse||/),g=a(/market|trend|export|import|||/),m=a(/||customer list|list customer|prospect|lead| origo|origo /),v=a(/thai roong ruang|trr||/),y=a(/performance||||/),b=a(/summary|overall||/);if(r!=="all"&&(m||f||d||p||h||g&&!p&&!f&&!d)){if(p)return c||a(/||sb|/)?i2(e,t)+s:Xv(t)+s;if(f)return o||c?Gh(t)+s:qu(t,"contract_lines"," Orders & Shipments")+s;if(d)return u||a2(e,t)?s2(e,t)+s:o||c?Ev(t)+s:n2(t)+s;if(m)return r2(e,t)+s;if(g)return t2(e,t)+s}if(r==="market_intelligence")return m?r2(e,t)+s:t2(e,t)+s;if(r==="orders_shipments")return o||c?Gh(t)+s:qu(t,"contract_lines"," Orders & Shipments")+s;if(r==="inventory")return c||a(/||sb|/)?i2(e,t)+s:Xv(t)+s;if(r==="invoices_payments")return u||a2(e,t)?s2(e,t)+s:o||c?Ev(t)+s:n2(t)+s;if(i)return[" 4 :","- Uploads (pending/approved/review)","- Invoices & Payments (pending/overdue/total USD)","- Orders & Shipments (contract_lines / deliveries)","- Inventory ( + top factories)","- Market trend (30d vs previous 30d  purchase_trend)","- Market Intelligence customer list ()","- TRR company performance summary","- Project tables : contracts, deliveries, activity logs, companies","",": ` Market Intelligence`, ` performance  TRR`, `Orders & Shipments overdue `"].join(`
`)+s;if(v&&(y||b||g||f||d)||a(/trr performance|performance trr|performance  trr/))return o6e(t)+s;if(m&&!d&&!f&&!h&&!p)return r2(e,t)+s;if(o&&c&&f)return Gh(t)+s;if(o&&c){const _=Gh(t),S=Ev(t,!0);return[_,S?`
${S}`:""].join("")+s}if(f&&o)return Gh(t)+s;if(f)return qu(t,"contract_lines"," Orders & Shipments")+s;if(o&&d)return Ev(t)+s;if((u||a2(e,t))&&r==="all"){const _=s2(e,t);if(!_.startsWith(""))return _+s}if(d||o)return n2(t)+s;if(h)return d6e(t)+s;if(p)return c||a(/||sb|/)?i2(e,t)+s:Xv(t)+s;if(g)return t2(e,t)+s;if(a(/contract|/))return qu(t,"contract_lines"," Contract Lines")+s;if(a(/deliver|shipment||/))return qu(t,"deliveries"," Deliveries")+s;if(a(/activity|log|/))return qu(t,"activity_logs"," Activity Logs")+s;if(a(/company|/)){const _=[...t.supplemental.companies??[],...t.supplemental.supabase_companies??[]];if(_.length===0)return` Company Profile
-  scope `+s;const S=_.slice(0,5).map((E,k)=>`${k+1}. ${Ej(E).slice(0,4).join(" | ")}`);return[" Company Profile",`- : ${lt(_.length)}`,"- :",...S].join(`
`)+s}return b?c6e(t)+s:[`: "${e}"`,"  Upload, Invoice, Inventory  Market",": ` overdue `, ` upload  pending`, ` 30 `"].join(`
`)+s}const p6e=[{value:"all",label:"All"},{value:"market_intelligence",label:"Market Intelligence"},{value:"orders_shipments",label:"Orders & Shipments"},{value:"inventory",label:"Inventory"},{value:"invoices_payments",label:"Invoices & Payments"}],pV="origo-ai-chat-sessions-v1",mV="ORIGO AI Agent    ",zp=()=>`msg-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,gV=()=>({id:zp(),role:"assistant",text:mV,createdAt:new Date().toISOString()}),o2=e=>{const t=new Date().toISOString();return{id:`chat-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:"New Chat",topic:e,messages:[gV()],updatedAt:t}},m6e=e=>{const t=e.replace(/\s+/g," ").trim();return t?t.length>42?`${t.slice(0,42)}...`:t:"New Chat"},g6e=e=>Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const r=t,n=Array.isArray(r.messages)?r.messages.map(i=>{if(!i||typeof i!="object")return null;const o=i;return o.role!=="assistant"&&o.role!=="user"||typeof o.text!="string"?null:{id:typeof o.id=="string"?o.id:zp(),role:o.role,text:o.text,createdAt:typeof o.createdAt=="string"?o.createdAt:new Date().toISOString()}}).filter(i=>!!i):[],a=r.topic,s=a==="market_intelligence"||a==="orders_shipments"||a==="inventory"||a==="invoices_payments"?a:"all";return{id:typeof r.id=="string"?r.id:`chat-${Math.random().toString(36).slice(2,10)}`,title:typeof r.title=="string"&&r.title.trim()?r.title:"New Chat",topic:s,messages:n.length>0?n:[gV()],updatedAt:typeof r.updatedAt=="string"?r.updatedAt:new Date().toISOString()}}).filter(t=>!!t):[],v6e=()=>{if(typeof window>"u")return[];try{const e=window.localStorage.getItem(pV);return e?g6e(JSON.parse(e)):[]}catch{return[]}},x6e=e=>{const t=e.split(`
`).map(a=>a.trim()).filter(Boolean);if(t.length===0||!t[0].toLowerCase().startsWith("market intelligence customer list:"))return null;const r=[];let n=null;for(let a=1;a<t.length;a+=1){const s=t[a],i=s.match(/^\[(.+)\]\s+(.+)$/);if(i){n={status:i[1],countLabel:i[2],items:[]},r.push(n);continue}const o=s.match(/^\d+\.\s+(.+?)\s+\|\s+(.+?)\s+\|\s+last\s+(.+?)\s+\|\s+trades\s+(.+)$/i);o&&n&&n.items.push({name:o[1],location:o[2],last:o[3],trades:o[4]})}return{title:t[0],sections:r}},y6e=e=>{const r=e.split(/\n\s*\n/).map(a=>a.trim()).filter(Boolean).map(a=>{const s=a.split(`
`).map(d=>d.trim()).filter(Boolean),i=s[0]??"",o=[],c=[],u=[];return s.slice(1).forEach(d=>{const f=d.match(/^-\s+(.+)$/);if(f){o.push(f[1]);return}const h=d.match(/^\d+\.\s+(.+)$/);if(h){const p=h[1].split(/\s+\|\s+/).map(g=>g.trim()).filter(Boolean);c.push({title:p[0]??h[1],meta:p.slice(1)});return}u.push(d)}),{title:i,bullets:o,items:c,notes:u}});return r.some(a=>a.items.length>0||a.bullets.length>0||a.notes.length>0)?r:null},Tv=e=>{const t=e.toLowerCase();return/market intelligence|market trend|prospect|lead||/.test(t)?"/market-intelligence":/orders|shipments|shipment|contract|delivery|||/.test(t)?"/my-company/orders":/invoices|invoice|payments|payment||/.test(t)?"/my-company/invoices":/inventory|stock|warehouse||/.test(t)?"/my-company/inventory":/upload|file|review||/.test(t)?"/upload":/performance|my company|thai roong ruang|trr||/.test(t)?"/my-company/performance":null};function b6e({text:e,onNavigate:t}){const[r,n]=w.useState({}),[a,s]=w.useState({}),[i,o]=w.useState({}),c=x6e(e),u=c?null:y6e(e);return c?l.jsxs("div",{className:"space-y-2.5",children:[l.jsx("div",{className:"rounded-xl border border-border/70 bg-background/60 px-3 py-2",children:l.jsx("p",{className:"text-sm font-semibold",children:c.title})}),l.jsx("div",{className:"space-y-2.5",children:c.sections.map((d,f)=>{const h=`${d.status}-${f}`,p=r[h]??f===0,g=a[h]??!1,m=g?d.items:d.items.slice(0,2);return l.jsxs("section",{className:"rounded-xl border border-border/70 bg-background/60 p-2.5",children:[l.jsxs("button",{type:"button",className:"flex w-full items-center justify-between gap-2 text-left",onClick:()=>n(v=>({...v,[h]:!p})),children:[l.jsx("p",{className:"text-sm font-semibold",children:d.status}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(sr,{variant:"outline",className:"rounded-full text-[11px]",children:d.countLabel}),p?l.jsx(Ml,{className:"h-4 w-4 text-muted-foreground"}):l.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]})]}),p?l.jsxs("div",{className:"mt-2 space-y-1.5",children:[m.map((v,y)=>l.jsxs("button",{type:"button",className:"w-full rounded-lg border border-border/70 bg-card px-2.5 py-2 text-left hover:bg-muted/40",onClick:()=>t("/market-intelligence"),children:[l.jsx("p",{className:"text-sm font-medium leading-snug",children:v.name}),l.jsxs("p",{className:"mt-0.5 text-xs text-muted-foreground",children:[v.location,"  ",v.last,"  trades ",v.trades]})]},`${d.status}-${v.name}-${y}`)),d.items.length>2?l.jsx("button",{type:"button",className:"w-full rounded-lg border border-dashed border-border/70 bg-card px-2.5 py-1.5 text-xs font-medium text-muted-foreground hover:text-foreground",onClick:()=>s(v=>({...v,[h]:!g})),children:g?"":` ${d.items.length-2} `}):null]}):null]},h)})})]}):u?l.jsx("div",{className:"space-y-2.5",children:u.map((d,f)=>{const h=`${d.title}-${f}`,p=i[h]??!1,g=p?d.items:d.items.slice(0,3);return l.jsxs("section",{className:"rounded-xl border border-border/70 bg-background/60 p-2.5",children:[l.jsx("p",{className:"text-sm font-semibold",children:d.title}),d.bullets.length>0?l.jsx("div",{className:"mt-2 space-y-1.5",children:d.bullets.map((m,v)=>{const y=m.match(/^([^:]+):\s*(.+)$/);return y?l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsxs("span",{className:"font-medium text-foreground",children:[y[1],":"]})," ",y[2]]},`${h}-bullet-${v}`):l.jsx("p",{className:"text-xs text-muted-foreground",children:m},`${h}-bullet-${v}`)})}):null,d.items.length>0?l.jsxs("div",{className:"mt-2 space-y-1.5",children:[g.map((m,v)=>l.jsxs("button",{type:"button",className:"w-full rounded-lg border border-border/70 bg-card px-2.5 py-2 text-left hover:bg-muted/40",onClick:()=>{const y=Tv([d.title,m.title,...m.meta].join(" "))??Tv(d.title);y&&t(y)},children:[l.jsx("p",{className:"text-sm font-medium leading-snug",children:m.title}),m.meta.length>0?l.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:m.meta.join("  ")}):null]},`${h}-item-${v}`)),d.items.length>3?l.jsx("button",{type:"button",className:"w-full rounded-lg border border-dashed border-border/70 bg-card px-2.5 py-1.5 text-xs font-medium text-muted-foreground hover:text-foreground",onClick:()=>o(m=>({...m,[h]:!p})),children:p?"":` ${d.items.length-3} `}):null]}):null,d.notes.length>0?l.jsx("div",{className:"mt-2 space-y-1",children:d.notes.map((m,v)=>l.jsx("p",{className:"text-xs text-muted-foreground",children:m},`${h}-note-${v}`))}):null,Tv([d.title,...d.bullets,...d.notes].join(" "))?l.jsx("button",{type:"button",className:"mt-2 text-xs font-medium text-primary hover:underline",onClick:()=>{const m=Tv([d.title,...d.bullets,...d.notes].join(" "));m&&t(m)},children:""}):null]},h)})}):l.jsx("div",{className:"whitespace-pre-wrap",children:e})}function w6e(){const e=Ao(),{email:t,username:r}=Pa(),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,c]=w.useState(""),[u,d]=w.useState(()=>{const I=v6e();return I.length>0?I:[o2("all")]}),[f,h]=w.useState(""),[p,g]=w.useState("all"),[m,v]=w.useState(!1),[y,b]=w.useState(null),x=w.useMemo(()=>u.find(I=>I.id===f)??u[0]??null,[u,f]),_=w.useMemo(()=>(x==null?void 0:x.messages)??[],[x]),S=w.useMemo(()=>_.some(I=>I.role==="user"),[_]),E=w.useMemo(()=>S?_:_.filter(I=>!(I.role==="assistant"&&I.text===mV)),[_,S]),k=w.useMemo(()=>[...u].sort((I,M)=>I.updatedAt>M.updatedAt?-1:1),[u]);w.useEffect(()=>{f||u[0]&&h(u[0].id)},[f,u]),w.useEffect(()=>{x&&g(x.topic)},[x]),w.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(pV,JSON.stringify(u))},[u]);const N=async()=>{i(!0),b(null);try{const I=await l6e(t,r);return a(I),I}catch(I){const M=I instanceof Error?I.message:"Failed to load database snapshot";return b(M),null}finally{i(!1)}},T=(I,M,W)=>{d(K=>K.map(H=>{if(H.id!==I)return H;const O=H.title==="New Chat"&&M.role==="user"?m6e(M.text):H.title;return{...H,title:O,topic:W,messages:[...H.messages,M],updatedAt:M.createdAt}}))},A=()=>{const I=o2(p);d(M=>[I,...M]),h(I.id),c("")},C=I=>{if(typeof window<"u"&&!window.confirm("Delete this chat history?"))return;let M=null;d(W=>{const K=W.filter(H=>H.id!==I);if(K.length===0){const H=o2(p);return M=H.id,[H]}if(f===I){const H=[...K].sort((O,Z)=>O.updatedAt>Z.updatedAt?-1:1)[0];M=(H==null?void 0:H.id)??K[0].id}return K}),M&&h(M)},j=async I=>{const M=I.trim();if(!M||!x)return;const W=x.id;v(!0),T(W,{id:zp(),role:"user",text:M,createdAt:new Date().toISOString()},p),c("");const K=n??await N();if(!K){T(W,{id:zp(),role:"assistant",text:"  Supabase config ",createdAt:new Date().toISOString()},p),v(!1);return}const H=h6e(M,K,p);T(W,{id:zp(),role:"assistant",text:H,createdAt:new Date().toISOString()},p),v(!1)},R=async I=>{I.preventDefault(),await j(o)};return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"AI Agent",subtitle:"Beta: Chat-style assistant for database-driven customer analysis"}),l.jsx("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:l.jsxs("div",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-base font-semibold",children:"ORIGO Customer Analyst"}),l.jsx(sr,{className:"rounded-full border border-amber-300 bg-amber-50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700",children:"Beta"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:" Supabase: uploads, invoices, stock, purchase trend"})]}),l.jsx("div",{className:"p-4 md:p-5",children:l.jsxs("section",{className:"grid min-h-[620px] gap-3 md:grid-cols-[260px_minmax(0,1fr)]",children:[l.jsxs("aside",{className:"rounded-2xl border border-border/70 bg-background/80 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-sm font-semibold",children:"Chats"}),l.jsx(Ce,{type:"button",size:"sm",className:"h-8 rounded-full px-3 text-xs",onClick:A,children:"New Chat"})]}),l.jsx("div",{className:"mt-2 max-h-[190px] space-y-1.5 overflow-auto pr-1 md:max-h-[680px]",children:k.map(I=>l.jsxs("div",{className:`flex items-start gap-1 rounded-xl border px-2 py-2 transition-colors ${(x==null?void 0:x.id)===I.id?"border-primary/40 bg-primary/10":"border-border/70 bg-card hover:bg-muted/30"}`,children:[l.jsxs("button",{type:"button",onClick:()=>h(I.id),className:"min-w-0 flex-1 px-1 text-left",children:[l.jsx("p",{className:"truncate text-xs font-medium",children:I.title}),l.jsx("p",{className:"mt-0.5 text-[11px] text-muted-foreground",children:new Date(I.updatedAt).toLocaleString()})]}),l.jsx(Ce,{type:"button",size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0 rounded-full text-muted-foreground hover:text-destructive",onClick:()=>C(I.id),"aria-label":`Delete chat ${I.title}`,title:"Delete chat",children:l.jsx(o0,{className:"h-3.5 w-3.5"})})]},I.id))})]}),l.jsxs("div",{className:"flex h-full min-h-[620px] flex-col rounded-2xl border border-border/70 bg-background/80 p-3 md:p-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border/60 pb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bp,{className:"h-4 w-4 text-primary"}),l.jsx("p",{className:"text-sm font-semibold",children:"Chat"})]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full",disabled:s,onClick:async()=>{await N()},children:[l.jsx(CX,{className:`mr-1.5 h-3.5 w-3.5 ${s?"animate-spin":""}`}),"Refresh Data"]})]}),y?l.jsx("div",{className:"mt-3 rounded-xl border border-destructive/30 bg-destructive/5 px-3 py-2 text-xs text-destructive",children:y}):null,l.jsxs("div",{className:"mt-3 flex min-h-0 flex-1 flex-col rounded-xl bg-muted/25",children:[l.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto p-3 md:p-4",children:[!S&&E.length===0?l.jsxs("div",{className:"mx-auto flex min-h-[220px] max-w-2xl flex-col items-center justify-center px-4 text-center",children:[l.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"What can I help with?"}),l.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Ask about Market Intelligence, Orders & Shipments, Inventory, or Invoices & Payments."})]}):null,E.map(I=>l.jsxs("article",{className:`mx-auto flex w-full max-w-3xl gap-2 ${I.role==="user"?"justify-end":"justify-start"}`,children:[I.role==="assistant"?l.jsx("span",{className:"mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-primary/20 text-primary",children:l.jsx(bp,{className:"h-4 w-4"})}):null,l.jsx("div",{className:`max-w-[92%] rounded-2xl border px-3 py-2 text-sm ${I.role==="user"?"border-primary/30 bg-primary/10 text-foreground":"border-border/70 bg-card text-foreground"}`,children:I.role==="assistant"?l.jsx(b6e,{text:I.text,onNavigate:e}):l.jsx("div",{className:"whitespace-pre-wrap",children:I.text})}),I.role==="user"?l.jsx("span",{className:"mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-muted text-muted-foreground",children:l.jsx(DX,{className:"h-4 w-4"})}):null]},I.id)),m?l.jsxs("article",{className:"mx-auto flex w-full max-w-3xl gap-2",children:[l.jsx("span",{className:"mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-primary/20 text-primary",children:l.jsx(bp,{className:"h-4 w-4"})}),l.jsx("div",{className:"rounded-2xl border border-border/70 bg-card px-3 py-2 text-sm text-muted-foreground",children:"????????????????????????????????????????????????????????????..."})]}):null]}),l.jsx("div",{className:"border-t border-border/60 bg-background/85 p-3 backdrop-blur-sm md:p-4",children:l.jsxs("div",{className:"mx-auto max-w-3xl",children:[l.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:p6e.map(I=>l.jsx("button",{type:"button",onClick:()=>{g(I.value),x&&d(M=>M.map(W=>W.id===x.id?{...W,topic:I.value}:W))},className:`rounded-full border px-3 py-1.5 text-xs font-medium transition-colors ${p===I.value?"border-primary/40 bg-primary/10 text-foreground":"border-border/70 bg-card text-muted-foreground hover:text-foreground"}`,children:I.label},I.value))}),l.jsxs("form",{onSubmit:R,className:"flex gap-2",children:[l.jsx(ot,{value:o,onChange:I=>c(I.target.value),placeholder:" AI Agent : ",className:"h-11 rounded-full border-border/70 bg-card/90 px-4"}),l.jsxs(Ce,{type:"submit",disabled:m||s||!o.trim(),className:"h-11 rounded-full px-4",children:[l.jsx(jX,{className:"mr-1.5 h-4 w-4"}),"Send"]})]})]})})]})]})]})})]})})]})}var Cj="Progress",jj=100,[_6e,FBe]=_a(Cj),[S6e,k6e]=_6e(Cj),vV=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=E6e,...i}=e;(a||a===0)&&!sM(a)&&console.error(T6e(`${a}`,"Progress"));const o=sM(a)?a:jj;n!==null&&!iM(n,o)&&console.error(N6e(`${n}`,"Progress"));const c=iM(n,o)?n:null,u=s1(c)?s(c,o):void 0;return l.jsx(S6e,{scope:r,value:c,max:o,children:l.jsx(rt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":s1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":bV(c,o),"data-value":c??void 0,"data-max":o,...i,ref:t})})});vV.displayName=Cj;var xV="ProgressIndicator",yV=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=k6e(xV,r);return l.jsx(rt.div,{"data-state":bV(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});yV.displayName=xV;function E6e(e,t){return`${Math.round(e/t*100)}%`}function bV(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function s1(e){return typeof e=="number"}function sM(e){return s1(e)&&!isNaN(e)&&e>0}function iM(e,t){return s1(e)&&!isNaN(e)&&e<=t&&e>=0}function T6e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jj}\`.`}function N6e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wV=vV,C6e=yV;const _V=w.forwardRef(({className:e,value:t,...r},n)=>l.jsx(wV,{ref:n,className:me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(C6e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));_V.displayName=wV.displayName;const oM=e=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e)),j6e=e=>{if(e<1024)return`${e} B`;const t=e/1024;return t<1024?`${t.toFixed(1)} KB`:`${(t/1024).toFixed(1)} MB`},A6e={ready:"default",processing:"secondary",uploading:"outline",error:"destructive"},O6e={updated:"default",pending:"secondary",cancel:"destructive"};function P6e(){const{customers:e,uploads:t,createUpload:r,updateUpload:n,getCustomerName:a}=jm(),{email:s,displayName:i}=Pa(),[o,c]=w.useState(!1),[u,d]=w.useState(""),[f,h]=w.useState(""),[p,g]=w.useState(""),m=w.useRef(null),v=w.useMemo(()=>e.find(C=>C.email.trim().toLowerCase()===s.trim().toLowerCase()),[e,s]),y=(v==null?void 0:v.id)??"",b=(v==null?void 0:v.companyName)??"Unassigned account",x=w.useMemo(()=>t.filter(C=>y&&C.customerId===y),[t,y]),_=C=>{C.preventDefault(),c(!0)},S=C=>{C.preventDefault(),c(!1)},E=C=>{var O;if(!y){h("Your account is not activated by ORIGO yet. Please contact ORIGO to enable uploads.");return}const j=u.trim();if(!j){h("Please describe what this file is about before uploading.");return}const R=(C==null?void 0:C.name)??"new_upload.xlsx",I=C?j6e(C.size):"1.2 MB",M=((O=R.split(".").pop())==null?void 0:O.toLowerCase())??"file",W=r({fileName:R,fileSize:I,fileType:M,description:j,customerId:y,uploadedBy:i||"Customer",status:"uploading",reviewStatus:"pending",progress:0});if(!W){h("Upload failed: account is not linked to an ORIGO customer user.");return}d(""),h("");let K=0;const H=window.setInterval(()=>{if(K+=20,K>=100){window.clearInterval(H),n(W,{status:"ready",progress:void 0});return}n(W,{status:"uploading",progress:K})},450)},k=C=>{var R;C.preventDefault(),c(!1);const j=(R=C.dataTransfer.files)==null?void 0:R[0];E(j)},N=C=>{var R;const j=(R=C.target.files)==null?void 0:R[0];j&&E(j),C.target.value=""},T=w.useMemo(()=>{const C=p.trim().toLowerCase(),j=[...x].sort((R,I)=>new Date(I.uploadedAt).getTime()-new Date(R.uploadedAt).getTime());return C?j.filter(R=>[R.fileName,R.description,R.reviewStatus,R.status,a(R.customerId),oM(R.uploadedAt)].join(" ").toLowerCase().includes(C)):j},[x,p,a]),A=C=>C==="xlsx"||C==="xls"?xX:N1;return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Admin Control",subtitle:"Upload files for ORIGO review and data updates"}),l.jsxs("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[l.jsxs("section",{className:"rounded-2xl border bg-card px-6 py-12 text-center md:px-10 md:py-16",children:[l.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-foreground md:text-5xl",children:"Customer Upload Gateway"}),l.jsx("p",{className:"mx-auto mt-4 max-w-3xl text-sm text-muted-foreground md:text-base",children:"Files uploaded here are sent to ORIGO Back Office for verification and data updates."})]}),l.jsxs("div",{className:me("rounded-2xl border-2 border-dashed p-6 text-center transition-all md:p-10",o?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"),onDragOver:_,onDragLeave:S,onDrop:k,children:[l.jsxs("div",{className:"mx-auto mb-6 w-full max-w-3xl text-left",children:[l.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Customer profile"}),l.jsx("p",{className:"rounded-xl border bg-background/70 px-3 py-2 text-sm font-medium text-foreground",children:b}),!y&&l.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"This account is not linked to a customer profile yet. ORIGO will assign it during review."}),l.jsx("label",{className:"mb-2 mt-4 block text-sm font-medium text-foreground",children:"What is this file about?"}),l.jsx(ot,{value:u,onChange:C=>{d(C.target.value),f&&C.target.value.trim()&&h("")},placeholder:"Example: February shipment + inventory sync",className:"h-11 rounded-xl bg-background/80"}),f&&l.jsx("p",{className:"mt-2 text-xs text-destructive",children:f})]}),l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:me("flex h-16 w-16 items-center justify-center rounded-full transition-colors",o?"bg-primary/20":"bg-muted"),children:l.jsx(_x,{className:me("h-8 w-8",o?"text-primary":"text-muted-foreground")})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium",children:o?"Drop your file here":"Drag and drop files here"}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Files sync directly to back office."})]}),l.jsx("input",{ref:m,type:"file",className:"hidden",onChange:N}),l.jsx(Ce,{variant:"outline",className:"mt-2 rounded-full px-6",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},disabled:!y,children:"Browse Files"}),l.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Supported: .xlsx, .xls, .csv, .json | Max file size: 50MB"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold",children:"Uploaded Files"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.length,"/",x.length," files"]})]}),l.jsxs("div",{className:"relative w-full max-w-md",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{value:p,onChange:C=>g(C.target.value),placeholder:"Search files, description, review...",className:"h-10 rounded-xl bg-card pl-9"})]})]}),T.length===0&&l.jsxs("div",{className:"rounded-2xl border border-dashed bg-card p-6 text-center text-sm text-muted-foreground",children:['No files found for "',p,'".']}),T.map(C=>{const j=A(C.fileType);return l.jsx("div",{className:"rounded-2xl border bg-card/90 p-4 shadow-sm md:p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-muted",children:l.jsx(j,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{className:"min-w-0 flex-1 space-y-3",children:[l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate font-medium",children:C.fileName}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-muted-foreground",children:[l.jsx("span",{children:C.fileSize}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(wp,{className:"h-3.5 w-3.5"}),oM(C.uploadedAt)]}),l.jsx("span",{children:a(C.customerId)})]})]})}),l.jsxs("div",{className:"rounded-xl bg-secondary/50 px-3 py-2",children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Description"}),l.jsx("p",{className:"mt-1 text-sm text-foreground",children:C.description})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(sr,{variant:A6e[C.status]??"outline",children:C.status}),l.jsxs(sr,{variant:O6e[C.reviewStatus]??"secondary",children:["ORIGO review: ",C.reviewStatus]})]}),C.status==="uploading"&&typeof C.progress=="number"&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Uploading..."}),l.jsxs("span",{children:[C.progress,"%"]})]}),l.jsx(_V,{value:C.progress,className:"h-2"})]})]})]})},C.id)})]})]})]})}const lM={deliveries:{key:"deliveries",label:"Orders & Shipments",table:"deliveries",primaryKey:"delivery_id",orderBy:"delivery_date",preferredColumns:["delivery_id","contract_id","job","delivery_date","record","status","quantity","remark","created_at"],numberColumns:["quantity"],booleanColumns:[],dropdownColumns:["status"],hiddenColumns:["delivery_id"],tableMinWidthClass:"min-w-0",columnWidthClasses:{contract_id:"w-[14%]",job:"w-[10%]",delivery_date:"w-[11%]",record:"w-[14%]",status:"w-[9%]",quantity:"w-[8%]",remark:"w-[22%]",created_at:"w-[12%]"},columnMinWidthClasses:{contract_id:"min-w-[110px]",job:"min-w-[90px]",delivery_date:"min-w-[100px]",record:"min-w-[110px]",status:"min-w-[90px]",quantity:"min-w-[90px]",remark:"min-w-[150px]",created_at:"min-w-[100px]"},wrapColumns:["remark"]},stock:{key:"stock",label:"Inventory",table:"stock",primaryKey:"stock_id",orderBy:"stock_id",preferredColumns:["stock_id","factory","type","tag","qty"],numberColumns:["qty"],booleanColumns:[],dropdownColumns:["factory"],hiddenColumns:["stock_id"],tableMinWidthClass:"min-w-0"},finance_invoices:{key:"finance_invoices",label:"Invoices & Payments",table:"finance_invoices",primaryKey:"id",orderBy:"invoice_date",preferredColumns:["id","invoice","customer_name","contract","invoice_date","status_type","usd","tons","total_invoice","team","fac","status_detail"],numberColumns:["tons","total_invoice","usd","thb","convert_rate","price"],booleanColumns:["contact","credit","export"],dropdownColumns:["status_type","status","team"],hiddenColumns:["id","contact","credit","export","status_detail"],tableMinWidthClass:"min-w-0"}},R6e=["deliveries","stock","finance_invoices"],I6e=[10,20,30,50],qh=new Set(["created_at","updated_at"]),Nv=e=>{if(e==null||e==="")return"";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="object")try{return JSON.stringify(e)}catch{return String(e)}return String(e)},cM=(e,t,r)=>{const n=e[t];return n==null||String(n).trim()===""?`row-${r}`:`${String(n)}-${r}`},uM=(e,t,r,n)=>{const a=t.trim();if(a.length===0)return null;if(r.booleanColumns.includes(e))return a==="true"?!0:a==="false"?!1:null;if(r.numberColumns.includes(e)){const s=Number(a.replace(/,/g,""));return Number.isFinite(s)?s:t}if(n&&typeof n=="object")try{return JSON.parse(a)}catch{return a}return a};function D6e(){const{toast:e}=Ff(),[t,r]=w.useState("deliveries"),[n,a]=w.useState([]),[s,i]=w.useState(!0),[o,c]=w.useState(!1),[u,d]=w.useState(null),[f,h]=w.useState(""),[p,g]=w.useState(10),[m,v]=w.useState(1),[y,b]=w.useState(null),[x,_]=w.useState(null),[S,E]=w.useState(null),[k,N]=w.useState({}),[T,A]=w.useState(!1),[C,j]=w.useState({}),R=lM[t],I=w.useCallback(async()=>{if(!Or||!Ee){d("Supabase is not configured."),a([]),i(!1);return}i(!0),d(null),b(null);let V=await Ee.from(R.table).select("*").order(R.orderBy,{ascending:!1}).limit(1e3);if(V.error&&/column .* does not exist|schema cache/i.test(V.error.message??"")&&(V=await Ee.from(R.table).select("*").limit(1e3)),V.error){d(V.error.message),a([]),i(!1);return}a(V.data??[]),i(!1)},[R.orderBy,R.table]);w.useEffect(()=>{I()},[I]);const M=w.useMemo(()=>{const V=new Set(R.hiddenColumns??[]),ie=new Set;n.forEach(L=>{Object.keys(L).forEach(oe=>{V.has(oe)||ie.add(oe)})});const re=Array.from(ie).filter(L=>!R.preferredColumns.includes(L));return[...R.preferredColumns.filter(L=>ie.has(L)&&!V.has(L)),...re]},[n,R.preferredColumns,R.hiddenColumns]);w.useEffect(()=>{const V={};M.forEach(ie=>{V[ie]=""}),j(V)},[M,t]);const W=w.useMemo(()=>{const V=f.trim().toLowerCase();return V?n.filter(ie=>M.some(re=>Nv(ie[re]).toLowerCase().includes(V))):n},[n,f,M]),K=w.useMemo(()=>{const V=new Map,ie=new Set(R.dropdownColumns??[]);return ie.size===0||M.forEach(re=>{if(!ie.has(re))return;const L=new Set;n.forEach(oe=>{const D=oe[re];if(D==null)return;const le=String(D).trim();le&&L.add(le)}),V.set(re,Array.from(L).sort((oe,D)=>oe.localeCompare(D)))}),V},[M,R.dropdownColumns,n]);w.useEffect(()=>{v(1)},[t,f,p]);const H=Math.max(1,Math.ceil(W.length/p));w.useEffect(()=>{m>H&&v(H)},[m,H]);const O=w.useMemo(()=>{const V=(m-1)*p;return W.slice(V,V+p)},[W,m,p]),Z=W.length===0?0:(m-1)*p+1,J=Math.min(m*p,W.length),P=(V,ie)=>{const re={};M.forEach(L=>{const oe=V[L];if(oe==null)re[L]="";else if(typeof oe=="object")try{re[L]=JSON.stringify(oe)}catch{re[L]=String(oe)}else re[L]=String(oe)}),b(ie),_(V[R.primaryKey]??null),E(V),N(re)},G=()=>{b(null),_(null),E(null),N({})},B=async()=>{if(!Ee)return;if(y===null||x===null||!S){e({title:"Cannot save row",description:"Primary key is missing for this row.",variant:"destructive"});return}const V={};if(M.forEach(re=>{if(re===R.primaryKey||qh.has(re))return;const L=uM(re,k[re]??"",R,S[re]),oe=S[re];JSON.stringify(L)!==JSON.stringify(oe)&&(V[re]=L)}),Object.keys(V).length===0){G();return}c(!0);const{error:ie}=await Ee.from(R.table).update(V).eq(R.primaryKey,x);if(c(!1),ie){e({title:"Update failed",description:ie.message,variant:"destructive"});return}e({title:"Row updated",description:`${R.label} has been updated.`}),G(),await I()},z=async()=>{if(!Ee)return;const V={};if(M.forEach(re=>{if(qh.has(re))return;const L=C[re]??"";if(re===R.primaryKey&&L.trim()==="")return;const oe=uM(re,L,R);oe!==null&&(V[re]=oe)}),Object.keys(V).length===0){e({title:"No data to insert",description:"Fill at least one field before saving.",variant:"destructive"});return}c(!0);const{error:ie}=await Ee.from(R.table).insert(V);if(c(!1),ie){e({title:"Insert failed",description:ie.message,variant:"destructive"});return}e({title:"Row created",description:`${R.label} has been updated with a new row.`}),A(!1),await I()},ae=async V=>{if(!Ee)return;if(!String(V??"").trim()){e({title:"Cannot delete row",description:`Missing primary key (${R.primaryKey}).`,variant:"destructive"});return}if(!window.confirm(`Delete this row from ${R.label}? This action cannot be undone.`))return;c(!0);const{error:L}=await Ee.from(R.table).delete().eq(R.primaryKey,V);if(c(!1),L){e({title:"Delete failed",description:L.message,variant:"destructive"});return}e({title:"Row deleted",description:`${R.label} row has been removed.`}),x===V&&G(),await I()};return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Edit Data",subtitle:"Update Orders & Shipments, Inventory, and Invoices & Payments from Supabase."}),l.jsx("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:l.jsxs("div",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Data Editor"}),l.jsx("span",{className:"inline-flex items-center rounded-full border border-amber-300 bg-amber-50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700",children:"Beta"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer-managed table editing for live operational data."})]}),l.jsxs("div",{className:"space-y-4 p-4 md:p-5",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:R6e.map(V=>{const ie=lM[V];return l.jsx("button",{type:"button",onClick:()=>r(ie.key),className:me("rounded-full border px-3.5 py-1.5 text-sm font-medium transition",t===ie.key?"border-[#ffbd59] bg-[#ffbd59]/25 text-[#7a4a00]":"border-border/70 bg-background text-muted-foreground hover:text-foreground"),children:ie.label},ie.key)})}),l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[l.jsxs("div",{className:"relative w-full md:max-w-md",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{value:f,onChange:V=>h(V.target.value),placeholder:`Search ${R.label}...`,className:"h-10 rounded-xl bg-background pl-9"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ce,{type:"button",variant:"outline",className:"h-10 rounded-full",onClick:()=>void I(),disabled:s,children:[l.jsx(SF,{className:"mr-1.5 h-4 w-4"}),"Refresh"]}),l.jsxs(Ce,{type:"button",className:"h-10 rounded-full bg-[#ffbd59] text-[#3b2a06] hover:bg-[#ffbd59]/90",onClick:()=>A(!0),children:[l.jsx(oS,{className:"mr-1.5 h-4 w-4"}),"Add Row"]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-border/70 bg-card/70 px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",Z,"-",J," of ",W.length," rows"]}),l.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border/60 bg-background/80 px-2 py-1",children:[l.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:"Per page"}),l.jsxs(gn,{value:String(p),onValueChange:V=>g(Number(V)),children:[l.jsx(Zr,{className:"h-7 w-[74px] rounded-full border-none bg-transparent px-2 text-xs shadow-none focus:ring-0",children:l.jsx(vn,{placeholder:"10"})}),l.jsx(en,{children:I6e.map(V=>l.jsx(kt,{value:String(V),children:V},V))})]})]})]}),s?l.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card p-6 text-sm text-muted-foreground",children:["Loading ",R.label,"..."]}):u?l.jsx("div",{className:"rounded-2xl border border-destructive/30 bg-card p-6 text-sm text-destructive",children:u}):l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"overflow-hidden rounded-2xl border border-border/70 bg-card",children:[l.jsx("div",{className:"hidden overflow-x-auto md:block",children:l.jsxs("table",{className:me("w-full table-fixed border-separate border-spacing-0",R.tableMinWidthClass??"min-w-0"),children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-200/70 bg-slate-50/90",children:[M.map(V=>{var ie;return l.jsx("th",{className:me("px-3 py-3 text-left text-[12px] font-semibold tracking-[0.01em] text-slate-600",(ie=R.columnWidthClasses)==null?void 0:ie[V],R.numberColumns.includes(V)&&"text-right"),children:V},V)}),l.jsx("th",{className:"w-[120px] px-3 py-3 text-right text-[12px] font-semibold tracking-[0.01em] text-slate-600",children:"Actions"})]})}),l.jsx("tbody",{className:"[&>tr:nth-child(odd)]:bg-white [&>tr:nth-child(even)]:bg-slate-50/45",children:O.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:M.length+1,className:"h-32 px-6 py-4 text-center text-sm text-muted-foreground",children:"No rows found"})}):O.map((V,ie)=>{const re=cM(V,R.primaryKey,ie),L=y===re,oe=V[R.primaryKey],D=oe!=null&&String(oe).trim()!=="";return l.jsxs("tr",{className:"border-b border-slate-200/70 transition-colors hover:bg-slate-100/70 last:border-b-0",children:[M.map(le=>{var _e,pe;const ye=qh.has(le)||L&&le===R.primaryKey;if(L){const Le=S==null?void 0:S[le],ze=R.booleanColumns.includes(le)||typeof Le=="boolean",xt=(R.dropdownColumns??[]).includes(le),nt=K.get(le)??[],at=k[le]??"",yt=at&&!nt.includes(at)?[at,...nt]:nt;return l.jsx("td",{className:me("px-3 py-3 align-middle",((_e=R.columnMinWidthClasses)==null?void 0:_e[le])??"min-w-[96px]"),children:ze?l.jsxs(gn,{value:k[le]===""?"null":k[le],onValueChange:Y=>N(be=>({...be,[le]:Y==="null"?"":Y})),disabled:ye,children:[l.jsx(Zr,{className:"h-8 w-full rounded-lg bg-background text-xs",children:l.jsx(vn,{placeholder:"null"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"null",children:"null"}),l.jsx(kt,{value:"true",children:"true"}),l.jsx(kt,{value:"false",children:"false"})]})]}):xt?l.jsxs(gn,{value:k[le]===""?"null":k[le],onValueChange:Y=>N(be=>({...be,[le]:Y==="null"?"":Y})),disabled:ye,children:[l.jsx(Zr,{className:"h-8 w-full rounded-lg bg-background text-xs",children:l.jsx(vn,{placeholder:"Select..."})}),l.jsxs(en,{children:[l.jsx(kt,{value:"null",children:"null"}),yt.map(Y=>l.jsx(kt,{value:Y,children:Y},`${le}-${Y}`))]})]}):l.jsx(ot,{value:k[le]??"",onChange:Y=>N(be=>({...be,[le]:Y.target.value})),className:"h-8 rounded-lg bg-background text-xs",disabled:ye})},le)}const Se=Nv(V[le]);return l.jsx("td",{className:me("px-3 py-3.5 align-middle text-xs",(pe=R.columnWidthClasses)==null?void 0:pe[le],R.numberColumns.includes(le)&&"text-right tabular-nums"),title:Se,children:l.jsx("p",{className:me("truncate",(R.wrapColumns??[]).includes(le)&&"whitespace-normal break-words line-clamp-2"),children:Se})},le)}),l.jsx("td",{className:"px-3 py-3.5 text-right align-middle",children:L?l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsxs(Ce,{type:"button",size:"sm",className:"h-8 rounded-full bg-[#ffbd59] px-2.5 text-[#3b2a06] hover:bg-[#ffbd59]/90",onClick:()=>void B(),disabled:o,"aria-label":"Save row",children:[l.jsx(Pw,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden xl:inline xl:pl-1",children:"Save"})]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full px-2.5",onClick:G,"aria-label":"Cancel edit",children:[l.jsx(ef,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden xl:inline xl:pl-1",children:"Cancel"})]})]}):l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full px-2.5",onClick:()=>P(V,re),disabled:!D||o,title:D?"Edit row":`Missing primary key (${R.primaryKey})`,"aria-label":"Edit row",children:[l.jsx(eO,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden xl:inline xl:pl-1",children:"Edit"})]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full border-red-200 px-2.5 text-red-700 hover:bg-red-50 hover:text-red-800",onClick:()=>void ae(oe),disabled:!D||o,title:D?"Delete row":`Missing primary key (${R.primaryKey})`,"aria-label":"Delete row",children:[l.jsx(o0,{className:"h-3.5 w-3.5"}),l.jsx("span",{className:"hidden xl:inline xl:pl-1",children:"Delete"})]})]})})]},re)})})]})}),l.jsx("div",{className:"space-y-2.5 p-2 md:hidden",children:O.length===0?l.jsx("div",{className:"rounded-xl border border-dashed border-border/70 bg-muted/10 px-4 py-8 text-center text-sm text-muted-foreground",children:"No rows found"}):O.map((V,ie)=>{const re=cM(V,R.primaryKey,ie),L=y===re,oe=V[R.primaryKey],D=oe!=null&&String(oe).trim()!=="";return l.jsxs("article",{className:"rounded-xl border border-border/70 bg-card px-3.5 py-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("p",{className:"text-sm font-semibold text-foreground",children:[R.primaryKey,": ",Nv(oe)]}),l.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:R.label})]}),L?l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsxs(Ce,{type:"button",size:"sm",className:"h-8 rounded-full bg-[#ffbd59] px-3 text-[#3b2a06] hover:bg-[#ffbd59]/90",onClick:()=>void B(),disabled:o,children:[l.jsx(Pw,{className:"mr-1 h-3.5 w-3.5"}),"Save"]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full px-3",onClick:G,children:[l.jsx(ef,{className:"mr-1 h-3.5 w-3.5"}),"Cancel"]})]}):l.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full px-3",onClick:()=>P(V,re),disabled:!D||o,children:[l.jsx(eO,{className:"mr-1 h-3.5 w-3.5"}),"Edit"]}),l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full border-red-200 px-3 text-red-700 hover:bg-red-50 hover:text-red-800",onClick:()=>void ae(oe),disabled:!D||o,children:[l.jsx(o0,{className:"mr-1 h-3.5 w-3.5"}),"Delete"]})]})]}),l.jsx("div",{className:"mt-3 space-y-2 border-t border-border/60 pt-3",children:M.map(le=>{const ye=qh.has(le)||L&&le===R.primaryKey;if(L){const _e=S==null?void 0:S[le],pe=R.booleanColumns.includes(le)||typeof _e=="boolean",Le=(R.dropdownColumns??[]).includes(le),ze=K.get(le)??[],xt=k[le]??"",nt=xt&&!ze.includes(xt)?[xt,...ze]:ze;return l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:le}),pe?l.jsxs(gn,{value:k[le]===""?"null":k[le],onValueChange:at=>N(yt=>({...yt,[le]:at==="null"?"":at})),disabled:ye,children:[l.jsx(Zr,{className:"h-8 w-full rounded-lg bg-background text-xs",children:l.jsx(vn,{placeholder:"null"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"null",children:"null"}),l.jsx(kt,{value:"true",children:"true"}),l.jsx(kt,{value:"false",children:"false"})]})]}):Le?l.jsxs(gn,{value:k[le]===""?"null":k[le],onValueChange:at=>N(yt=>({...yt,[le]:at==="null"?"":at})),disabled:ye,children:[l.jsx(Zr,{className:"h-8 w-full rounded-lg bg-background text-xs",children:l.jsx(vn,{placeholder:"Select..."})}),l.jsxs(en,{children:[l.jsx(kt,{value:"null",children:"null"}),nt.map(at=>l.jsx(kt,{value:at,children:at},`${le}-${at}`))]})]}):l.jsx(ot,{value:k[le]??"",onChange:at=>N(yt=>({...yt,[le]:at.target.value})),className:"h-8 rounded-lg bg-background text-xs",disabled:ye})]},le)}const Se=Nv(V[le]);return l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground",children:le}),l.jsx("p",{className:"text-sm text-foreground break-all",children:Se})]},le)})})]},re)})})]})}),!s&&!u&&l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-border/70 bg-card/70 px-3 py-2.5 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Page ",m," / ",H]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>v(V=>Math.max(1,V-1)),disabled:m===1,children:"Previous"}),l.jsx(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[84px] rounded-full px-3 text-xs",onClick:()=>v(V=>Math.min(H,V+1)),disabled:m>=H,children:"Next"})]})]})]})]})}),l.jsx(ru,{open:T,onOpenChange:A,children:l.jsxs(Ll,{className:"max-h-[80vh] overflow-y-auto sm:max-w-3xl",children:[l.jsxs(Bl,{children:[l.jsx(Ul,{children:"Add Row"}),l.jsxs(zl,{children:[R.label," (",R.table,")"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:M.filter(V=>!qh.has(V)).map(V=>l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:V}),R.booleanColumns.includes(V)?l.jsxs(gn,{value:C[V]===""?"null":C[V],onValueChange:ie=>j(re=>({...re,[V]:ie==="null"?"":ie})),children:[l.jsx(Zr,{className:"h-9 rounded-lg bg-background text-sm",children:l.jsx(vn,{placeholder:"null"})}),l.jsxs(en,{children:[l.jsx(kt,{value:"null",children:"null"}),l.jsx(kt,{value:"true",children:"true"}),l.jsx(kt,{value:"false",children:"false"})]})]}):(R.dropdownColumns??[]).includes(V)?l.jsxs(gn,{value:C[V]===""?"null":C[V],onValueChange:ie=>j(re=>({...re,[V]:ie==="null"?"":ie})),children:[l.jsx(Zr,{className:"h-9 rounded-lg bg-background text-sm",children:l.jsx(vn,{placeholder:"Select..."})}),l.jsxs(en,{children:[l.jsx(kt,{value:"null",children:"null"}),(K.get(V)??[]).map(ie=>l.jsx(kt,{value:ie,children:ie},`create-${V}-${ie}`))]})]}):l.jsx(ot,{value:C[V]??"",onChange:ie=>j(re=>({...re,[V]:ie.target.value})),placeholder:V===R.primaryKey?"(optional if auto-generated)":"",className:"h-9 rounded-lg bg-background text-sm"})]},V))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Ce,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Cancel"}),l.jsxs(Ce,{type:"button",className:"bg-[#ffbd59] text-[#3b2a06] hover:bg-[#ffbd59]/90",onClick:()=>void z(),disabled:o,children:[l.jsx(Pw,{className:"mr-1.5 h-4 w-4"}),"Save Row"]})]})]})})]})}const l2={DRAFT:"border-slate-200 bg-slate-50 text-slate-700",PENDING_REVIEW:"border-blue-200 bg-blue-50 text-blue-700",NEED_MORE_INFO:"border-amber-200 bg-amber-50 text-amber-700",READY:"border-emerald-200 bg-emerald-50 text-emerald-700",UNLOCKED:"border-violet-200 bg-violet-50 text-violet-700",NOT_SUPPORTED:"border-rose-200 bg-rose-50 text-rose-700"},c2=e=>e==="READY"?vF:e==="PENDING_REVIEW"?dX:e==="NEED_MORE_INFO"?FT:null,Cv=e=>e==="READY"||e==="UNLOCKED",dM=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})},fM=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result??"")),n.onerror=()=>r(n.error??new Error("Unable to read file")),n.readAsDataURL(e)});function M6e(){const{toast:e}=Ff(),{email:t,username:r}=Pa(),[n,a]=w.useState("THAI ROONG RUANG INDUSTRY CO., LTD."),[s,i]=w.useState([]),[o,c]=w.useState([]),[u,d]=w.useState(!0),[f,h]=w.useState(!1),[p,g]=w.useState(null),[m,v]=w.useState(null),[y,b]=w.useState(!1),[x,_]=w.useState(!1),[S,E]=w.useState(""),[k,N]=w.useState(""),[T,A]=w.useState(""),[C,j]=w.useState(""),[R,I]=w.useState(null),[M,W]=w.useState(!1),K=w.useRef(null),[H,O]=w.useState(""),[Z,J]=w.useState(""),[P,G]=w.useState(""),[B,z]=w.useState(""),[ae,V]=w.useState(null),[ie,re]=w.useState(null),[L,oe]=w.useState(!1),D=w.useRef(null),le=w.useCallback(async()=>{d(!0),g(null);try{const[Y,be]=await Promise.all([IH(),vj()]);i(Y.rows),c(be.rows)}catch(Y){const be=Y instanceof Error?Y.message:"Unable to load product data";g(be)}finally{d(!1)}},[]);w.useEffect(()=>{le()},[le]),w.useEffect(()=>{if(!Or||!Ee||!t)return;let Y=!1;return(async()=>{const{data:ge,error:Re}=await Ee.from("customers").select("company_name").eq("email",t).maybeSingle();!Y&&!Re&&(ge!=null&&ge.company_name)&&a(ge.company_name)})(),()=>{Y=!0}},[t]);const ye=w.useMemo(()=>{const Y=t.trim().toLowerCase();return Y?o.filter(be=>be.customer_email.trim().toLowerCase()===Y):o},[o,t]);w.useEffect(()=>{if(ye.length===0){v(null);return}v(Y=>Y&&ye.some(be=>be.id===Y)?Y:ye[0].id)},[ye]);const Se=w.useMemo(()=>ye.find(Y=>Y.id===m)??null,[ye,m]),_e=w.useMemo(()=>ye.filter(Y=>Cv(Y.status)).sort((Y,be)=>be.submitted_at.localeCompare(Y.submitted_at)),[ye]),pe=w.useMemo(()=>ye.filter(Y=>!Cv(Y.status)).sort((Y,be)=>be.submitted_at.localeCompare(Y.submitted_at)),[ye]),Le=w.useMemo(()=>{const Y=ye.length,be=ye.filter(Re=>Cv(Re.status)).length,ge=ye.filter(Re=>Re.status==="NEED_MORE_INFO").length;return{total:Y,ready:be,needInfo:ge}},[ye]),ze=(Se==null?void 0:Se.status)==="NEED_MORE_INFO"||(Se==null?void 0:Se.status)==="PENDING_REVIEW";w.useEffect(()=>{if(!Se){O(""),J(""),G(""),z(""),V(null),re(null),_(!1);return}O(Se.product_name||""),J(Se.hs_code||""),G(Se.target_market||""),z(Se.product_details||""),V(null),re(Se.image_url||null),_(!1)},[Se]);const xt=async()=>{const Y=S.trim();if(!Y){e({title:"Product name is required",description:"Please add product name before submit.",variant:"destructive"});return}try{h(!0);let be;R&&(be=await fM(R));const ge=await yLe({customer_email:t,customer_username:r,customer_workspace:n,product_name:Y,hs_code:k,product_details:T,target_market:C,image_url:be,image_file_name:R==null?void 0:R.name},s);c(Re=>[ge,...Re]),v(ge.id),E(""),N(""),A(""),j(""),I(null),e({title:"Submitted for review",description:"Status is now Pending review."})}catch(be){e({title:"Submit failed",description:be instanceof Error?be.message:"Unable to submit product",variant:"destructive"})}finally{h(!1)}},nt=Y=>{if(Y){if(!Y.type.toLowerCase().startsWith("image/")){e({title:"Invalid file type",description:"Please upload an image file.",variant:"destructive"});return}I(Y)}},at=Y=>{if(Y){if(!Y.type.toLowerCase().startsWith("image/")){e({title:"Invalid file type",description:"Please upload an image file.",variant:"destructive"});return}V(Y)}},yt=async()=>{if(!Se)return;const Y=H.trim();if(!Y){e({title:"Product name is required",description:"Please add product name before submit.",variant:"destructive"});return}try{_(!0);const be=ae?await fM(ae):ie,ge=await DH(Se.id,{product_name:Y,hs_code:Z,target_market:P,product_details:B,image_url:be??null,image_file_name:(ae==null?void 0:ae.name)??Se.image_file_name,status:"PENDING_REVIEW",updated_by:"Customer",customer_message:"Customer updated details and resubmitted for ORIGO review.",missing_info_checklist:{packaging:!1,application:!1,target_market:!1,material:!1}},s);if(!ge)throw new Error("Request not found");c(Re=>Re.map(ft=>ft.id===ge.id?ge:ft)),v(ge.id),V(null),re(ge.image_url),e({title:Se.status==="NEED_MORE_INFO"?"Resubmitted to Pending review":"Request updated"})}catch(be){e({title:"Update failed",description:be instanceof Error?be.message:"Unable to update request",variant:"destructive"})}finally{_(!1)}};return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"YOUR Product",subtitle:"Manage submitted products and review status updates"}),l.jsxs("div",{className:"flex-1 space-y-5 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[l.jsxs("section",{className:"rounded-2xl border border-slate-200/80 bg-[linear-gradient(135deg,#ffffff_0%,#fffdf7_55%,#fff7e1_100%)] px-4 py-4 shadow-[0_14px_30px_-24px_rgba(148,95,0,0.35)] md:px-5 md:py-5",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.14em] text-slate-500",children:"Product Intelligence"}),l.jsx("h2",{className:"mt-1 text-xl font-semibold tracking-tight text-slate-900",children:"Submit, review, and unlock buyer opportunity"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Submit product data once."})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/90 px-3 py-2",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-slate-500",children:"Requests"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Le.total})]}),l.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50/80 px-3 py-2",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-emerald-700",children:"Ready"}),l.jsx("p",{className:"text-lg font-semibold text-emerald-800",children:Le.ready})]}),l.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50/80 px-3 py-2",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-amber-700",children:"Need Info"}),l.jsx("p",{className:"text-lg font-semibold text-amber-800",children:Le.needInfo})]})]})]}),l.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-slate-500",children:l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(wp,{className:"h-3.5 w-3.5"}),"Workspace: ",n]})})]}),l.jsxs("section",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h3",{className:"text-base font-semibold",children:"Gallery View"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready and unlocked products only."})]}),u?l.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground md:px-5",children:"Loading products..."}):p?l.jsx("div",{className:"px-4 py-6 text-sm text-destructive md:px-5",children:p}):_e.length===0?l.jsx("div",{className:"px-4 py-8 text-sm text-muted-foreground md:px-5",children:"No ready products yet."}):l.jsx("div",{className:"grid gap-3 p-3 sm:grid-cols-2 xl:grid-cols-3",children:_e.map(Y=>{const be=c2(Y.status),ge=Cv(Y.status);return l.jsxs("article",{className:me("rounded-xl border border-border/70 bg-card px-3.5 py-3",ge&&"border-emerald-200 bg-emerald-50/30"),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex min-w-0 items-start gap-3",children:[Y.image_url?l.jsx("img",{src:Y.image_url,alt:Y.product_name,className:"h-14 w-14 shrink-0 rounded-lg border border-slate-200 object-cover"}):l.jsx("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-lg border border-slate-200 bg-slate-50 text-slate-500",children:l.jsx(JA,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-foreground",children:Y.product_name}),l.jsxs("p",{className:"mt-0.5 text-xs text-muted-foreground",children:["HS ",Y.hs_code||"-","  ",dM(Y.submitted_at)]}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:G_[Y.status]})]})]}),l.jsxs(sr,{className:me("inline-flex h-8 items-center gap-1.5 whitespace-nowrap px-3 text-sm font-semibold",l2[Y.status]),children:[be?l.jsx(be,{className:"h-4 w-4"}):null,Dc[Y.status]]})]}),l.jsx("div",{className:"mt-2 flex items-center justify-end",children:l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>{v(Y.id),b(!0)},children:[l.jsx(Zd,{className:"mr-1.5 h-3.5 w-3.5"}),"View"]})})]},`gallery-${Y.id}`)})})]}),l.jsxs("div",{className:"grid gap-5 xl:grid-cols-[minmax(0,440px)_minmax(0,1fr)]",children:[l.jsxs("section",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h3",{className:"text-base font-semibold",children:"Add Product"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete fields below and submit for ORIGO review."})]}),l.jsxs("div",{className:"space-y-4 px-4 py-4 md:px-5 md:py-5",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"your-product-name",children:"Product name"}),l.jsx(ot,{id:"your-product-name",value:S,onChange:Y=>E(Y.target.value),placeholder:"Please enter product name"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"your-product-hs",children:"HS Code (optional)"}),l.jsx(ot,{id:"your-product-hs",value:k,onChange:Y=>N(Y.target.value),placeholder:"170199"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"your-product-target",children:"Target market"}),l.jsx(ot,{id:"your-product-target",value:C,onChange:Y=>j(Y.target.value),placeholder:"Vietnam, Indonesia"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"your-product-details",children:"Product details"}),l.jsx(fo,{id:"your-product-details",value:T,onChange:Y=>A(Y.target.value),placeholder:"Keyword, application, material, packaging (all in one)",className:"min-h-[92px]"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"your-product-image-input",children:"Product image (optional)"}),l.jsx("input",{id:"your-product-image-input",ref:K,type:"file",accept:"image/*",className:"sr-only",onChange:Y=>{var be;return nt(((be=Y.target.files)==null?void 0:be[0])??null)}}),l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{var Y;return(Y=K.current)==null?void 0:Y.click()},onKeyDown:Y=>{var be;(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),(be=K.current)==null||be.click())},onDragOver:Y=>{Y.preventDefault(),W(!0)},onDragLeave:Y=>{Y.preventDefault(),W(!1)},onDrop:Y=>{var be;Y.preventDefault(),W(!1),nt(((be=Y.dataTransfer.files)==null?void 0:be[0])??null)},className:me("flex min-h-[76px] w-full cursor-pointer items-center justify-between gap-3 rounded-xl border border-dashed px-3.5 py-3 text-left transition",M?"border-[#ffbd59] bg-[#ffbd59]/15":"border-slate-300 bg-slate-50 hover:border-[#ffbd59] hover:bg-[#ffbd59]/10"),children:[l.jsxs("span",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx(QA,{className:"h-4 w-4 text-slate-500"}),R?R.name:"Drag and drop image here"]}),l.jsx("span",{className:"rounded-full border border-slate-300 bg-white px-2.5 py-0.5 text-xs font-medium text-slate-600",children:"Browse"})]}),R?l.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-600",children:[l.jsx("span",{className:"truncate",children:R.name}),l.jsx("button",{type:"button",className:"font-medium text-slate-700 underline underline-offset-2",onClick:()=>{I(null),K.current&&(K.current.value="")},children:"Remove"})]}):l.jsx("p",{className:"text-xs text-slate-500",children:"Drag & drop or click Browse to upload image."})]}),l.jsxs(Ce,{type:"button",onClick:()=>void xt(),disabled:f,className:"h-10 w-full rounded-full bg-[#ffbd59] text-[#3b2a06] hover:bg-[#ffbd59]/90",children:[l.jsx(XA,{className:"mr-1.5 h-4 w-4"}),"Submit for review"]})]})]}),l.jsxs("section",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h3",{className:"text-base font-semibold",children:"Product Requests"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending and in-review requests only."})]}),u?l.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground md:px-5",children:"Loading product requests..."}):p?l.jsx("div",{className:"px-4 py-6 text-sm text-destructive md:px-5",children:p}):pe.length===0?l.jsx("div",{className:"px-4 py-8 text-sm text-muted-foreground md:px-5",children:"No pending product requests."}):l.jsx("div",{className:"grid gap-3 p-3 md:p-4",children:pe.map(Y=>{const be=Y.id===m,ge=c2(Y.status);return l.jsxs("article",{className:me("rounded-xl border border-border/70 bg-card px-3.5 py-3",be&&"border-[#ffbd59]/80 bg-[#ffbd59]/10"),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex min-w-0 items-start gap-3",children:[Y.image_url?l.jsx("img",{src:Y.image_url,alt:Y.product_name,className:"h-12 w-12 shrink-0 rounded-lg border border-slate-200 object-cover"}):l.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg border border-slate-200 bg-slate-50 text-slate-500",children:l.jsx(JA,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-foreground",children:Y.product_name}),l.jsxs("p",{className:"mt-0.5 text-xs text-muted-foreground",children:["HS ",Y.hs_code||"-","  ",dM(Y.submitted_at)]}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:G_[Y.status]})]})]}),l.jsxs(sr,{className:me("inline-flex h-8 items-center gap-1.5 whitespace-nowrap px-3 text-sm font-semibold",l2[Y.status]),children:[ge?l.jsx(ge,{className:"h-4 w-4"}):null,Dc[Y.status]]})]}),l.jsx("div",{className:"mt-2 flex items-center justify-end",children:l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>{v(Y.id),b(!0)},children:[l.jsx(Zd,{className:"mr-1.5 h-3.5 w-3.5"}),"View"]})})]},Y.id)})})]})]})]}),l.jsx(ru,{open:y,onOpenChange:b,children:l.jsx(Ll,{className:"max-h-[88vh] overflow-y-auto sm:max-w-4xl",children:Se?l.jsxs("div",{className:"space-y-5",children:[(()=>{const Y=c2(Se.status);return l.jsx(Bl,{children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx(Ul,{className:"text-left text-lg",children:"Opportunity Preview"}),l.jsxs(zl,{children:[Se.product_name," | ",Dc[Se.status]]})]}),l.jsxs(sr,{className:me("inline-flex h-8 items-center gap-1.5 px-3 text-sm font-semibold",l2[Se.status]),children:[Y?l.jsx(Y,{className:"h-4 w-4"}):null,Dc[Se.status]]})]})})})(),Se.customer_message?l.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 px-3.5 py-2.5 text-sm text-slate-600",children:Se.customer_message}):null,l.jsxs("section",{className:"rounded-xl border border-border/70 bg-card/80 p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Submitted details"}),l.jsxs("div",{className:"mt-3 grid gap-3 text-sm text-slate-700 md:grid-cols-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Product name:"})," ",Se.product_name||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"HS Code:"})," ",Se.hs_code||"-"]}),l.jsxs("p",{className:"md:col-span-2",children:[l.jsx("strong",{children:"Target market:"})," ",Se.target_market||"-"]}),l.jsxs("p",{className:"md:col-span-2",children:[l.jsx("strong",{children:"Product details:"})," ",Se.product_details||"-"]})]}),Se.image_url?l.jsxs("div",{className:"mt-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Image"}),l.jsx("img",{src:Se.image_url,alt:Se.product_name,className:"mt-1 h-24 w-24 rounded-md border border-slate-200 object-cover"})]}):null,Se.status==="READY"||Se.status==="UNLOCKED"?l.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"This request is locked and cannot be edited."}):null]}),l.jsxs("section",{className:"rounded-2xl border border-border/70 bg-card/90 p-4 space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Update submitted details"}),ze?l.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50/60 px-4 py-3 text-xs text-slate-500",children:G_[Se.status]}):l.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50/70 px-3 py-2 text-xs text-slate-600",children:"This request is in Ready status and can no longer be edited."}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"edit-product-name",children:"Product name"}),l.jsx(ot,{id:"edit-product-name",value:H,onChange:Y=>O(Y.target.value),disabled:!ze})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"edit-hs-code",children:"HS Code (optional)"}),l.jsx(ot,{id:"edit-hs-code",value:Z,onChange:Y=>J(Y.target.value),disabled:!ze})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"edit-target-market",children:"Target market"}),l.jsx(ot,{id:"edit-target-market",value:P,onChange:Y=>G(Y.target.value),disabled:!ze})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"edit-product-details",children:"Product details"}),l.jsx(fo,{id:"edit-product-details",value:B,onChange:Y=>z(Y.target.value),className:"min-h-[92px]",disabled:!ze})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{htmlFor:"edit-product-image-input",children:"Product image (optional)"}),l.jsx("input",{id:"edit-product-image-input",ref:D,type:"file",accept:"image/*",className:"sr-only",disabled:!ze,onChange:Y=>{var be;return at(((be=Y.target.files)==null?void 0:be[0])??null)}}),l.jsxs("div",{role:ze?"button":void 0,tabIndex:ze?0:-1,onClick:()=>{var Y;ze&&((Y=D.current)==null||Y.click())},onKeyDown:Y=>{var be;ze&&(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),(be=D.current)==null||be.click())},onDragOver:Y=>{ze&&(Y.preventDefault(),oe(!0))},onDragLeave:Y=>{ze&&(Y.preventDefault(),oe(!1))},onDrop:Y=>{var be;ze&&(Y.preventDefault(),oe(!1),at(((be=Y.dataTransfer.files)==null?void 0:be[0])??null))},className:me("flex min-h-[70px] w-full items-center justify-between gap-3 rounded-xl border border-dashed px-3.5 py-3 text-left transition",ze?L?"cursor-pointer border-[#ffbd59] bg-[#ffbd59]/15":"cursor-pointer border-slate-300 bg-slate-50 hover:border-[#ffbd59] hover:bg-[#ffbd59]/10":"cursor-not-allowed border-slate-200 bg-slate-100 text-slate-500"),children:[l.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[l.jsx(QA,{className:"h-4 w-4 text-slate-500"}),ae!=null&&ae.name||ie?"Image selected":"No image"]}),l.jsx("span",{className:"rounded-full border border-slate-300 bg-white px-2.5 py-0.5 text-xs font-medium text-slate-600",children:"Browse"})]}),ie?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-2",children:l.jsx("img",{src:ie,alt:"Product preview",className:"h-24 w-24 rounded-md border border-slate-200 object-cover"})}):null,ae?l.jsxs("p",{className:"text-xs text-slate-500",children:["New file: ",ae.name]}):null]}),ze?l.jsxs(l.Fragment,{children:[l.jsxs(Ce,{type:"button",onClick:()=>void yt(),disabled:x,className:"h-10 w-full rounded-full bg-[#ffbd59] text-[#3b2a06] hover:bg-[#ffbd59]/90",children:[l.jsx(XA,{className:"mr-1.5 h-4 w-4"}),"Submit update"]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Need more info requests will return to Pending review after submit."})]}):null]})]}):null})})]})}const u2={companyName:"",contactName:"",email:"",phone:"",country:"",notes:""},$6e=e=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e));function F6e(){const{customers:e,createCustomer:t,updateCustomer:r,deleteCustomer:n}=jm(),[a,s]=w.useState(u2),[i,o]=w.useState(""),[c,u]=w.useState(null),d=w.useMemo(()=>{const m=i.trim().toLowerCase();return m?e.filter(v=>[v.companyName,v.contactName,v.email,v.country,v.status].join(" ").toLowerCase().includes(m)):e},[e,i]),f=m=>{m.preventDefault(),!(!a.companyName.trim()||!a.contactName.trim()||!a.email.trim())&&(c?r(c,a):t(a),s(u2),u(null))},h=m=>{const v=e.find(y=>y.id===m);v&&(u(m),s({companyName:v.companyName,contactName:v.contactName,email:v.email,phone:v.phone,country:v.country,notes:v.notes}))},p=(m,v)=>{r(m,{status:v==="active"?"paused":"active"})},g=m=>{const v=e.find(y=>y.id===m);v&&window.confirm(`Delete customer ${v.companyName}?`)&&n(m)};return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Customer Management",subtitle:"Edit customer profiles and account status"}),l.jsxs("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{className:"text-lg",children:c?"Edit customer":"Create customer"})}),l.jsx(Bt,{children:l.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:f,children:[l.jsx(ot,{placeholder:"Company name",value:a.companyName,onChange:m=>s(v=>({...v,companyName:m.target.value})),required:!0}),l.jsx(ot,{placeholder:"Contact name",value:a.contactName,onChange:m=>s(v=>({...v,contactName:m.target.value})),required:!0}),l.jsx(ot,{type:"email",placeholder:"Contact email",value:a.email,onChange:m=>s(v=>({...v,email:m.target.value})),required:!0}),l.jsx(ot,{placeholder:"Phone",value:a.phone,onChange:m=>s(v=>({...v,phone:m.target.value}))}),l.jsx(ot,{placeholder:"Country",value:a.country,onChange:m=>s(v=>({...v,country:m.target.value}))}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(fo,{rows:3,placeholder:"Notes",value:a.notes,onChange:m=>s(v=>({...v,notes:m.target.value}))})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:col-span-2",children:[l.jsxs(Ce,{type:"submit",className:"gap-2",children:[l.jsx(xF,{className:"h-4 w-4"}),c?"Save customer":"Add customer"]}),c&&l.jsx(Ce,{type:"button",variant:"outline",onClick:()=>{u(null),s(u2)},children:"Cancel"})]})]})})]}),l.jsxs(Lt,{children:[l.jsxs(tr,{className:"space-y-3",children:[l.jsx(rr,{className:"text-lg",children:"Customer list"}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{className:"pl-9",placeholder:"Search customer, contact, country...",value:i,onChange:m=>o(m.target.value)})]})]}),l.jsx(Bt,{className:"pt-0",children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Company"}),l.jsx(He,{children:"Contact"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Updated"}),l.jsx(He,{className:"text-right",children:"Actions"})]})}),l.jsxs(mn,{children:[d.map(m=>l.jsxs(Tt,{children:[l.jsxs(Me,{children:[l.jsx("p",{className:"font-medium",children:m.companyName}),l.jsx("p",{className:"text-xs text-muted-foreground",children:m.country||"-"})]}),l.jsxs(Me,{children:[l.jsx("p",{children:m.contactName}),l.jsx("p",{className:"text-xs text-muted-foreground",children:m.email})]}),l.jsx(Me,{children:l.jsx(sr,{variant:m.status==="active"?"default":"secondary",children:m.status})}),l.jsx(Me,{className:"text-muted-foreground",children:$6e(m.updatedAt)}),l.jsx(Me,{children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>h(m.id),children:l.jsx(NX,{className:"h-4 w-4"})}),l.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>p(m.id,m.status),children:m.status==="active"?"Pause":"Activate"}),l.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>g(m.id),children:l.jsx(o0,{className:"h-4 w-4"})})]})})]},m.id)),d.length===0&&l.jsx(Tt,{children:l.jsx(Me,{colSpan:5,className:"text-center text-muted-foreground",children:"No customer found."})})]})]})})]})]})]})}const hM=e=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e)),L6e={ready:"default",processing:"secondary",uploading:"outline",error:"destructive"};function B6e(){const{customers:e,adminUsers:t,uploads:r,activityLogs:n,getCustomerName:a}=jm(),s=e.filter(u=>u.status==="active").length,i=r.filter(u=>u.reviewStatus==="pending").length,o=[...r].sort((u,d)=>new Date(d.uploadedAt).getTime()-new Date(u.uploadedAt).getTime()).slice(0,5),c=[...n].sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()).slice(0,8);return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"ORIGO Back Office",subtitle:"Admin dashboard for customer data and uploads"}),l.jsxs("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsxs(rr,{className:"flex items-center gap-2 text-base",children:[l.jsx(Dl,{className:"h-4 w-4"}),"Customers"]})}),l.jsxs(Bt,{children:[l.jsx("p",{className:"text-2xl font-semibold",children:e.length}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[s," active accounts"]})]})]}),l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsxs(rr,{className:"flex items-center gap-2 text-base",children:[l.jsx(HT,{className:"h-4 w-4"}),"Admin Users"]})}),l.jsxs(Bt,{children:[l.jsx("p",{className:"text-2xl font-semibold",children:t.length}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.filter(u=>u.status==="active").length," active users"]})]})]}),l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsxs(rr,{className:"flex items-center gap-2 text-base",children:[l.jsx(yX,{className:"h-4 w-4"}),"Uploads"]})}),l.jsxs(Bt,{children:[l.jsx("p",{className:"text-2xl font-semibold",children:r.length}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[i," pending reviews"]})]})]}),l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsxs(rr,{className:"flex items-center gap-2 text-base",children:[l.jsx(PX,{className:"h-4 w-4"}),"System Health"]})}),l.jsxs(Bt,{children:[l.jsx("p",{className:"text-2xl font-semibold",children:"Stable"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"All core modules online"})]})]})]}),l.jsxs("div",{className:"grid gap-6 xl:grid-cols-5",children:[l.jsxs(Lt,{className:"xl:col-span-3",children:[l.jsx(tr,{children:l.jsx(rr,{className:"text-lg",children:"Recent Uploads"})}),l.jsx(Bt,{className:"pt-0",children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"File"}),l.jsx(He,{children:"Customer"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Review"}),l.jsx(He,{children:"Uploaded"})]})}),l.jsxs(mn,{children:[o.map(u=>l.jsxs(Tt,{children:[l.jsx(Me,{className:"font-medium",children:u.fileName}),l.jsx(Me,{children:a(u.customerId)}),l.jsx(Me,{children:l.jsx(sr,{variant:L6e[u.status]??"outline",children:u.status})}),l.jsx(Me,{className:"capitalize",children:u.reviewStatus}),l.jsx(Me,{className:"text-muted-foreground",children:hM(u.uploadedAt)})]},u.id)),o.length===0&&l.jsx(Tt,{children:l.jsx(Me,{colSpan:5,className:"text-center text-muted-foreground",children:"No uploads yet."})})]})]})})]}),l.jsxs(Lt,{className:"xl:col-span-2",children:[l.jsx(tr,{children:l.jsx(rr,{className:"text-lg",children:"Activity Log"})}),l.jsxs(Bt,{className:"space-y-3 pt-0",children:[c.map(u=>l.jsxs("div",{className:"rounded-lg border bg-secondary/20 p-3",children:[l.jsx("p",{className:"text-sm font-medium",children:u.message}),l.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:u.actor}),l.jsx("span",{children:hM(u.createdAt)})]})]},u.id)),c.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No activity yet."})]})]})]})]})]})}const U6e=e=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e)),pM=["uploading","processing","ready","error"],mM=["updated","pending","cancel"],z6e={ready:"default",processing:"secondary",uploading:"outline",error:"destructive"};function W6e(){const{uploads:e,customers:t,updateUpload:r,deleteUpload:n,getCustomerName:a}=jm(),[s,i]=w.useState(""),[o,c]=w.useState("all"),[u,d]=w.useState("all"),f=w.useMemo(()=>new Map(t.map(g=>[g.id,g])),[t]),h=w.useMemo(()=>e.filter(g=>f.has(g.customerId)),[e,f]),p=w.useMemo(()=>{const g=s.trim().toLowerCase();return h.filter(m=>{const v=f.get(m.customerId),y=!g||[m.fileName,m.description,(v==null?void 0:v.companyName)??"",(v==null?void 0:v.contactName)??"",(v==null?void 0:v.email)??"",m.reviewStatus,m.status].join(" ").toLowerCase().includes(g),b=o==="all"||m.status===o,x=u==="all"||m.reviewStatus===u;return y&&b&&x})},[h,s,o,u,f]);return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Data & Upload Management",subtitle:"Review files submitted by ORIGO-created customer users"}),l.jsxs("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsx(rr,{className:"text-base",children:"Total Files"})}),l.jsx(Bt,{children:l.jsx("p",{className:"text-2xl font-semibold",children:h.length})})]}),l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsx(rr,{className:"text-base",children:"Pending Reviews"})}),l.jsx(Bt,{children:l.jsx("p",{className:"text-2xl font-semibold",children:h.filter(g=>g.reviewStatus==="pending").length})})]}),l.jsxs(Lt,{children:[l.jsx(tr,{className:"pb-3",children:l.jsx(rr,{className:"text-base",children:"Customers Linked"})}),l.jsx(Bt,{children:l.jsx("p",{className:"text-2xl font-semibold",children:new Set(h.map(g=>g.customerId)).size})})]})]}),l.jsxs(Lt,{children:[l.jsxs(tr,{className:"space-y-3",children:[l.jsx(rr,{className:"text-lg",children:"Upload records"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Only files from customer users created and linked by ORIGO are shown here."}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"relative min-w-[260px] flex-1",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{className:"pl-9",placeholder:"Search file, customer user, status...",value:s,onChange:g=>i(g.target.value)})]}),l.jsxs("select",{className:"h-10 rounded-md border bg-background px-3 text-sm",value:o,onChange:g=>c(g.target.value),children:[l.jsx("option",{value:"all",children:"All status"}),pM.map(g=>l.jsx("option",{value:g,children:g},g))]}),l.jsxs("select",{className:"h-10 rounded-md border bg-background px-3 text-sm",value:u,onChange:g=>d(g.target.value),children:[l.jsx("option",{value:"all",children:"All reviews"}),mM.map(g=>l.jsx("option",{value:g,children:g},g))]})]})]}),l.jsx(Bt,{className:"pt-0",children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"File"}),l.jsx(He,{children:"Customer User"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Review"}),l.jsx(He,{children:"Uploaded"}),l.jsx(He,{className:"text-right",children:"Actions"})]})}),l.jsxs(mn,{children:[p.map(g=>{const m=f.get(g.customerId);return l.jsxs(Tt,{children:[l.jsxs(Me,{children:[l.jsx("p",{className:"font-medium",children:g.fileName}),l.jsx("p",{className:"text-xs text-muted-foreground",children:g.fileSize})]}),l.jsxs(Me,{children:[l.jsx("p",{className:"font-medium",children:(m==null?void 0:m.companyName)??a(g.customerId)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:(m==null?void 0:m.email)??g.uploadedBy})]}),l.jsx(Me,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sr,{variant:z6e[g.status],children:g.status}),l.jsx("select",{className:"h-8 rounded-md border bg-background px-2 text-sm",value:g.status,onChange:v=>r(g.id,{status:v.target.value}),children:pM.map(v=>l.jsx("option",{value:v,children:v},v))})]})}),l.jsx(Me,{children:l.jsx("select",{className:"h-8 rounded-md border bg-background px-2 text-sm",value:g.reviewStatus,onChange:v=>r(g.id,{reviewStatus:v.target.value}),children:mM.map(v=>l.jsx("option",{value:v,children:v},v))})}),l.jsx(Me,{className:"text-muted-foreground",children:U6e(g.uploadedAt)}),l.jsx(Me,{children:l.jsx("div",{className:"flex justify-end",children:l.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>n(g.id),children:l.jsx(o0,{className:"h-4 w-4"})})})})]},g.id)}),p.length===0&&l.jsx(Tt,{children:l.jsx(Me,{colSpan:6,className:"text-center text-muted-foreground",children:"No upload records match filters."})})]})]})})]})]})]})}const H6e=e=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e));function V6e(){const{adminUsers:e,createAdminUser:t,updateAdminUser:r}=jm(),[n,a]=w.useState(""),[s,i]=w.useState(""),[o,c]=w.useState(""),[u,d]=w.useState("analyst"),f=w.useMemo(()=>{const p=n.trim().toLowerCase();return p?e.filter(g=>[g.name,g.email,g.role,g.status].join(" ").toLowerCase().includes(p)):e},[e,n]),h=p=>{p.preventDefault(),!(!s.trim()||!o.trim())&&(t({name:s,email:o,role:u}),i(""),c(""),d("analyst"))};return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"User Management",subtitle:"Manage back office users, roles, and access status"}),l.jsxs("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:[l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{className:"text-lg",children:"Invite admin user"})}),l.jsx(Bt,{children:l.jsxs("form",{className:"grid gap-3 md:grid-cols-4",onSubmit:h,children:[l.jsx(ot,{placeholder:"Full name",value:s,onChange:p=>i(p.target.value),required:!0}),l.jsx(ot,{type:"email",placeholder:"Email",value:o,onChange:p=>c(p.target.value),required:!0}),l.jsxs("select",{className:"h-10 rounded-md border bg-background px-3 text-sm",value:u,onChange:p=>d(p.target.value),children:[l.jsx("option",{value:"owner",children:"owner"}),l.jsx("option",{value:"manager",children:"manager"}),l.jsx("option",{value:"analyst",children:"analyst"})]}),l.jsxs(Ce,{type:"submit",className:"gap-2",children:[l.jsx(xF,{className:"h-4 w-4"}),"Add user"]})]})})]}),l.jsxs(Lt,{children:[l.jsxs(tr,{className:"space-y-3",children:[l.jsx(rr,{className:"text-lg",children:"Admin users"}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{className:"pl-9",placeholder:"Search name, email, role...",value:n,onChange:p=>a(p.target.value)})]})]}),l.jsx(Bt,{className:"pt-0",children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"User"}),l.jsx(He,{children:"Role"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Last login"})]})}),l.jsxs(mn,{children:[f.map(p=>l.jsxs(Tt,{children:[l.jsxs(Me,{children:[l.jsx("p",{className:"font-medium",children:p.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.email})]}),l.jsx(Me,{children:l.jsxs("select",{className:"h-8 rounded-md border bg-background px-2 text-sm capitalize",value:p.role,onChange:g=>r(p.id,{role:g.target.value}),children:[l.jsx("option",{value:"owner",children:"owner"}),l.jsx("option",{value:"manager",children:"manager"}),l.jsx("option",{value:"analyst",children:"analyst"})]})}),l.jsx(Me,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sr,{variant:p.status==="active"?"default":p.status==="invited"?"secondary":"destructive",children:p.status}),l.jsxs("select",{className:"h-8 rounded-md border bg-background px-2 text-sm capitalize",value:p.status,onChange:g=>r(p.id,{status:g.target.value}),children:[l.jsx("option",{value:"active",children:"active"}),l.jsx("option",{value:"invited",children:"invited"}),l.jsx("option",{value:"disabled",children:"disabled"})]})]})}),l.jsx(Me,{className:"text-muted-foreground",children:H6e(p.lastLogin)})]},p.id)),f.length===0&&l.jsx(Tt,{children:l.jsx(Me,{colSpan:4,className:"text-center text-muted-foreground",children:"No users found."})})]})]})})]})]})]})}const G6e="",q6e=`${G6e}/api/admin`;function i1(e){return`${q6e}${e}`}async function zr(e,t={}){const r=await fetch(i1(e),{method:t.method||"GET",headers:{"content-type":"application/json","x-admin-role":t.role||"SUPER_ADMIN","x-admin-id":"admin-super","x-admin-email":"super.admin@origo.local"},body:t.body?JSON.stringify(t.body):void 0});if(!r.ok){const n=await r.json().catch(()=>({message:"Request failed"}));throw new Error(n.message||"Request failed")}if(r.status!==204)return r.json()}async function K6e(e){return(await zr(`/customer-context/search?q=${encodeURIComponent(e)}`)).data}async function X6e(e){return(await zr(`/customers/${encodeURIComponent(e)}`)).data}async function Y6e(e,t){return(await zr(`/customers/${e}/profile`,{method:"PATCH",body:t})).data}async function J6e(e,t){return(await zr(`/customers/${e}/account/email`,{method:"PATCH",body:t})).data}async function Q6e(e){return(await zr(`/customers/${e}/uploads`)).data}async function Z6e(e,t){if(t.file){const n=new FormData;n.append("file",t.file),n.append("description",t.description),n.append("uploaded_by",t.uploaded_by),t.file_name&&n.append("file_name",t.file_name),t.file_type&&n.append("file_type",t.file_type);const a=await fetch(i1(`/customers/${e}/uploads`),{method:"POST",headers:{"x-admin-role":"SUPER_ADMIN","x-admin-id":"admin-super","x-admin-email":"super.admin@origo.local"},body:n});if(!a.ok){const i=await a.json().catch(()=>({message:"Request failed"}));throw new Error(i.message||"Request failed")}return(await a.json()).data}return(await zr(`/customers/${e}/uploads`,{method:"POST",body:t})).data}async function gM(e,t,r){return(await zr(`/customers/${e}/uploads/${t}/review`,{method:"PATCH",body:r})).data}async function eBe(e,t,r){await zr(`/customers/${e}/uploads/${t}`,{method:"DELETE",body:{reason:r}})}async function vM(e,t){const r=new URLSearchParams(Object.entries(t).filter(([,a])=>a)).toString();return(await zr(`/customers/${e}/market-intelligence${r?`?${r}`:""}`)).data}async function tBe(e){return(await zr(`/customers/${e}/market-intelligence/source-status`)).data}async function rBe(e,t){return(await zr(`/customers/${e}/market-intelligence/link`,{method:"PUT",body:{companyId:t}})).data}async function nBe(e,t){return(await zr(`/customers/${e}/market-intelligence/records`,{method:"POST",body:t})).data}async function aBe(e,t,r){return(await zr(`/customers/${e}/market-intelligence/records/${t}`,{method:"PATCH",body:r})).data}async function sBe(e,t,r){await zr(`/customers/${e}/market-intelligence/records/${t}`,{method:"DELETE",body:{reason:r}})}async function iBe(e){return(await zr(`/customers/${e}/market-intelligence/presets`)).data}async function oBe(e,t){return(await zr(`/customers/${e}/market-intelligence/presets`,{method:"POST",body:t})).data}async function lBe(e){return(await zr(`/customers/${e}/security/sessions`)).data}async function cBe(e,t){return(await zr(`/customers/${e}/security/sign-out-all`,{method:"POST",body:{reason:t}})).data}async function uBe(e,t){return(await zr(`/customers/${e}/account/reset-password`,{method:"POST",body:{reason:t}})).data}async function dBe(e){return(await zr(`/customers/${e}/inventory`)).data}async function fBe(e){return(await zr(`/customers/${e}/invoices`)).data}async function hBe(e){return(await zr(`/audit-logs?targetId=${encodeURIComponent(e)}`)).data}const pBe={PENDING:"bg-amber-100 text-amber-700",APPROVED:"bg-emerald-100 text-emerald-700",REJECTED:"bg-red-100 text-red-700",CHANGES_REQUESTED:"bg-blue-100 text-blue-700"};function xM(){const{toast:e}=Ff(),[t,r]=w.useState("info@farihealth.com"),[n,a]=w.useState([]),[s,i]=w.useState(!1),[o,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState([]),[p,g]=w.useState([]),[m,v]=w.useState([]),[y,b]=w.useState([]),[x,_]=w.useState([]),[S,E]=w.useState([]),[k,N]=w.useState([]),[T,A]=w.useState(null),[C,j]=w.useState(null),[R,I]=w.useState({market:"",productType:"",dateFrom:"",dateTo:""}),[M,W]=w.useState({company_name:"",contact_name:"",phone:"",country:"",notes:""}),[K,H]=w.useState({newEmail:"",reason:"Requested by customer",forceSignOutAllSessions:!1}),[O,Z]=w.useState({file_name:"",file_type:"",description:"",file:null}),[J,P]=w.useState(""),[G,B]=w.useState({market:"",product_type:"",metric_date:"",value:""}),z=(o==null?void 0:o.customer_id)||"";async function ae(L){try{i(!0);const oe=await K6e(L);a(oe),j(null),!o&&oe.length>0&&c(oe[0])}catch(oe){j(oe instanceof Error?oe.message:"Unable to search customer contexts"),e({title:"Search failed",description:oe instanceof Error?oe.message:"Unable to search customer contexts",variant:"destructive"})}finally{i(!1)}}async function V(L){if(L)try{i(!0);const[oe,D,le,ye,Se,_e,pe,Le,ze]=await Promise.all([X6e(L),Q6e(L),vM(L,R),dBe(L),fBe(L),lBe(L),hBe(L),iBe(L),tBe(L)]);d(oe),j(null),W({company_name:oe.customer.company_name,contact_name:oe.customer.contact_name,phone:oe.customer.phone,country:oe.customer.country,notes:oe.customer.notes}),H(xt=>({...xt,newEmail:oe.account.email})),h(D),g(le),v(ye),b(Se),_(_e),E(pe),N(Le),A(ze),P((ze==null?void 0:ze.company_id)||"")}catch(oe){j(oe instanceof Error?oe.message:"Unable to load customer data"),e({title:"Load failed",description:oe instanceof Error?oe.message:"Unable to load customer data",variant:"destructive"})}finally{i(!1)}}w.useEffect(()=>{ae(t)},[]),w.useEffect(()=>{z&&V(z)},[z]);const ie=w.useMemo(()=>p.map(L=>({date:L.metric_date,value:L.value})),[p]),re=o&&u?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("span",{className:"font-medium",children:u.customer.company_name}),l.jsxs("span",{className:"text-muted-foreground",children:[" | ",u.account.email," (",u.account.username,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sr,{variant:"secondary",children:u.account.role}),l.jsxs(sr,{variant:"secondary",children:["Uploads: ",u.stats.total_uploads]}),l.jsxs(sr,{variant:"secondary",children:["Pending: ",u.stats.pending_uploads]})]})]}):null;return l.jsxs("div",{className:"space-y-4",children:[l.jsx(aa,{title:"Admin Backoffice",subtitle:"Multi-customer operations with context switcher",contextBar:re}),l.jsxs("div",{className:"space-y-4 p-4 md:p-6",children:[l.jsxs(Lt,{children:[l.jsxs(tr,{children:[l.jsx(rr,{children:"Customer Context Switcher"}),l.jsx(Bm,{children:"Search by company, email, or username"})]}),l.jsxs(Bt,{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[l.jsx(ot,{value:t,onChange:L=>r(L.target.value),placeholder:"info@farihealth.com, trrgroup, THAI ROONG RUANG..."}),l.jsx(Ce,{onClick:()=>void ae(t),disabled:s,children:"Search"})]}),l.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:n.map(L=>l.jsxs("button",{type:"button",className:`rounded border p-3 text-left transition ${z===L.customer_id?"border-primary bg-primary/5":"border-border"}`,onClick:()=>c(L),children:[l.jsx("p",{className:"font-medium",children:L.company_name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.email," (",L.username,")"]})]},L.customer_id))})]})]}),C?l.jsx(Lt,{className:"border-destructive/40 bg-destructive/5",children:l.jsxs(Bt,{className:"py-3 text-sm text-destructive",children:["API connection issue: ",C,". Start backend API with `npm run api:dev` or `npm run dev:full`."]})}):null,!o||!u?null:l.jsxs(QH,{defaultValue:"dashboard",className:"space-y-4",children:[l.jsxs(_j,{className:"flex h-auto flex-wrap gap-2",children:[l.jsx(zs,{value:"dashboard",children:"Dashboard"}),l.jsx(zs,{value:"company",children:"My Company"}),l.jsx(zs,{value:"uploads",children:"Upload Center"}),l.jsx(zs,{value:"market",children:"Market Intelligence"}),l.jsx(zs,{value:"inventory",children:"Inventory"}),l.jsx(zs,{value:"invoices",children:"Invoices & Payments"}),l.jsx(zs,{value:"security",children:"Profile & Security"})]}),l.jsx(Ws,{value:"dashboard",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Dashboard"})}),l.jsxs(Bt,{className:"space-y-3",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[l.jsx(Lt,{children:l.jsxs(Bt,{className:"py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total uploads"}),l.jsx("p",{className:"text-2xl font-semibold",children:u.stats.total_uploads})]})}),l.jsx(Lt,{children:l.jsxs(Bt,{className:"py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending review"}),l.jsx("p",{className:"text-2xl font-semibold",children:u.stats.pending_uploads})]})}),l.jsx(Lt,{children:l.jsxs(Bt,{className:"py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),l.jsx("p",{className:"text-2xl font-semibold",children:u.stats.approved_uploads})]})})]}),l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Action"}),l.jsx(He,{children:"Actor"}),l.jsx(He,{children:"Time"})]})}),l.jsx(mn,{children:u.recentActivity.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.action}),l.jsx(Me,{children:L.actor_email}),l.jsx(Me,{children:new Date(L.created_at).toLocaleString()})]},L.id))})]})]})]})}),l.jsx(Ws,{value:"company",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Company Profile"})}),l.jsxs(Bt,{className:"space-y-3",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(cr,{children:"Company Name"}),l.jsx(ot,{value:M.company_name,onChange:L=>W({...M,company_name:L.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(cr,{children:"Contact Name"}),l.jsx(ot,{value:M.contact_name,onChange:L=>W({...M,contact_name:L.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(cr,{children:"Phone"}),l.jsx(ot,{value:M.phone,onChange:L=>W({...M,phone:L.target.value})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(cr,{children:"Country"}),l.jsx(ot,{value:M.country,onChange:L=>W({...M,country:L.target.value})})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(cr,{children:"Notes"}),l.jsx(fo,{value:M.notes,onChange:L=>W({...M,notes:L.target.value})})]}),l.jsx(Ce,{onClick:async()=>{await Y6e(z,M),await V(z),e({title:"Company profile updated"})},children:"Save Profile"})]})]})}),l.jsx(Ws,{value:"uploads",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Upload Center"})}),l.jsxs(Bt,{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 rounded border p-3 md:flex-row",children:[l.jsx(ot,{placeholder:"file_name",value:O.file_name,onChange:L=>Z({...O,file_name:L.target.value})}),l.jsx(ot,{placeholder:"file_type (csv/xlsx/pdf)",value:O.file_type,onChange:L=>Z({...O,file_type:L.target.value})}),l.jsx(ot,{placeholder:"description",value:O.description,onChange:L=>Z({...O,description:L.target.value})}),l.jsx(ot,{type:"file",onChange:L=>{var oe;Z({...O,file:((oe=L.target.files)==null?void 0:oe[0])||null})}}),l.jsx(Ce,{onClick:async()=>{await Z6e(z,{file_name:O.file_name,file_type:O.file_type,description:O.description,uploaded_by:u.account.email,file:O.file}),Z({file_name:"",file_type:"",description:"",file:null}),await V(z),e({title:"Upload created"})},children:"Upload"})]}),l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"File"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Reviewer"}),l.jsx(He,{children:"Actions"})]})}),l.jsx(mn,{children:f.map(L=>l.jsxs(Tt,{children:[l.jsxs(Me,{children:[l.jsx("p",{children:L.file_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:L.file_type})]}),l.jsx(Me,{children:l.jsx(sr,{className:pBe[L.review_status],children:L.review_status})}),l.jsx(Me,{children:L.reviewer_name||"-"}),l.jsxs(Me,{className:"space-x-2",children:[l.jsx(Ce,{variant:"outline",size:"sm",onClick:async()=>{await gM(z,L.id,{review_status:"APPROVED",comment:"Approved by ORIGO reviewer",reason:"Review completed"}),await V(z)},children:"Approve"}),l.jsx(Ce,{variant:"outline",size:"sm",onClick:async()=>{await gM(z,L.id,{review_status:"CHANGES_REQUESTED",comment:"Please update metadata",reason:"Data quality issue"}),await V(z)},children:"Request Changes"}),l.jsx(Ce,{variant:"destructive",size:"sm",onClick:async()=>{await eBe(z,L.id,"Admin cleanup"),await V(z)},children:"Delete"})]})]},L.id))})]})]})]})}),l.jsx(Ws,{value:"market",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Market Intelligence"})}),l.jsxs(Bt,{className:"space-y-3",children:[l.jsxs("div",{className:"grid gap-2 rounded border p-3 md:grid-cols-4",children:[l.jsxs("div",{className:"md:col-span-3",children:[l.jsx(cr,{className:"mb-1 block",children:"Linked Supabase `company_id`"}),l.jsx(ot,{placeholder:"e.g. trrgroup_company_id",value:J,onChange:L=>P(L.target.value)})]}),l.jsx("div",{className:"flex items-end",children:l.jsx(Ce,{className:"w-full",onClick:async()=>{await rBe(z,J),await V(z),e({title:"Market company link updated"})},children:"Link Company"})}),l.jsxs("p",{className:"text-xs text-muted-foreground md:col-span-4",children:["Current link: ",(T==null?void 0:T.company_id)||"not linked"," (",(T==null?void 0:T.source)||"none",")"]})]}),l.jsxs("div",{className:"grid gap-2 md:grid-cols-5",children:[l.jsx(ot,{placeholder:"Market",value:R.market,onChange:L=>I({...R,market:L.target.value})}),l.jsx(ot,{placeholder:"Product Type",value:R.productType,onChange:L=>I({...R,productType:L.target.value})}),l.jsx(ot,{type:"date",value:R.dateFrom,onChange:L=>I({...R,dateFrom:L.target.value})}),l.jsx(ot,{type:"date",value:R.dateTo,onChange:L=>I({...R,dateTo:L.target.value})}),l.jsx(Ce,{onClick:async()=>{const L=await vM(z,R);g(L)},children:"Apply Filters"})]}),l.jsx("div",{className:"h-64 w-full rounded border p-2",children:l.jsx(ay,{width:"100%",height:"100%",children:l.jsxs(KPe,{data:ie,children:[l.jsx(Hl,{dataKey:"date"}),l.jsx(Vl,{}),l.jsx(Ba,{}),l.jsx(Km,{type:"monotone",dataKey:"value",stroke:"#D97706",strokeWidth:2})]})})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Ce,{variant:"outline",onClick:async()=>{await oBe(z,{name:"Saved from admin UI",filters:R}),await V(z)},children:"Save Preset"}),l.jsx(Ce,{variant:"outline",onClick:()=>{window.open(i1(`/customers/${z}/market-intelligence/export.csv`),"_blank")},children:"Export CSV"}),l.jsx(Ce,{variant:"outline",onClick:()=>{window.open(i1(`/customers/${z}/market-intelligence/export.pdf`),"_blank")},children:"Export PDF"})]}),l.jsxs("div",{className:"grid gap-2 rounded border p-3 md:grid-cols-5",children:[l.jsx(ot,{placeholder:"Market (country code)",value:G.market,onChange:L=>B({...G,market:L.target.value})}),l.jsx(ot,{placeholder:"Product type",value:G.product_type,onChange:L=>B({...G,product_type:L.target.value})}),l.jsx(ot,{type:"date",value:G.metric_date,onChange:L=>B({...G,metric_date:L.target.value})}),l.jsx(ot,{type:"number",placeholder:"Weight KG",value:G.value,onChange:L=>B({...G,value:L.target.value})}),l.jsx(Ce,{onClick:async()=>{await nBe(z,{market:G.market,product_type:G.product_type,metric_date:G.metric_date,value:Number(G.value||0),reason:"Admin market update"}),B({market:"",product_type:"",metric_date:"",value:""}),await V(z),e({title:"Market record created"})},children:"Add Record"})]}),l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Date"}),l.jsx(He,{children:"Market"}),l.jsx(He,{children:"Product"}),l.jsx(He,{children:"Weight KG"}),l.jsx(He,{children:"Actions"})]})}),l.jsx(mn,{children:p.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.metric_date}),l.jsx(Me,{children:L.market}),l.jsx(Me,{children:L.product_type}),l.jsx(Me,{children:L.value.toLocaleString()}),l.jsxs(Me,{className:"space-x-2",children:[l.jsx(Ce,{size:"sm",variant:"outline",onClick:async()=>{await aBe(z,L.source_record_id,{market:L.market,product_type:L.product_type,metric_date:L.metric_date,value:L.value+1,reason:"Quick adjust +1 kg from backoffice"}),await V(z)},children:"+1kg"}),l.jsx(Ce,{size:"sm",variant:"destructive",onClick:async()=>{await sBe(z,L.source_record_id,"Removed invalid record"),await V(z)},children:"Delete"})]})]},L.id))})]}),l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Preset"}),l.jsx(He,{children:"Filters"})]})}),l.jsx(mn,{children:k.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.name}),l.jsx(Me,{children:JSON.stringify(L.filters_json)})]},L.id))})]})]})]})}),l.jsx(Ws,{value:"inventory",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Inventory"})}),l.jsx(Bt,{children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"SKU"}),l.jsx(He,{children:"Product"}),l.jsx(He,{children:"Qty"}),l.jsx(He,{children:"Updated"})]})}),l.jsx(mn,{children:m.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.sku}),l.jsx(Me,{children:L.product_name}),l.jsxs(Me,{children:[L.qty," ",L.unit]}),l.jsx(Me,{children:new Date(L.updated_at).toLocaleString()})]},L.id))})]})})]})}),l.jsx(Ws,{value:"invoices",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Invoices & Payments"})}),l.jsx(Bt,{children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Invoice"}),l.jsx(He,{children:"Amount"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Due Date"})]})}),l.jsx(mn,{children:y.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.invoice_no}),l.jsxs(Me,{children:[L.amount.toLocaleString()," ",L.currency]}),l.jsx(Me,{children:L.status}),l.jsx(Me,{children:L.due_date})]},L.id))})]})})]})}),l.jsx(Ws,{value:"security",children:l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{children:"Profile & Security"})}),l.jsxs(Bt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3 rounded border p-3 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1 md:col-span-2",children:[l.jsx(cr,{children:"Customer Email"}),l.jsx(ot,{value:K.newEmail,onChange:L=>H({...K,newEmail:L.target.value})})]}),l.jsxs("div",{className:"space-y-1 md:col-span-3",children:[l.jsx(cr,{children:"Reason (required for sensitive action)"}),l.jsx(ot,{value:K.reason,onChange:L=>H({...K,reason:L.target.value})})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:K.forceSignOutAllSessions,onChange:L=>H({...K,forceSignOutAllSessions:L.target.checked})}),"Force sign-out all sessions"]}),l.jsx("div",{className:"md:col-span-3",children:l.jsx(Ce,{onClick:async()=>{await J6e(z,K),await V(z),e({title:"Customer email updated"})},children:"Update Email"})})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Ce,{variant:"outline",onClick:async()=>{await uBe(z,"Admin requested reset"),await V(z),e({title:"Password reset flow triggered"})},children:"Trigger Password Reset"}),l.jsx(Ce,{variant:"outline",onClick:async()=>{await cBe(z,"Security refresh requested"),await V(z),e({title:"All active sessions revoked"})},children:"Sign Out All Devices"})]}),l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Device"}),l.jsx(He,{children:"IP"}),l.jsx(He,{children:"Last Seen"}),l.jsx(He,{children:"Status"})]})}),l.jsx(mn,{children:x.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.device_label}),l.jsx(Me,{children:L.ip_address}),l.jsx(Me,{children:new Date(L.last_seen_at).toLocaleString()}),l.jsx(Me,{children:L.revoked_at?"Revoked":"Active"})]},L.id))})]}),l.jsxs(Lt,{children:[l.jsx(tr,{children:l.jsx(rr,{className:"text-base",children:"Audit Log (selected customer)"})}),l.jsx(Bt,{children:l.jsxs(hn,{children:[l.jsx(pn,{children:l.jsxs(Tt,{children:[l.jsx(He,{children:"Action"}),l.jsx(He,{children:"Actor"}),l.jsx(He,{children:"Reason"}),l.jsx(He,{children:"Time"})]})}),l.jsx(mn,{children:S.map(L=>l.jsxs(Tt,{children:[l.jsx(Me,{children:L.action}),l.jsx(Me,{children:L.actor_email}),l.jsx(Me,{children:L.reason||"-"}),l.jsx(Me,{children:new Date(L.created_at).toLocaleString()})]},L.id))})]})})]})]})]})})]})]})]})}const yM={DRAFT:"border-slate-200 bg-slate-50 text-slate-700",PENDING_REVIEW:"border-blue-200 bg-blue-50 text-blue-700",NEED_MORE_INFO:"border-amber-200 bg-amber-50 text-amber-700",READY:"border-emerald-200 bg-emerald-50 text-emerald-700",UNLOCKED:"border-violet-200 bg-violet-50 text-violet-700",NOT_SUPPORTED:"border-rose-200 bg-rose-50 text-rose-700"},mBe=[{key:"ALL",label:"All"},{key:"PENDING_REVIEW",label:"Pending"},{key:"NEED_MORE_INFO",label:"Need more info"},{key:"READY",label:"Ready"},{key:"UNLOCKED",label:"Unlocked"}],SV=[{key:"packaging",label:"Packaging"},{key:"application",label:"Application"},{key:"target_market",label:"Target market"},{key:"material",label:"Material"}],bM=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})},gBe=e=>e==="HIGH"?"border-emerald-200 bg-emerald-50 text-emerald-700":e==="MEDIUM"?"border-amber-200 bg-amber-50 text-amber-700":"border-slate-200 bg-slate-50 text-slate-600",vBe=e=>{const t=SV.filter(r=>e[r.key]).map(r=>r.label.toLowerCase());return t.length===0?"Please add required details for ORIGO review.":`Please add: ${t.join(", ")}.`};function xBe(){const{toast:e}=Ff(),[t,r]=w.useState([]),[n,a]=w.useState([]),[s,i]=w.useState(!0),[o,c]=w.useState(!1),[u,d]=w.useState(null),[f,h]=w.useState(""),[p,g]=w.useState("PENDING_REVIEW"),[m,v]=w.useState(null),[y,b]=w.useState(!1),[x,_]=w.useState(""),[S,E]=w.useState(""),[k,N]=w.useState(""),[T,A]=w.useState(""),[C,j]=w.useState({packaging:!1,application:!1,target_market:!1,material:!1}),R=w.useCallback(async()=>{i(!0),d(null);try{const[B,z]=await Promise.all([vj(),IH()]);r(B.rows),a(z.rows)}catch(B){d(B instanceof Error?B.message:"Unable to load product suggestions")}finally{i(!1)}},[]);w.useEffect(()=>{R()},[R]);const I=w.useMemo(()=>{const B=f.trim().toLowerCase();return t.filter(z=>p==="ALL"?!0:z.status===p).filter(z=>B?[z.product_name,z.customer_email,z.customer_workspace,z.hs_code].join(" ").toLowerCase().includes(B):!0).sort((z,ae)=>ae.submitted_at.localeCompare(z.submitted_at))},[t,f,p]),M=w.useMemo(()=>t.find(B=>B.id===m)??null,[t,m]),W=w.useMemo(()=>M?gj(M.product_name,M.hs_code,n):null,[M,n]);w.useEffect(()=>{if(!M){_(""),E(""),N(""),A(""),j({packaging:!1,application:!1,target_market:!1,material:!1});return}_(M.customer_message||""),E(M.admin_note||""),N(M.ready_summary||(W==null?void 0:W.ready_copy)||""),A(W?String(W.buyers_2026_count):""),j(M.missing_info_checklist)},[M,W]);const K=B=>{v(B.id),b(!0)},H=async B=>{if(M){c(!0);try{const z=await DH(M.id,{status:B,customer_message:x,admin_note:S,ready_summary:k,missing_info_checklist:C,updated_by:"ORIGO Admin"},n);if(!z)throw new Error("Product request not found");r(ae=>ae.map(V=>V.id===z.id?z:V)),e({title:B?`Status set to ${Dc[B]}`:"Review saved"})}catch(z){e({title:"Save failed",description:z instanceof Error?z.message:"Unable to update product request",variant:"destructive"})}finally{c(!1)}}},O=async()=>{_(vBe(C)),await H("NEED_MORE_INFO")},Z=async()=>{x.trim()||_("Preview available. Historical proof is now ready."),await H("READY")},J=async()=>{x.trim()||_("Full buyer intelligence is now unlocked."),await H("UNLOCKED")},P=async()=>{x.trim()||_("Not enough matching data to generate reliable opportunity output."),await H("NOT_SUPPORTED")},G=async()=>{if(!W){e({title:"No ready-page match",description:"Map this product to ready_page_products before setting 2026 buyers.",variant:"destructive"});return}const B=Number(T.replace(/,/g,"").trim());if(!Number.isFinite(B)||B<0){e({title:"Invalid number",description:"Enter a valid 2026 potential buyers count.",variant:"destructive"});return}c(!0);try{const z=await bLe(W.id,{buyers_2026_count:Math.floor(B)});if(!z)throw new Error("Ready-page product not found");a(ae=>ae.map(V=>V.id===z.id?z:V)),e({title:"2026 potential buyers updated"})}catch(z){e({title:"Update failed",description:z instanceof Error?z.message:"Unable to update ready-page metrics",variant:"destructive"})}finally{c(!1)}};return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(aa,{title:"Product Suggestion",subtitle:"Backoffice review for customer product opportunity previews"}),l.jsx("div",{className:"flex-1 space-y-6 overflow-auto p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] md:p-6 md:pb-6",children:l.jsxs("section",{className:"rounded-2xl border bg-card/90 backdrop-blur",children:[l.jsxs("div",{className:"border-b border-border/70 px-4 py-4 md:px-5",children:[l.jsx("h2",{className:"text-base font-semibold",children:"Product Queue"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending | Need more info | Ready | Unlocked"})]}),l.jsxs("div",{className:"space-y-4 px-4 py-4 md:px-5 md:py-5",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:mBe.map(B=>l.jsx("button",{type:"button",onClick:()=>g(B.key),className:me("rounded-full border px-3.5 py-1.5 text-sm font-medium transition",p===B.key?"border-[#ffbd59] bg-[#ffbd59]/25 text-[#7a4a00]":"border-border/70 bg-background text-muted-foreground hover:text-foreground"),children:B.label},B.key))}),l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"relative w-full md:max-w-md",children:[l.jsx(Li,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{value:f,onChange:B=>h(B.target.value),placeholder:"Search product, customer, HS code",className:"h-10 rounded-xl bg-background pl-9"})]}),l.jsxs(Ce,{type:"button",variant:"outline",className:"h-10 rounded-full",onClick:()=>void R(),children:[l.jsx(SF,{className:"mr-1.5 h-4 w-4"}),"Refresh"]})]}),s?l.jsx("div",{className:"rounded-xl border border-border/70 bg-card px-4 py-6 text-sm text-muted-foreground",children:"Loading product queue..."}):u?l.jsx("div",{className:"rounded-xl border border-destructive/40 bg-destructive/5 px-4 py-6 text-sm text-destructive",children:u}):I.length===0?l.jsx("div",{className:"rounded-xl border border-dashed border-border/70 bg-card px-4 py-8 text-center text-sm text-muted-foreground",children:"No product requests match this filter."}):l.jsx("div",{className:"overflow-hidden rounded-2xl border border-border/70 bg-card",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[1180px] border-separate border-spacing-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-200/70 bg-slate-50/90",children:[l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"Product"}),l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"Customer / Workspace"}),l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"HS Code"}),l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"Status"}),l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"Submitted"}),l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"Updated by"}),l.jsx("th",{className:"px-5 py-3.5 text-left text-[13px] font-semibold text-slate-600",children:"Last updated"}),l.jsx("th",{className:"px-5 py-3.5 text-right text-[13px] font-semibold text-slate-600",children:"Action"})]})}),l.jsx("tbody",{children:I.map((B,z)=>l.jsxs("tr",{className:z%2===0?"bg-white":"bg-slate-50/30",children:[l.jsxs("td",{className:"px-5 py-3.5",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:B.product_name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Confidence ",B.confidence]})]}),l.jsxs("td",{className:"px-5 py-3.5 text-sm text-slate-700",children:[l.jsx("p",{children:B.customer_workspace||"-"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:B.customer_email||"-"})]}),l.jsx("td",{className:"px-5 py-3.5 text-sm text-slate-700",children:B.hs_code||"-"}),l.jsx("td",{className:"px-5 py-3.5",children:l.jsx("span",{className:me("inline-flex rounded-full border px-2.5 py-0.5 text-[11px] font-semibold uppercase tracking-wide",yM[B.status]),children:Dc[B.status]})}),l.jsx("td",{className:"px-5 py-3.5 text-sm text-slate-700",children:bM(B.submitted_at)}),l.jsx("td",{className:"px-5 py-3.5 text-sm text-slate-700",children:B.updated_by||"-"}),l.jsx("td",{className:"px-5 py-3.5 text-sm text-slate-700",children:bM(B.updated_at)}),l.jsx("td",{className:"px-5 py-3.5 text-right",children:l.jsxs(Ce,{type:"button",variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>K(B),children:[l.jsx(Zd,{className:"mr-1.5 h-3.5 w-3.5"}),"Review"]})})]},B.id))})]})})})]})]})}),l.jsx(ru,{open:y,onOpenChange:b,children:l.jsx(Ll,{className:"max-h-[88vh] overflow-y-auto sm:max-w-4xl",children:M?l.jsxs(l.Fragment,{children:[l.jsxs(Bl,{children:[l.jsx(Ul,{children:M.product_name}),l.jsxs(zl,{children:["Review detail and status transition for ",M.customer_workspace||M.customer_email]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("section",{className:"rounded-xl border border-border/70 bg-card/80 p-4",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Customer"}),l.jsx("p",{className:"text-sm text-slate-900",children:M.customer_email})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Workspace"}),l.jsx("p",{className:"text-sm text-slate-900",children:M.customer_workspace||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"HS Code"}),l.jsx("p",{className:"text-sm text-slate-900",children:M.hs_code||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Status"}),l.jsx("span",{className:me("inline-flex rounded-full border px-2.5 py-0.5 text-[11px] font-semibold uppercase tracking-wide",yM[M.status]),children:Dc[M.status]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Updated by"}),l.jsx("p",{className:"text-sm text-slate-900",children:M.updated_by||"-"})]})]}),l.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Matching confidence"}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:me("inline-flex rounded-full border px-2.5 py-0.5 text-[11px] font-semibold uppercase tracking-wide",gBe(M.confidence)),children:M.confidence}),l.jsx("p",{className:"text-xs text-slate-600",children:"Matched using HS code, product details, and ready-page buyer coverage."})]})]}),l.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-slate-700 md:grid-cols-2",children:[l.jsxs("p",{className:"md:col-span-2",children:[l.jsx("strong",{children:"Product details:"})," ",M.product_details||"-"]}),l.jsxs("p",{className:"md:col-span-2",children:[l.jsx("strong",{children:"Target market:"})," ",M.target_market||"-"]})]})]}),l.jsxs("section",{className:"rounded-xl border border-border/70 bg-card/80 p-4 space-y-3",children:[l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[l.jsx(cr,{children:"Customer-facing message"}),l.jsx(fo,{value:x,onChange:B=>_(B.target.value),placeholder:"Message visible to customer",className:"min-h-[84px]"})]}),l.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[l.jsx(cr,{children:"Ready summary (optional)"}),l.jsx(fo,{value:k,onChange:B=>N(B.target.value),placeholder:"Executive summary shown in Ready preview",className:"min-h-[84px]"})]}),l.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[l.jsx(cr,{children:"Admin note (internal)"}),l.jsx(fo,{value:S,onChange:B=>E(B.target.value),placeholder:"Internal note for ORIGO team",className:"min-h-[84px]"})]})]}),l.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Missing info checklist"}),l.jsx("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:SV.map(B=>l.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-border/60 px-3 py-2 text-sm",children:[l.jsx(sb,{checked:C[B.key],onCheckedChange:z=>j(ae=>({...ae,[B.key]:!!z}))}),l.jsx("span",{children:B.label})]},B.key))})]}),l.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Ready-page metrics (ORIGO Admin)"}),l.jsxs("div",{className:"mt-2 grid gap-3 md:grid-cols-[minmax(0,240px)_auto] md:items-end",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(cr,{children:"2026 potential buyers"}),l.jsx(ot,{value:T,onChange:B=>A(B.target.value),placeholder:"1732",inputMode:"numeric"})]}),l.jsx(Ce,{type:"button",variant:"outline",onClick:()=>void G(),disabled:o||!W,children:"Save 2026 count"})]}),l.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"2023 proof count is computed from rows in `ready_page_buyer_signals` (year 2023)."})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(Ce,{type:"button",variant:"outline",onClick:()=>void H(),disabled:o,children:[l.jsx(Qd,{className:"mr-1.5 h-4 w-4"}),"Save review"]}),l.jsxs(Ce,{type:"button",variant:"outline",onClick:()=>void O(),disabled:o||M.status!=="PENDING_REVIEW",children:[l.jsx(oX,{className:"mr-1.5 h-4 w-4"}),"Mark Need more info"]}),l.jsxs(Ce,{type:"button",variant:"outline",onClick:()=>void Z(),disabled:o||M.status!=="PENDING_REVIEW",children:[l.jsx(EF,{className:"mr-1.5 h-4 w-4"}),"Mark Ready"]}),l.jsxs(Ce,{type:"button",variant:"outline",onClick:()=>void J(),disabled:o||M.status!=="READY",children:[l.jsx(Qd,{className:"mr-1.5 h-4 w-4"}),"Mark Unlocked"]}),l.jsxs(Ce,{type:"button",variant:"outline",className:"border-rose-200 text-rose-700 hover:bg-rose-50",onClick:()=>void P(),disabled:o,children:[l.jsx(OX,{className:"mr-1.5 h-4 w-4"}),"Mark Not supported"]})]}),W?l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ready-page data match: ",W.product_name," (",W.buyers_2023_count.toLocaleString()," buyers in 2023)"]}):l.jsx("p",{className:"text-xs text-muted-foreground",children:"No direct ready-page product match found yet."})]})]})]}):null})})]})}function yBe(){const[e,t]=w.useState(""),[r,n]=w.useState(!1),[a,s]=w.useState(!1),{requestPasswordReset:i}=Pa();return l.jsx("div",{className:"min-h-screen bg-background px-6 py-12",children:l.jsx("div",{className:"mx-auto flex min-h-[80vh] w-full max-w-lg items-center justify-center",children:l.jsxs(Lt,{className:"w-full",children:[l.jsxs(tr,{className:"space-y-2",children:[l.jsx(rr,{children:"Forgot Password"}),l.jsx(Bm,{children:"Enter your email to receive a password reset link."})]}),l.jsxs(Bt,{className:"space-y-4",children:[l.jsxs("form",{className:"space-y-4",onSubmit:async o=>{o.preventDefault(),n(!0),await i(e),n(!1),s(!0)},children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(cr,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(zT,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{id:"email",type:"email",placeholder:"you@company.com",className:"pl-10",value:e,onChange:o=>t(o.target.value),required:!0})]})]}),l.jsx(Ce,{type:"submit",className:"w-full",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),a?l.jsx("p",{className:"rounded-lg border border-border/70 bg-secondary/40 px-3 py-2 text-sm text-muted-foreground",children:"If an account exists, a reset link has been sent."}):null,l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Back to ",l.jsx(U1,{to:"/login",className:"text-primary underline",children:"Sign in"})]})]})]})})})}function bBe(){const[e,t]=w.useState(!1),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,o]=w.useState(null),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,p]=w.useState(!1),g=Ao(),{resetPassword:m}=Pa();return w.useEffect(()=>{let v=!0;return(async()=>{if(!Or||!Ee){v&&o("Authentication is not configured.");return}const{data:b}=await Ee.auth.getSession();if(v){if(!b.session){o("Reset link is invalid or expired. Please request a new one.");return}p(!0)}})(),()=>{v=!1}},[]),l.jsx("div",{className:"min-h-screen bg-background px-6 py-12",children:l.jsx("div",{className:"mx-auto flex min-h-[80vh] w-full max-w-lg items-center justify-center",children:l.jsxs(Lt,{className:"w-full",children:[l.jsxs(tr,{className:"space-y-2",children:[l.jsx(rr,{children:"Reset Password"}),l.jsx(Bm,{children:"Set your new password securely."})]}),l.jsxs(Bt,{className:"space-y-4",children:[l.jsxs("form",{className:"space-y-4",onSubmit:async v=>{if(v.preventDefault(),!h)return;if(r.length<8){o("Password must be at least 8 characters.");return}if(r!==a){o("Passwords do not match.");return}o(null),f(!0);const y=await m(r);if(f(!1),!y.success){o(y.error??"Unable to reset password.");return}u("Password updated successfully. Please sign in again."),setTimeout(()=>g("/login",{replace:!0}),1200)},children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(cr,{htmlFor:"password",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(UT,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(ot,{id:"password",type:e?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",value:r,onChange:v=>n(v.target.value),disabled:!h,required:!0}),l.jsx("button",{type:"button",onClick:()=>t(v=>!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":e?"Hide password":"Show password",children:e?l.jsx(bF,{className:"h-4 w-4"}):l.jsx(Zd,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(cr,{htmlFor:"confirmPassword",children:"Confirm New Password"}),l.jsx(ot,{id:"confirmPassword",type:e?"text":"password",value:a,onChange:v=>s(v.target.value),disabled:!h,required:!0})]}),i?l.jsx("p",{className:"rounded-lg border border-destructive/40 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:i}):null,c?l.jsx("p",{className:"rounded-lg border border-emerald-300 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:c}):null,l.jsx(Ce,{type:"submit",className:"w-full",disabled:d||!h,children:d?"Updating...":"Update Password"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Back to ",l.jsx(U1,{to:"/login",className:"text-primary underline",children:"Sign in"})]})]})]})})})}const wBe=new iZ;function _Be(){const{loading:e,isAuthenticated:t,accountType:r}=Pa();return e?null:t?r==="admin"?l.jsx(Ni,{to:"/admin",replace:!0}):l.jsx(Ni,{to:"/market-intelligence",replace:!0}):l.jsx(Ni,{to:"/login",replace:!0})}function SBe({children:e}){const{loading:t,isAuthenticated:r,accountType:n}=Pa();return t?null:r?n==="admin"?l.jsx(Ni,{to:"/admin",replace:!0}):l.jsx(Ni,{to:"/market-intelligence",replace:!0}):e}function wM({allowedAccountType:e}){const{loading:t,isAuthenticated:r,accountType:n}=Pa();return t?null:r?n!==e?l.jsx(Ni,{to:n==="admin"?"/admin":"/market-intelligence",replace:!0}):l.jsx(rne,{}):l.jsx(Ni,{to:"/login",replace:!0})}const kBe=()=>l.jsx(lZ,{client:wBe,children:l.jsx(Jre,{children:l.jsx(dne,{children:l.jsxs($Q,{delayDuration:0,skipDelayDuration:0,children:[l.jsx(xY,{}),l.jsx(YY,{}),l.jsx(cee,{children:l.jsxs(eee,{children:[l.jsx(lr,{path:"/",element:l.jsx(_Be,{})}),l.jsx(lr,{path:"/login",element:l.jsx(SBe,{children:l.jsx(Zie,{})})}),l.jsx(lr,{path:"/forgot-password",element:l.jsx(yBe,{})}),l.jsx(lr,{path:"/backoffice/login",element:l.jsx(Ni,{to:"/login",replace:!0})}),l.jsx(lr,{path:"/reset-password",element:l.jsx(bBe,{})}),l.jsxs(lr,{element:l.jsx(wM,{allowedAccountType:"customer"}),children:[l.jsx(lr,{path:"/market-intelligence",element:l.jsx(XLe,{})}),l.jsx(lr,{path:"/market-intelligence/company/:companyId",element:l.jsx(d8e,{})}),l.jsx(lr,{path:"/ai-agent",element:l.jsx(w6e,{})}),l.jsx(lr,{path:"/my-company",element:l.jsx(Ni,{to:"/my-company/performance",replace:!0})}),l.jsx(lr,{path:"/my-company/orders",element:l.jsx(q8e,{})}),l.jsx(lr,{path:"/my-company/invoices",element:l.jsx(zie,{})}),l.jsx(lr,{path:"/my-company/inventory",element:l.jsx(Vie,{})}),l.jsx(lr,{path:"/my-company/ai-agent",element:l.jsx(Ni,{to:"/ai-agent",replace:!0})}),l.jsx(lr,{path:"/my-company/performance",element:l.jsx(D8e,{})}),l.jsx(lr,{path:"/upload",element:l.jsx(P6e,{})}),l.jsx(lr,{path:"/upload/edit-data",element:l.jsx(D6e,{})}),l.jsx(lr,{path:"/upload/your-product",element:l.jsx(M6e,{})})]}),l.jsxs(lr,{element:l.jsx(wM,{allowedAccountType:"admin"}),children:[l.jsx(lr,{path:"/admin",element:l.jsx(xM,{})}),l.jsx(lr,{path:"/admin/dashboard",element:l.jsx(B6e,{})}),l.jsx(lr,{path:"/admin/backoffice",element:l.jsx(xM,{})}),l.jsx(lr,{path:"/admin/customers",element:l.jsx(F6e,{})}),l.jsx(lr,{path:"/admin/users",element:l.jsx(V6e,{})}),l.jsx(lr,{path:"/admin/data",element:l.jsx(W6e,{})}),l.jsx(lr,{path:"/admin/products",element:l.jsx(xBe,{})})]}),l.jsx(lr,{path:"*",element:l.jsx(M8e,{})})]})})]})})})});W$(document.getElementById("root")).render(l.jsx(kBe,{}));
